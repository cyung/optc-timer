angular.module("app",["ui.router","ngMaterial","LocalStorageModule","md.data.table","pascalprecht.translate"]),function(){"use strict";function AdminCtrl(adminFactory,userFactory,navbarFactory){function activate(){navbarFactory.setSeo("Admin","Admin page for managing event dates."),adminFactory.getTurtleDates(function(err,globalDates,japanDates){return err?void console.log("err =",err):(self.globalDates=globalDates,void(self.japanDates=japanDates))})}var self=this;self.globalDates=[],self.japanDates=[],self.globalSelected=[],self.japanSelected=[],self.password=userFactory.getPassword(),activate(),self.addBoth=function(){self.addDate("global"),self.addDate("japan")},self.addDate=function(version){var date=self.turtleDate.toISOString().slice(0,10);adminFactory.addTurtleDate(date,version,function(err){return err?void console.log("err =",err):(console.log("Added turtle date"),void activate())})},self.removeSelectedDates=function(){var dates=self.globalSelected.map(function(date){return{turtleDate:date,version:"global"}}).concat(self.japanSelected.map(function(date){return{turtleDate:date,version:"japan"}}));adminFactory.removeTurtleDates(dates,function(err){return err?void console.log("err =",err):void activate()})},self.removePastDates=function(){function getPastDates(version){var oldDates="global"===version?self.globalDates.slice().reverse():self.japanDates.slice().reverse(),oldDates=oldDates.filter(function(date){return moment.utc(date).add(1,"days").isBefore(moment.utc())}).map(function(date){return{turtleDate:date,version:version}});return oldDates=oldDates.slice(0,5*Math.floor(oldDates.length/5))}var oldDates=getPastDates("global").concat(getPastDates("japan"));adminFactory.removeTurtleDates(oldDates,function(err){return err?void console.log("err =",err):(console.log("removed old dates"),void activate())})},self.addQuarter=function(){adminFactory.addQuarter(function(err){err&&console.log("err =",err),activate()})},self.updatePassword=function(){userFactory.setPassword(self.password)}}angular.module("app").controller("AdminCtrl",AdminCtrl),AdminCtrl.$inject=["adminFactory","userFactory","navbarFactory"]}(),function(){"use strict";function adminFactory($http,apiFactory,userFactory){function getTurtleDates(cb){$http.get(apiFactory.getBaseUrl()+"/api/turtle/date").then(function(response){for(var globalDates=[],japanDates=[],i=0;i<response.data.length;i++)"global"===response.data[i].version?globalDates.push(response.data[i].turtleDate):japanDates.push(response.data[i].turtleDate);cb(null,globalDates,japanDates)})["catch"](function(){cb("unable to get turtle dates")})}function addQuarter(cb){function addDateToArray(arr,turtleDate,version){arr.push({turtleDate:turtleDate,version:version})}for(var NUM_WEEKS=13,dates=[],start=moment.utc().startOf("isoWeek"),i=0;NUM_WEEKS>i;i++)addDateToArray(dates,start.format("YYYY-MM-DD"),"global"),addDateToArray(dates,start.format("YYYY-MM-DD"),"japan"),start.add("4","days"),addDateToArray(dates,start.format("YYYY-MM-DD"),"japan"),start.add("3","days");addTurtleDates(dates,cb)}function addTurtleDates(dates,cb){for(var runCount=0,i=0;i<dates.length;i++)addTurtleDate(dates[i].turtleDate,dates[i].version,function(err){err&&console.log("err =",err),++runCount===dates.length&&cb()})}function addTurtleDate(dateString,version,cb){var turtleDate=convertToUTC(dateString);$http.post(apiFactory.getBaseUrl()+"/api/turtle/date",{turtleDate:turtleDate,version:version,password:userFactory.getPassword()}).then(function(){cb(null)})["catch"](function(){cb("Unable to send message")})}function removeTurtleDates(dates,cb){dates=dates.map(function(date){return{turtleDate:convertToUTC(date.turtleDate),version:date.version,password:userFactory.getPassword()}}),console.log("dates =",dates);for(var runCount=0,i=0;i<dates.length;i++)removeTurtleDate(dates[i],function(err){err&&console.log("err =",err),++runCount===dates.length&&cb()})}function removeTurtleDate(turtleDate,cb){var params={params:turtleDate};$http["delete"](apiFactory.getBaseUrl()+"/api/turtle/date",params).then(function(){cb(null)})["catch"](function(){cb("Unable to delete "+params.turtleDate)})}function convertToUTC(dateString){return moment.utc(dateString).format("x")}var services={addTurtleDate:addTurtleDate,addTurtleDates:addTurtleDates,removeTurtleDates:removeTurtleDates,getTurtleDates:getTurtleDates,addQuarter:addQuarter};return services}angular.module("app").factory("adminFactory",adminFactory),adminFactory.$inject=["$http","apiFactory","userFactory"]}(),function(){"use strict";function barrelCtrl($mdMedia,userFactory,barrelFactory,navbarFactory){function setParams(){navbarFactory.setSeo("Barrel Breaking","Look up when to play the friend game with this up-to-date chart."),self.version=userFactory.getVersion(),self.barrelTimes=barrelFactory.getBarrelTimes(),self.format=userFactory.getDetailedHourStatus()}var self=this;setParams(),self.updateVersion=function(){userFactory.setVersion(self.version),self.barrelTimes=barrelFactory.getBarrelTimes()},self.isLargeScreen=function(){return $mdMedia("gt-md")},self.showHours=function(){userFactory.setDetailedHourStatus(self.format)}}angular.module("app").controller("BarrelCtrl",barrelCtrl),barrelCtrl.$inject=["$mdMedia","userFactory","barrelFactory","navbarFactory"]}(),function(){"use strict";function barrelFactory(userFactory){function getBarrelTimes(){function getTime(dayNum){var startOfDay=start.clone().add(dayNum,"days"),wood=[0,5,4,9,3,8,4,9,2,7,3,8,1,6,2,7,0,5,1,6],silver=[1,6,2,7,0,5,1,6,0,5,4,9,3,8,4,9,2,7,3,8],gold=[3,8,2,7,1,6,0,5,4,9],offset=dayNum+dayOfYear+4,index1=4*offset%20,index2=2*offset%10,woodDigits=wood.slice(index1,index1+4),silverDigits=silver.slice(index1,index1+4),goldDigits=gold.slice(index2,index2+2),date=startOfDay.format("YYYY-MM-DD");return{date:date,woodDigits:woodDigits,silverDigits:silverDigits,goldDigits:goldDigits,hourDisplay:hourDisplay}}for(var version=userFactory.getVersion(),NUM_DAYS=5,barrelTimes=[],data=getStartEndTimes(version),start=data.start,end=data.end,hourDisplay=start.clone().local().format("HH:mm")+"-"+end.clone().local().format("HH:mm"),dayOfYear=start.dayOfYear(),i=0;NUM_DAYS>i;i++)barrelTimes.push(getTime(i));return barrelTimes}function getStartEndTimes(version){var now=moment(),hourOffset="global"===version?12:6,start=moment.utc().startOf("day").add(hourOffset,"hours"),end=start.clone().add(23,"hours").add(59,"minutes");return now.isAfter(end)&&(start.add(1,"day"),end.add(1,"day")),{start:start,end:end}}var services={getBarrelTimes:getBarrelTimes};return services}angular.module("app").factory("barrelFactory",barrelFactory),barrelFactory.$inject=["userFactory"]}(),angular.module("app").config(function($translateProvider){$translateProvider.translations("en",{NAV_TURTLE:"Turtle Time",NAV_BARREL:"Barrel Breaking",NAV_EVENT:"Event",NAV_CONTACT:"Contact Me",NAV_SETTINGS:"Settings",TT_TITLE:"Turtle Time Calculator",TT_DIGIT:"6th digit of ID",TT_FORMAT:"Time Format",TT_STANDARD:"Standard",TT_MILITARY:"24hr format",TT_TIMEZONE:"Time Zone:",TT_SEEMORE:"See More",TT_ADD_CALENDAR:"Add to Calendar",TT_NOTIFICATION:"Chrome/Android Notifications",TT_HTML_NOTIFICATION:"HTML Notifications",TT_NOTIF_TEST:"Example Chrome/Android Notification",TT_HTML_NOTIF_TEST:"Example HTML Notification",TT_NOTIF_MINUTES:"Notification time in advance",TT_MINUTES:"Minutes",TT_NOTIF_SOUND:"Play sound",TT_NOTIF_EXAMPLE:"Example",BB_TITLE:"Barrel Breaking",BB_TIME:"Time till next rotation:",BB_ALT:"Show Hours",BB_DATE:"Date",BB_WOODEN:"Wooden",BB_SILVER:"Silver",BB_GOLD:"Gold"}).translations("de",{NAV_TURTLE:"Turtle Zeiten",NAV_BARREL:"Friend Game",NAV_EVENT:"Ereignis",NAV_CONTACT:"Kontaktiere Mich",NAV_SETTINGS:"Einstellungen",TT_TITLE:"Turtle Zeiten Rechner",TT_DIGIT:"6te Ziffer der ID",TT_FORMAT:"Zeitformat",TT_STANDARD:"Standard",TT_MILITARY:"24-Stunden",TT_TIMEZONE:"Zeitzone:",TT_SEEMORE:"siehe mehr",TT_ADD_CALENDAR:"Zum Kalender hinzufügen",TT_NOTIFICATION:"Chrome/Android Benachrichtigung",TT_HTML_NOTIFICATION:"HTML Benachrichtigung",TT_NOTIF_TEST:"Beispiel Chrome/Android Benachrichtigung",TT_HTML_NOTIF_TEST:"Beispiel HTML Benachrichtigung",TT_NOTIF_MINUTES:"HTML-Benachrichtigung",TT_MINUTES:"Minuten",TT_NOTIF_SOUND:"Ton abspielen",TT_NOTIF_EXAMPLE:"Beispiel",BB_TITLE:"Barrel Breaking",BB_TIME:"Zeit bis zum nächsten Wechsel:",BB_ALT:"Anzeige Stunden",BB_DATE:"Datum",BB_WOODEN:"Holz",BB_SILVER:"Silber",BB_GOLD:"Gold"}).translations("es",{NAV_TURTLE:"Horario Tortugas",NAV_BARREL:"Friend Game",NAV_EVENT:"Evento",NAV_CONTACT:"Contáctame",NAV_SETTINGS:"Configuración",TT_TITLE:"Horario Tortugas Calculadora",TT_DIGIT:"6th dígito de ID",TT_FORMAT:"formato de tiempo",TT_STANDARD:"estándar",TT_MILITARY:"24 horas",TT_TIMEZONE:"Zona Horaria:",TT_SEEMORE:"ver más",TT_ADD_CALENDAR:"Añadir al calendario",TT_NOTIFICATION:"Notificaciones de Chrome/Android",TT_HTML_NOTIFICATION:"Notificaciones de HTML",TT_NOTIF_TEST:"Test Chrome/Android Notification",TT_HTML_NOTIF_TEST:"Test HTML Notification",TT_NOTIF_MINUTES:"Minutos antes de evento",TT_MINUTES:"Minutos",TT_NOTIF_SOUND:"Reproducir sonido",TT_NOTIF_EXAMPLE:"Ejemplo",BB_TITLE:"Friend Game",BB_TIME:"Tiempo hasta la próxima rotación:",BB_ALT:"Mostrar las horas",BB_DATE:"Fecha",BB_WOODEN:"Madera",BB_SILVER:"Plata",BB_GOLD:"Oro"}).translations("fr",{NAV_TURTLE:"Horaires des Tortues",NAV_BARREL:"Partie d'amis",NAV_EVENT:"Event",NAV_CONTACT:"Me Contacter",NAV_SETTINGS:"Réglages",TT_TITLE:"Calculateur de l'Horaire des Tortues",TT_DIGIT:"6eme chiffre ID",TT_FORMAT:"format de l'heure",TT_STANDARD:"normale",TT_MILITARY:"24h",TT_TIMEZONE:"Fuseau Horaire:",TT_SEEMORE:"Lire la suite",TT_ADD_CALENDAR:"Ajouter au Calendrier",TT_NOTIFICATION:"Notifications Google/Android",TT_HTML_NOTIFICATION:"Notifications HTML",TT_NOTIF_TEST:"Test Chrome/Android Notification",TT_HTML_NOTIF_TEST:"Test HTML Notification",TT_NOTIF_MINUTES:"Temps Restant avant Event",TT_MINUTES:"Minutes",TT_NOTIF_SOUND:"Jouer le son",TT_NOTIF_EXAMPLE:"Exemple",BB_TITLE:"Éclatement du Tonneau",BB_TIME:"Temps jusqu'à la Prochaine Rotation:",BB_ALT:"Afficher les Heures",BB_DATE:"Date",BB_WOODEN:"Bois",BB_SILVER:"Argent",BB_GOLD:"Or"}),$translateProvider.preferredLanguage("en"),$translateProvider.useSanitizeValueStrategy("escaped")}),function(){"use strict";function contactCtrl($http,apiFactory,navbarFactory){var self=this;self.subjects=["Incorrect Turtle Time","Report a bug","Other"],self.message={},navbarFactory.setSeo("Contact Me","Find a bug? Have a question or feedback? Contact me and let me know."),self.isTurtleBug=function(){return void 0===self.message.subject?!1:"Incorrect Turtle Time"===self.message.subject},self.sendMessage=function(){self.status="Sending...",$http.post(apiFactory.getBaseUrl()+"/contact",self.message).then(function(){self.status="Sent!"})["catch"](function(){self.status="Error sending. Please try again later."})}}angular.module("app").controller("ContactCtrl",contactCtrl),contactCtrl.$inject=["$http","apiFactory","navbarFactory"]}(),function(){"use strict";function eventsCtrl($mdMedia,userFactory,eventsFactory,navbarFactory){function setParams(){navbarFactory.setSeo("Events","Event information and and up-to-date table on story isle bonuses."),self.version=userFactory.getVersion(),self.eventTimes=eventsFactory.getEventTimes(),self.format=userFactory.getDetailedHourStatus()}var self=this;setParams(),self.updateVersion=function(){userFactory.setVersion(self.version),self.eventTimes=eventsFactory.getEventTimes()},self.isLargeScreen=function(){return $mdMedia("gt-md")},self.showHours=function(){userFactory.setDetailedHourStatus(self.format)}}angular.module("app").controller("EventsCtrl",eventsCtrl),eventsCtrl.$inject=["$mdMedia","userFactory","eventsFactory","navbarFactory"]}(),function(){"use strict";function eventsFactory(userFactory){function getEventTimes(){function getTime(dayNum){var offset=dayNum+dayOfYear+3;offset%=7;var drop=dropTable[offset].split(","),stamina=staminaTable[offset].split(","),beli=beliTable[offset].split(","),startDate=start.clone().add(dayNum,"days"),hourOffset="global"===version?23:11,end=startDate.clone().add(hourOffset,"hours").add(59,"minutes"),date=startDate.format("YYYY-MM-DD"),hourString=startDate.format("HH:mm")+"-"+end.format("HH:mm");return{date:date,hourDisplay:hourString,drop:drop,stamina:stamina,beli:beli}}for(var version=userFactory.getVersion(),NUM_DAYS=5,dropTable=["Loguetown, Jaya","Arlong Park, Alubarna","Baratie, Nanohana Rainbase","Syrup Village, Drum Island","Orange Town, Little Garden","Shell Town, Whiskey Peak, Ark Maxim","Alvida's Hideout, Twin Cape, Skypia"],staminaTable=["Orange Town, Drum Island","Shell Town, Little Garden","Alvida's Hideout, Whiskey Peak, Ark Maxim","Fuschia Village, Twin Cape, Skypia","Loguetown, Jaya","Arlong Park, Alubarna","Baratie, Nanohana Rainbase"],beliTable=["Baratie, Whiskey Peak, Ark Maxim","Syrup Village, Twin Cape, Skypia","Loguetown, Jaya","Arlong Park, Alubarna","Baratie, Nanohana Rainbase","Syrup Village, Drum Island","Little Garden"],start=getStartTime(version),dayOfYear=start.dayOfYear(),eventTimes=[],i=0;NUM_DAYS>i;i++)eventTimes.push(getTime(i));return eventTimes}function getStartTime(version){var hourOffset="global"===version?8:2,start=moment.utc().startOf("day").add(hourOffset,"hours"),now=moment();return now.isAfter(start)&&start.subtract(1,"day"),start}var services={getEventTimes:getEventTimes};return services}angular.module("app").factory("eventsFactory",eventsFactory),eventsFactory.$inject=["userFactory"]}(),function(){"use strict";function apiFactory(){function getBaseUrl(){return"localhost"==document.location.hostname?"http://localhost:3000":"https://optctimer.com"}var services={getBaseUrl:getBaseUrl};return services}angular.module("app").factory("apiFactory",apiFactory),apiFactory.$inject=[]}(),function(){"use strict";function calendarFactory(userFactory){function getCalendar(){for(var begin,end,now=moment(),turtleTimes=userFactory.getTurtleTimes().filter(function(turtleTime){return now.isBefore(turtleTime)}),cal=ics(),subject="OPTC Turtle Time",description="One Piece Treasure Cruise Turtle Time",location="OPTC",i=0;4>i;i++)begin=turtleTimes[i].format(),end=turtleTimes[i].clone().add(30,"minutes").format(),cal.addEvent(subject,description,location,begin,end);cal.download("turtle_times",".ics")}var services={getCalendar:getCalendar};return services}angular.module("app").factory("calendarFactory",calendarFactory),calendarFactory.$inject=["userFactory"]}(),function(){"use strict";function htmlNotificationFactory(userFactory){function isEnabled(){var mobileAndTabletCheck=(/iPad|iPhone|iPod/.test(navigator.userAgent),function(){var check=!1;return function(a){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))&&(check=!0)}(navigator.userAgent||navigator.vendor||window.opera),check});return"Notification"in window&&!mobileAndTabletCheck()?(Notification.requestPermission(),!0):!1}function setNotifications(){for(var timeUntil,turtleTimes=userFactory.getTurtleTimes(),soundEnabled=userFactory.getHtmlNotificationSoundStatus(),now=moment(),minutes=userFactory.getTimeBeforeNotification(),options={body:minutes+" minutes till Turtle Time!",icon:"favicon.ico"},end=moment().add(3,"days"),i=0;i<turtleTimes.length;i++)now.isAfter(turtleTimes[i])||turtleTimes[i].isAfter(end)||(timeUntil=turtleTimes[i].format("x")-now.format("x"),timeUntil-=1e3*minutes,0>timeUntil||isNaN(timeUntil)||(void 0!==notifications[i]&&clearTimeout(notifications[i]),notifications[i]=setTimeout(function(){new Notification("OPTC Turtle Time",options);soundEnabled&&sound.play()},timeUntil)))}function playExample(){var minutes=userFactory.getTimeBeforeNotification(),soundEnabled=userFactory.getHtmlNotificationSoundStatus(),options={body:minutes+" minutes till Turtle Time!",icon:"../images/flag.png"};new Notification("OPTC Turtle Time",options);soundEnabled&&sound.play()}var services={isEnabled:isEnabled,setNotifications:setNotifications,playExample:playExample},notifications=[],sound=new Audio("sounds/notification.mp3");return services}angular.module("app").factory("htmlNotificationFactory",htmlNotificationFactory),htmlNotificationFactory.$inject=["userFactory"]}(),function(){"use strict";function notificationFactory($http,userFactory,apiFactory){function isEnabled(){return"serviceWorker"in navigator}function attachWorker(){return new Promise(function(resolve,reject){isEnabled()?navigator.serviceWorker.register("service-worker.js").then(function(){return navigator.serviceWorker.ready}).then(function(serviceWorkerRegistration){reg=serviceWorkerRegistration,console.log("Service Worker is ready."),resolve()})["catch"](function(err){console.log("Service Worker Error."),reject(err)}):reject("service workers not supported")})}function subscribe(cb){function aux(){reg.pushManager.getSubscription().then(function(pushSubscription){return pushSubscription?(sub=pushSubscription,sendSubscriptionToServer(),cb(null)):void reg.pushManager.subscribe({userVisibleOnly:!0}).then(function(pushSubscription){sub=pushSubscription,console.log("endpoint =",sub.endpoint),console.log("Subscribed."),sendSubscriptionToServer(),cb(null)})["catch"](function(err){console.log("Unable to subscribe."),cb(err)})})}reg?aux():attachWorker().then(function(){aux()})["catch"](function(err){console.log(err)})}function unsubscribe(cb){sub.unsubscribe().then(function(event){console.log("Unsubscribed.",event),cb(null)})["catch"](function(err){console.log("Error unsubscribing."),cb(err)})}function sendSubscriptionToServer(){var endpoint=sub.endpoint;if(endpoint.match(/^https:\/\/android\.googleapis\.com\/gcm\/send/)){var registrationId=endpoint.match(/(?:.*?)send\/(.*)$/)[1];endpoint="https://android.googleapis.com/gcm/send",userFactory.setRegistrationId(registrationId)}}function playExample(){var data={registrationIds:[userFactory.getRegistrationId()]};console.log("data =",data),$http.post(apiFactory.getBaseUrl()+"/api/gcm",data).then(function(){console.log("sent to server")})["catch"](function(){console.log("error posting to server")})}var reg,sub,services={isEnabled:isEnabled,subscribe:subscribe,unsubscribe:unsubscribe,playExample:playExample};return services}angular.module("app").factory("notificationFactory",notificationFactory),notificationFactory.$inject=["$http","userFactory","apiFactory"]}(),function(){"use strict";function timeFactory($http,userFactory,apiFactory){function getTurtleTimes(cb){var params={params:{digit:userFactory.getDigit(),timeFormat:userFactory.getTimeFormat(),version:userFactory.getVersion(),numOfDays:3}};$http.get(apiFactory.getBaseUrl()+"/api/turtle",params).then(function(response){userFactory.setTurtleTimes(response.data.map(function(time){return moment.utc(time)}));var turtleTimes=getFormattedTimes(response.data);cb(null,turtleTimes)})["catch"](function(err){cb(err)})}function getFormattedTimes(turtleTimes){var timeFormat=userFactory.getTimeFormat();return turtleTimes.map(function(timeStr){var time,date,turtleTime=moment.utc(timeStr);return"standard"===timeFormat?time=turtleTime.local().format("h:mm a"):"military"===timeFormat&&(time=turtleTime.local().format("HH:mm")),date=turtleTime.local().format("LL"),{time:time,date:date}})}var services={getTurtleTimes:getTurtleTimes};return services}angular.module("app").factory("timeFactory",timeFactory),timeFactory.$inject=["$http","userFactory","apiFactory"]}(),function(){"use strict";function turtleCtrl($scope,userFactory,timeFactory,notificationFactory,htmlNotificationFactory,calendarFactory,navbarFactory){function setParams(){navbarFactory.setSeo("Turtle Time Calculator","Determine your upcoming turtle time on this automatically-updating calculator and and receive a push notification on Android or desktop browser."),self.timezone=userFactory.getTimeZone(),self.digit=userFactory.getDigit(),self.version=userFactory.getVersion(),self.turtleTimes=[],self.notificationStatus=!0,self.htmlNotificationStatus=userFactory.getHtmlNotificationStatus(),self.notificationEnabled=notificationFactory.isEnabled(),self.htmlNotificationEnabled=htmlNotificationFactory.isEnabled(),getTurtleTimes(),toggleNotification()}function toggleNotification(){self.notificationStatus?notificationFactory.subscribe(function(err){return err?(self.notificationStatus=!1,void console.log(err)):void console.log("subscribed")}):notificationFactory.unsubscribe(function(err){return err?(console.log(err),void(self.notificationStatus=!0)):void console.log("unsubscribed")})}function getTurtleTimes(){timeFactory.getTurtleTimes(function(err,turtleTimes){return err?void console.log("unable to retrieve times"):void(self.turtleTimes=turtleTimes)})}var self=this;setParams(),self.toggleNotification=function(){toggleNotification()},self.updateDigit=function(){userFactory.setDigit(self.digit),getTurtleTimes()},self.updateVersion=function(){userFactory.setVersion(self.version),getTurtleTimes()},self.updateHtmlNotificationStatus=function(){userFactory.setHtmlNotificationStatus(self.htmlNotificationStatus),htmlNotificationFactory.setNotifications()},self.playExampleNotification=function(){notificationFactory.playExample()},self.playExampleHtmlNotification=function(){htmlNotificationFactory.playExample()},self.getCalendar=function(){calendarFactory.getCalendar()}}angular.module("app").controller("TurtleCtrl",turtleCtrl),turtleCtrl.$inject=["$scope","userFactory","timeFactory","notificationFactory","htmlNotificationFactory","calendarFactory","navbarFactory"]}(),function(){"use strict";function userFactory(localStorageService,$http,apiFactory,$translate){function loadFromStorage(){digit=localStorageService.get("digit")||0,timeFormat=localStorageService.get("timeFormat")||"standard",version=localStorageService.get("version")||"global",htmlNotificationStatus=localStorageService.get("htmlNotificationStatus")||!1,htmlNotificationSoundStatus=localStorageService.get("htmlNotificationSoundStatus")||!1,timeBeforeNotification=localStorageService.get("timeBeforeNotification")||10,detailedHourStatus=localStorageService.get("detailedHourStatus")||!1,locale=localStorageService.get("locale")||"en",$translate.use(locale),moment.locale(locale),password=localStorageService.get("password")||""}function postUserData(){var data={digit:digit%5,registrationId:registrationId,timeBefore:timeBeforeNotification};$http.post(apiFactory.getBaseUrl()+"/api/users",data).then(function(){console.log("posted subscription to server")})["catch"](function(){console.log("error posting subscription to server")})}function getTimeZone(){return jstz.determine().name()}function getDigit(){return digit}function setDigit(d){digit=d%5,localStorageService.set("digit",d),postUserData()}function getTimeFormat(){return timeFormat}function setTimeFormat(tf){timeFormat=tf,localStorageService.set("timeFormat",tf)}function getVersion(){return version}function setVersion(v){version=v,localStorageService.set("version",v)}function getHtmlNotificationStatus(){return htmlNotificationStatus}function setHtmlNotificationStatus(h){htmlNotificationStatus=h,localStorageService.set("htmlNotificationStatus",h)}function getTurtleTimes(){return turtleTimes}function setTurtleTimes(tt){turtleTimes=tt}function getHtmlNotificationSoundStatus(){return htmlNotificationSoundStatus}function setHtmlNotificationSoundStatus(s){htmlNotificationSoundStatus=s,localStorageService.set("htmlNotificationSoundStatus",s)}function getTimeBeforeNotification(){return timeBeforeNotification}function setTimeBeforeNotification(t){timeBeforeNotification=t,localStorageService.set("timeBeforeNotification",t),postUserData()}function getRegistrationId(){return registrationId}function setRegistrationId(r){registrationId=r,postUserData()}function getDetailedHourStatus(){return detailedHourStatus}function setDetailedHourStatus(d){detailedHourStatus=d,localStorageService.set("detailedHourStatus",d)}function getLocale(){return locale}function setLocale(l){locale=l,localStorageService.set("locale",l),$translate.use(l),moment.locale(locale)}function getPassword(){return password}function setPassword(p){password=p,localStorageService.set("password",p)}var digit,timeFormat,version,htmlNotificationStatus,htmlNotificationSoundStatus,turtleTimes,timeBeforeNotification,registrationId,detailedHourStatus,locale,password,services={getTimeZone:getTimeZone,getDigit:getDigit,setDigit:setDigit,getTimeFormat:getTimeFormat,setTimeFormat:setTimeFormat,getVersion:getVersion,setVersion:setVersion,getHtmlNotificationStatus:getHtmlNotificationStatus,setHtmlNotificationStatus:setHtmlNotificationStatus,getHtmlNotificationSoundStatus:getHtmlNotificationSoundStatus,setHtmlNotificationSoundStatus:setHtmlNotificationSoundStatus,getTurtleTimes:getTurtleTimes,setTurtleTimes:setTurtleTimes,getTimeBeforeNotification:getTimeBeforeNotification,setTimeBeforeNotification:setTimeBeforeNotification,getRegistrationId:getRegistrationId,setRegistrationId:setRegistrationId,getDetailedHourStatus:getDetailedHourStatus,setDetailedHourStatus:setDetailedHourStatus,getLocale:getLocale,setLocale:setLocale,getPassword:getPassword,setPassword:setPassword};return loadFromStorage(),services}angular.module("app").factory("userFactory",userFactory),userFactory.$inject=["localStorageService","$http","apiFactory","$translate"]}(),function(){"use strict";function navbarCtrl($state,$mdSidenav,$translate,$scope,userFactory,navbarFactory){function activate(){self.menu=[{link:"turtle",title:$translate.instant("NAV_TURTLE"),icon:"fa-home"},{link:"barrel",title:$translate.instant("NAV_BARREL"),icon:"fa-users"},{link:"events",title:$translate.instant("NAV_EVENT"),icon:"fa-calendar-o"},{link:"contact",title:$translate.instant("NAV_CONTACT"),icon:"fa-envelope"},{link:"settings",title:$translate.instant("NAV_SETTINGS"),icon:"fa-cogs"}]}var self=this;self.seo=navbarFactory.getSeo(),activate(),self.isSelected=function(title){return $state.current.hasOwnProperty("data")?(self.title=$translate.instant($state.current.data.title),title===self.title):!1},self.toggleSidenav=function(){$mdSidenav("left").toggle()},$scope.$watch(function(){return userFactory.getLocale()},function(){activate()})}angular.module("app").controller("NavbarCtrl",navbarCtrl),navbarCtrl.$inject=["$state","$mdSidenav","$translate","$scope","userFactory","navbarFactory"]}(),function(){"use strict";function navbarFactory(){function getSeo(){return seo}function setSeo(title,description){return seo.pageTitle=title,seo.description=description,seo}var services={getSeo:getSeo,setSeo:setSeo},seo={pageTitle:"Home",description:"Supplement app for One Piece Treasure Cruise to help calculate your turtle times and set notifications."};return services}angular.module("app").factory("navbarFactory",navbarFactory),navbarFactory.$inject=[]}(),function(){"use strict";function settingsCtrl(userFactory,navbarFactory){var self=this;self.languages=[{language:"English",abbrev:"en"},{language:"Deutsch",abbrev:"de"},{language:"Español",abbrev:"es"},{language:"français",abbrev:"fr"}],navbarFactory.setSeo("Settings","Adjust your language and customize your notification settings."),self.timeFormat=userFactory.getTimeFormat(),self.htmlNotificationSoundStatus=userFactory.getHtmlNotificationSoundStatus(),self.timeBeforeNotification=userFactory.getTimeBeforeNotification(),self.locale=userFactory.getLocale(),self.setTimeFormat=function(){userFactory.setTimeFormat(self.timeFormat)},self.setHtmlNotificationSoundStatus=function(){userFactory.setHtmlNotificationSoundStatus(self.htmlNotificationSoundStatus)},self.updateTimeBefereNotification=function(){userFactory.setTimeBeforeNotification(self.timeBeforeNotification)},self.updateLocale=function(){userFactory.setLocale(self.locale)}}angular.module("app").controller("SettingsCtrl",settingsCtrl),settingsCtrl.$inject=["userFactory","navbarFactory"]}(),function(){"use strict";function config($stateProvider,$urlRouterProvider,$locationProvider){$urlRouterProvider.otherwise("/turtle"),$stateProvider.state("turtle",{url:"/turtle",templateUrl:"turtle/turtle.html",controller:"TurtleCtrl",controllerAs:"turtle",data:{title:"NAV_TURTLE"}}).state("barrel",{url:"/barrel",templateUrl:"barrel/barrel.html",controller:"BarrelCtrl",controllerAs:"barrel",data:{title:"NAV_BARREL"}}).state("events",{url:"/events",templateUrl:"events/events.html",controller:"EventsCtrl",controllerAs:"events",data:{title:"NAV_EVENT"}}).state("contact",{url:"/contact",templateUrl:"contact/contact.html",controller:"ContactCtrl",controllerAs:"contact",data:{title:"NAV_CONTACT"}}).state("settings",{url:"/settings",templateUrl:"settings/settings.html",controller:"SettingsCtrl",controllerAs:"settings",data:{title:"NAV_SETTINGS"}}).state("admin",{url:"/admin",templateUrl:"admin/admin.html",controller:"AdminCtrl",controllerAs:"admin",data:{title:"Admin"}}),$locationProvider.hashPrefix("!")}angular.module("app").config(config),config.$inject=["$stateProvider","$urlRouterProvider","$locationProvider"]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImFkbWluQ3RybC5qcyIsImFkbWluRmFjdG9yeS5qcyIsImJhcnJlbEN0cmwuanMiLCJiYXJyZWxGYWN0b3J5LmpzIiwibG9jYWxpemVDb25maWcuanMiLCJjb250YWN0Q3RybC5qcyIsImV2ZW50c0N0cmwuanMiLCJldmVudHNGYWN0b3J5LmpzIiwiYXBpRmFjdG9yeS5qcyIsImNhbGVuZGFyRmFjdG9yeS5qcyIsImh0bWxOb3RpZmljYXRpb25GYWN0b3J5LmpzIiwibm90aWZpY2F0aW9uRmFjdG9yeS5qcyIsInRpbWVGYWN0b3J5LmpzIiwidHVydGxlQ3RybC5qcyIsInVzZXJGYWN0b3J5LmpzIiwibmF2YmFyQ3RybC5qcyIsIm5hdmJhckZhY3RvcnkuanMiLCJzZXR0aW5nc0N0cmwuanMiLCJyb3V0ZS1jb25maWcuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsIkFkbWluQ3RybCIsImFkbWluRmFjdG9yeSIsInVzZXJGYWN0b3J5IiwibmF2YmFyRmFjdG9yeSIsImFjdGl2YXRlIiwic2V0U2VvIiwiZ2V0VHVydGxlRGF0ZXMiLCJlcnIiLCJnbG9iYWxEYXRlcyIsImphcGFuRGF0ZXMiLCJjb25zb2xlIiwibG9nIiwic2VsZiIsInRoaXMiLCJnbG9iYWxTZWxlY3RlZCIsImphcGFuU2VsZWN0ZWQiLCJwYXNzd29yZCIsImdldFBhc3N3b3JkIiwiYWRkQm90aCIsImFkZERhdGUiLCJ2ZXJzaW9uIiwiZGF0ZSIsInR1cnRsZURhdGUiLCJ0b0lTT1N0cmluZyIsInNsaWNlIiwiYWRkVHVydGxlRGF0ZSIsInJlbW92ZVNlbGVjdGVkRGF0ZXMiLCJkYXRlcyIsIm1hcCIsImNvbmNhdCIsInJlbW92ZVR1cnRsZURhdGVzIiwicmVtb3ZlUGFzdERhdGVzIiwiZ2V0UGFzdERhdGVzIiwib2xkRGF0ZXMiLCJyZXZlcnNlIiwiZmlsdGVyIiwibW9tZW50IiwidXRjIiwiYWRkIiwiaXNCZWZvcmUiLCJNYXRoIiwiZmxvb3IiLCJsZW5ndGgiLCJhZGRRdWFydGVyIiwidXBkYXRlUGFzc3dvcmQiLCJzZXRQYXNzd29yZCIsImNvbnRyb2xsZXIiLCIkaW5qZWN0IiwiJGh0dHAiLCJhcGlGYWN0b3J5IiwiY2IiLCJnZXQiLCJnZXRCYXNlVXJsIiwidGhlbiIsInJlc3BvbnNlIiwiaSIsImRhdGEiLCJwdXNoIiwiYWRkRGF0ZVRvQXJyYXkiLCJhcnIiLCJOVU1fV0VFS1MiLCJzdGFydCIsInN0YXJ0T2YiLCJmb3JtYXQiLCJhZGRUdXJ0bGVEYXRlcyIsInJ1bkNvdW50IiwiZGF0ZVN0cmluZyIsImNvbnZlcnRUb1VUQyIsInBvc3QiLCJyZW1vdmVUdXJ0bGVEYXRlIiwicGFyYW1zIiwic2VydmljZXMiLCJmYWN0b3J5IiwiYmFycmVsQ3RybCIsIiRtZE1lZGlhIiwiYmFycmVsRmFjdG9yeSIsInNldFBhcmFtcyIsImdldFZlcnNpb24iLCJiYXJyZWxUaW1lcyIsImdldEJhcnJlbFRpbWVzIiwiZ2V0RGV0YWlsZWRIb3VyU3RhdHVzIiwidXBkYXRlVmVyc2lvbiIsInNldFZlcnNpb24iLCJpc0xhcmdlU2NyZWVuIiwic2hvd0hvdXJzIiwic2V0RGV0YWlsZWRIb3VyU3RhdHVzIiwiZ2V0VGltZSIsImRheU51bSIsInN0YXJ0T2ZEYXkiLCJjbG9uZSIsIndvb2QiLCJzaWx2ZXIiLCJnb2xkIiwib2Zmc2V0IiwiZGF5T2ZZZWFyIiwiaW5kZXgxIiwiaW5kZXgyIiwid29vZERpZ2l0cyIsInNpbHZlckRpZ2l0cyIsImdvbGREaWdpdHMiLCJob3VyRGlzcGxheSIsIk5VTV9EQVlTIiwiZ2V0U3RhcnRFbmRUaW1lcyIsImVuZCIsImxvY2FsIiwibm93IiwiaG91ck9mZnNldCIsImlzQWZ0ZXIiLCJjb25maWciLCIkdHJhbnNsYXRlUHJvdmlkZXIiLCJ0cmFuc2xhdGlvbnMiLCJOQVZfVFVSVExFIiwiTkFWX0JBUlJFTCIsIk5BVl9FVkVOVCIsIk5BVl9DT05UQUNUIiwiTkFWX1NFVFRJTkdTIiwiVFRfVElUTEUiLCJUVF9ESUdJVCIsIlRUX0ZPUk1BVCIsIlRUX1NUQU5EQVJEIiwiVFRfTUlMSVRBUlkiLCJUVF9USU1FWk9ORSIsIlRUX1NFRU1PUkUiLCJUVF9BRERfQ0FMRU5EQVIiLCJUVF9OT1RJRklDQVRJT04iLCJUVF9IVE1MX05PVElGSUNBVElPTiIsIlRUX05PVElGX1RFU1QiLCJUVF9IVE1MX05PVElGX1RFU1QiLCJUVF9OT1RJRl9NSU5VVEVTIiwiVFRfTUlOVVRFUyIsIlRUX05PVElGX1NPVU5EIiwiVFRfTk9USUZfRVhBTVBMRSIsIkJCX1RJVExFIiwiQkJfVElNRSIsIkJCX0FMVCIsIkJCX0RBVEUiLCJCQl9XT09ERU4iLCJCQl9TSUxWRVIiLCJCQl9HT0xEIiwicHJlZmVycmVkTGFuZ3VhZ2UiLCJ1c2VTYW5pdGl6ZVZhbHVlU3RyYXRlZ3kiLCJjb250YWN0Q3RybCIsInN1YmplY3RzIiwibWVzc2FnZSIsImlzVHVydGxlQnVnIiwidW5kZWZpbmVkIiwic3ViamVjdCIsInNlbmRNZXNzYWdlIiwic3RhdHVzIiwiZXZlbnRzQ3RybCIsImV2ZW50c0ZhY3RvcnkiLCJldmVudFRpbWVzIiwiZ2V0RXZlbnRUaW1lcyIsImRyb3AiLCJkcm9wVGFibGUiLCJzcGxpdCIsInN0YW1pbmEiLCJzdGFtaW5hVGFibGUiLCJiZWxpIiwiYmVsaVRhYmxlIiwic3RhcnREYXRlIiwiaG91clN0cmluZyIsImdldFN0YXJ0VGltZSIsInN1YnRyYWN0IiwiZG9jdW1lbnQiLCJsb2NhdGlvbiIsImhvc3RuYW1lIiwiY2FsZW5kYXJGYWN0b3J5IiwiZ2V0Q2FsZW5kYXIiLCJiZWdpbiIsInR1cnRsZVRpbWVzIiwiZ2V0VHVydGxlVGltZXMiLCJ0dXJ0bGVUaW1lIiwiY2FsIiwiaWNzIiwiZGVzY3JpcHRpb24iLCJhZGRFdmVudCIsImRvd25sb2FkIiwiaHRtbE5vdGlmaWNhdGlvbkZhY3RvcnkiLCJpc0VuYWJsZWQiLCJtb2JpbGVBbmRUYWJsZXRDaGVjayIsInRlc3QiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJjaGVjayIsImEiLCJzdWJzdHIiLCJ2ZW5kb3IiLCJ3aW5kb3ciLCJvcGVyYSIsIk5vdGlmaWNhdGlvbiIsInJlcXVlc3RQZXJtaXNzaW9uIiwic2V0Tm90aWZpY2F0aW9ucyIsInRpbWVVbnRpbCIsInNvdW5kRW5hYmxlZCIsImdldEh0bWxOb3RpZmljYXRpb25Tb3VuZFN0YXR1cyIsIm1pbnV0ZXMiLCJnZXRUaW1lQmVmb3JlTm90aWZpY2F0aW9uIiwib3B0aW9ucyIsImJvZHkiLCJpY29uIiwiaXNOYU4iLCJub3RpZmljYXRpb25zIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsInNvdW5kIiwicGxheSIsInBsYXlFeGFtcGxlIiwiQXVkaW8iLCJub3RpZmljYXRpb25GYWN0b3J5IiwiYXR0YWNoV29ya2VyIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJzZXJ2aWNlV29ya2VyIiwicmVnaXN0ZXIiLCJyZWFkeSIsInNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24iLCJyZWciLCJzdWJzY3JpYmUiLCJhdXgiLCJwdXNoTWFuYWdlciIsImdldFN1YnNjcmlwdGlvbiIsInB1c2hTdWJzY3JpcHRpb24iLCJzdWIiLCJzZW5kU3Vic2NyaXB0aW9uVG9TZXJ2ZXIiLCJ1c2VyVmlzaWJsZU9ubHkiLCJlbmRwb2ludCIsInVuc3Vic2NyaWJlIiwiZXZlbnQiLCJtYXRjaCIsInJlZ2lzdHJhdGlvbklkIiwic2V0UmVnaXN0cmF0aW9uSWQiLCJyZWdpc3RyYXRpb25JZHMiLCJnZXRSZWdpc3RyYXRpb25JZCIsInRpbWVGYWN0b3J5IiwiZGlnaXQiLCJnZXREaWdpdCIsInRpbWVGb3JtYXQiLCJnZXRUaW1lRm9ybWF0IiwibnVtT2ZEYXlzIiwic2V0VHVydGxlVGltZXMiLCJ0aW1lIiwiZ2V0Rm9ybWF0dGVkVGltZXMiLCJ0aW1lU3RyIiwidHVydGxlQ3RybCIsIiRzY29wZSIsInRpbWV6b25lIiwiZ2V0VGltZVpvbmUiLCJub3RpZmljYXRpb25TdGF0dXMiLCJodG1sTm90aWZpY2F0aW9uU3RhdHVzIiwiZ2V0SHRtbE5vdGlmaWNhdGlvblN0YXR1cyIsIm5vdGlmaWNhdGlvbkVuYWJsZWQiLCJodG1sTm90aWZpY2F0aW9uRW5hYmxlZCIsInRvZ2dsZU5vdGlmaWNhdGlvbiIsInVwZGF0ZURpZ2l0Iiwic2V0RGlnaXQiLCJ1cGRhdGVIdG1sTm90aWZpY2F0aW9uU3RhdHVzIiwic2V0SHRtbE5vdGlmaWNhdGlvblN0YXR1cyIsInBsYXlFeGFtcGxlTm90aWZpY2F0aW9uIiwicGxheUV4YW1wbGVIdG1sTm90aWZpY2F0aW9uIiwibG9jYWxTdG9yYWdlU2VydmljZSIsIiR0cmFuc2xhdGUiLCJsb2FkRnJvbVN0b3JhZ2UiLCJodG1sTm90aWZpY2F0aW9uU291bmRTdGF0dXMiLCJ0aW1lQmVmb3JlTm90aWZpY2F0aW9uIiwiZGV0YWlsZWRIb3VyU3RhdHVzIiwibG9jYWxlIiwidXNlIiwicG9zdFVzZXJEYXRhIiwidGltZUJlZm9yZSIsImpzdHoiLCJkZXRlcm1pbmUiLCJuYW1lIiwiZCIsInNldCIsInNldFRpbWVGb3JtYXQiLCJ0ZiIsInYiLCJoIiwidHQiLCJzZXRIdG1sTm90aWZpY2F0aW9uU291bmRTdGF0dXMiLCJzIiwic2V0VGltZUJlZm9yZU5vdGlmaWNhdGlvbiIsInQiLCJyIiwiZ2V0TG9jYWxlIiwic2V0TG9jYWxlIiwibCIsInAiLCJuYXZiYXJDdHJsIiwiJHN0YXRlIiwiJG1kU2lkZW5hdiIsIm1lbnUiLCJsaW5rIiwidGl0bGUiLCJpbnN0YW50Iiwic2VvIiwiZ2V0U2VvIiwiaXNTZWxlY3RlZCIsImN1cnJlbnQiLCJoYXNPd25Qcm9wZXJ0eSIsInRvZ2dsZVNpZGVuYXYiLCJ0b2dnbGUiLCIkd2F0Y2giLCJwYWdlVGl0bGUiLCJzZXR0aW5nc0N0cmwiLCJsYW5ndWFnZXMiLCJsYW5ndWFnZSIsImFiYnJldiIsInVwZGF0ZVRpbWVCZWZlcmVOb3RpZmljYXRpb24iLCJ1cGRhdGVMb2NhbGUiLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIiRsb2NhdGlvblByb3ZpZGVyIiwib3RoZXJ3aXNlIiwic3RhdGUiLCJ1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ZW50IjpbImFuZ3VsYXIubW9kdWxlKCdhcHAnLCBbJ3VpLnJvdXRlcicsICduZ01hdGVyaWFsJywgJ0xvY2FsU3RvcmFnZU1vZHVsZScsICdtZC5kYXRhLnRhYmxlJywgJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnXSk7IiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4gICAgLmNvbnRyb2xsZXIoJ0FkbWluQ3RybCcsIEFkbWluQ3RybCk7XG5cbiAgQWRtaW5DdHJsLiRpbmplY3QgPSBbJ2FkbWluRmFjdG9yeScsICd1c2VyRmFjdG9yeScsICduYXZiYXJGYWN0b3J5J107XG5cbiAgZnVuY3Rpb24gQWRtaW5DdHJsKGFkbWluRmFjdG9yeSwgdXNlckZhY3RvcnksIG5hdmJhckZhY3RvcnkpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgc2VsZi5nbG9iYWxEYXRlcyA9IFtdO1xuICAgIHNlbGYuamFwYW5EYXRlcyA9IFtdO1xuICAgIHNlbGYuZ2xvYmFsU2VsZWN0ZWQgPSBbXTtcbiAgICBzZWxmLmphcGFuU2VsZWN0ZWQgPSBbXTtcbiAgICBzZWxmLnBhc3N3b3JkID0gdXNlckZhY3RvcnkuZ2V0UGFzc3dvcmQoKTtcblxuICAgIGFjdGl2YXRlKCk7XG5cbiAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcbiAgICAgIG5hdmJhckZhY3Rvcnkuc2V0U2VvKCdBZG1pbicsICdBZG1pbiBwYWdlIGZvciBtYW5hZ2luZyBldmVudCBkYXRlcy4nKTtcbiAgICAgIGFkbWluRmFjdG9yeS5nZXRUdXJ0bGVEYXRlcyhmdW5jdGlvbihlcnIsIGdsb2JhbERhdGVzLCBqYXBhbkRhdGVzKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnZXJyID0nLCBlcnIpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGYuZ2xvYmFsRGF0ZXMgPSBnbG9iYWxEYXRlcztcbiAgICAgICAgc2VsZi5qYXBhbkRhdGVzID0gamFwYW5EYXRlcztcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHNlbGYuYWRkQm90aCA9IGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5hZGREYXRlKCdnbG9iYWwnKTtcbiAgICAgIHNlbGYuYWRkRGF0ZSgnamFwYW4nKTtcbiAgICB9O1xuXG4gICAgc2VsZi5hZGREYXRlID0gZnVuY3Rpb24odmVyc2lvbikge1xuICAgICAgdmFyIGRhdGUgPSBzZWxmLnR1cnRsZURhdGUudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG4gICAgICBhZG1pbkZhY3RvcnkuYWRkVHVydGxlRGF0ZShkYXRlLCB2ZXJzaW9uLCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnIgPScsIGVycik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE8tRE86IGFkZCB0b2FzdCBub3RpZmljYXRpb25cbiAgICAgICAgY29uc29sZS5sb2coJ0FkZGVkIHR1cnRsZSBkYXRlJyk7XG4gICAgICAgIGFjdGl2YXRlKCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBzZWxmLnJlbW92ZVNlbGVjdGVkRGF0ZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBkYXRlcyA9IHNlbGYuZ2xvYmFsU2VsZWN0ZWQubWFwKGZ1bmN0aW9uKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0dXJ0bGVEYXRlOiBkYXRlLFxuICAgICAgICAgIHZlcnNpb246ICdnbG9iYWwnLFxuICAgICAgICB9O1xuICAgICAgfSkuY29uY2F0KHNlbGYuamFwYW5TZWxlY3RlZC5tYXAoZnVuY3Rpb24oZGF0ZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR1cnRsZURhdGU6IGRhdGUsXG4gICAgICAgICAgdmVyc2lvbjogJ2phcGFuJyxcbiAgICAgICAgfTtcbiAgICAgIH0pKTtcblxuICAgICAgYWRtaW5GYWN0b3J5LnJlbW92ZVR1cnRsZURhdGVzKGRhdGVzLCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnIgPScsIGVycik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgYWN0aXZhdGUoKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBzZWxmLnJlbW92ZVBhc3REYXRlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG9sZERhdGVzID0gZ2V0UGFzdERhdGVzKCdnbG9iYWwnKS5jb25jYXQoZ2V0UGFzdERhdGVzKCdqYXBhbicpKTtcblxuICAgICAgYWRtaW5GYWN0b3J5LnJlbW92ZVR1cnRsZURhdGVzKG9sZERhdGVzLCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnIgPScsIGVycik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc29sZS5sb2coJ3JlbW92ZWQgb2xkIGRhdGVzJyk7XG5cbiAgICAgICAgYWN0aXZhdGUoKTtcbiAgICAgIH0pO1xuXG4gICAgICBmdW5jdGlvbiBnZXRQYXN0RGF0ZXModmVyc2lvbikge1xuICAgICAgICB2YXIgb2xkRGF0ZXMgPSAodmVyc2lvbiA9PT0gJ2dsb2JhbCcpID8gXG4gICAgICAgICAgc2VsZi5nbG9iYWxEYXRlcy5zbGljZSgpLnJldmVyc2UoKSA6IHNlbGYuamFwYW5EYXRlcy5zbGljZSgpLnJldmVyc2UoKTtcblxuICAgICAgICB2YXIgb2xkRGF0ZXMgPSBvbGREYXRlcy5maWx0ZXIoZnVuY3Rpb24oZGF0ZSkge1xuICAgICAgICAgIHJldHVybiBtb21lbnQudXRjKGRhdGUpLmFkZCgxLCAnZGF5cycpLmlzQmVmb3JlKG1vbWVudC51dGMoKSlcbiAgICAgICAgfSkubWFwKGZ1bmN0aW9uKGRhdGUpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHVydGxlRGF0ZTogZGF0ZSxcbiAgICAgICAgICAgIHZlcnNpb246IHZlcnNpb24sXG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gcmVtb3ZlIHBhc3QgZGF0ZXMgaW4gbXVsdGlwbGVzIG9mIDVcbiAgICAgICAgb2xkRGF0ZXMgPSBvbGREYXRlcy5zbGljZSgwLCBNYXRoLmZsb29yKG9sZERhdGVzLmxlbmd0aC81KSo1KTtcblxuICAgICAgICByZXR1cm4gb2xkRGF0ZXM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgc2VsZi5hZGRRdWFydGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICBhZG1pbkZhY3RvcnkuYWRkUXVhcnRlcihmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnIgPScsIGVycik7XG4gICAgICAgIH1cblxuICAgICAgICBhY3RpdmF0ZSgpO1xuICAgICAgfSlcbiAgICB9O1xuXG4gICAgc2VsZi51cGRhdGVQYXNzd29yZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdXNlckZhY3Rvcnkuc2V0UGFzc3dvcmQoc2VsZi5wYXNzd29yZCk7XG4gICAgfVxuICB9XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyLm1vZHVsZSgnYXBwJylcbiAgICAuZmFjdG9yeSgnYWRtaW5GYWN0b3J5JywgYWRtaW5GYWN0b3J5KTtcblxuICBhZG1pbkZhY3RvcnkuJGluamVjdCA9IFsnJGh0dHAnLCAnYXBpRmFjdG9yeScsICd1c2VyRmFjdG9yeSddO1xuXG4gIGZ1bmN0aW9uIGFkbWluRmFjdG9yeSgkaHR0cCwgYXBpRmFjdG9yeSwgdXNlckZhY3RvcnkpIHtcbiAgICB2YXIgc2VydmljZXMgPSB7XG4gICAgICBhZGRUdXJ0bGVEYXRlOiBhZGRUdXJ0bGVEYXRlLFxuICAgICAgYWRkVHVydGxlRGF0ZXM6IGFkZFR1cnRsZURhdGVzLFxuICAgICAgcmVtb3ZlVHVydGxlRGF0ZXM6IHJlbW92ZVR1cnRsZURhdGVzLFxuICAgICAgZ2V0VHVydGxlRGF0ZXM6IGdldFR1cnRsZURhdGVzLFxuICAgICAgYWRkUXVhcnRlcjogYWRkUXVhcnRlcixcbiAgICB9O1xuXG4gICAgcmV0dXJuIHNlcnZpY2VzO1xuXG4gICAgZnVuY3Rpb24gZ2V0VHVydGxlRGF0ZXMoY2IpIHtcbiAgICAgICRodHRwLmdldChhcGlGYWN0b3J5LmdldEJhc2VVcmwoKSArICcvYXBpL3R1cnRsZS9kYXRlJylcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xuICAgICAgICAgIHZhciBnbG9iYWxEYXRlcyA9IFtdO1xuICAgICAgICAgIHZhciBqYXBhbkRhdGVzID0gW107XG5cbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3BvbnNlLmRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhW2ldLnZlcnNpb24gPT09ICdnbG9iYWwnKSB7XG4gICAgICAgICAgICAgIGdsb2JhbERhdGVzLnB1c2gocmVzcG9uc2UuZGF0YVtpXS50dXJ0bGVEYXRlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGphcGFuRGF0ZXMucHVzaChyZXNwb25zZS5kYXRhW2ldLnR1cnRsZURhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNiKG51bGwsIGdsb2JhbERhdGVzLCBqYXBhbkRhdGVzKTtcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gZXJyb3IoKSB7XG4gICAgICAgICAgY2IoJ3VuYWJsZSB0byBnZXQgdHVydGxlIGRhdGVzJyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gYWRkUXVhcnRlcihjYikge1xuICAgICAgdmFyIE5VTV9XRUVLUyA9IDEzO1xuICAgICAgdmFyIGRhdGVzID0gW107XG5cbiAgICAgIHZhciBzdGFydCA9IG1vbWVudC51dGMoKS5zdGFydE9mKCdpc29XZWVrJyk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTlVNX1dFRUtTOyBpKyspIHtcbiAgICAgICAgYWRkRGF0ZVRvQXJyYXkoZGF0ZXMsIHN0YXJ0LmZvcm1hdCgnWVlZWS1NTS1ERCcpLCAnZ2xvYmFsJyk7XG4gICAgICAgIGFkZERhdGVUb0FycmF5KGRhdGVzLCBzdGFydC5mb3JtYXQoJ1lZWVktTU0tREQnKSwgJ2phcGFuJyk7XG4gICAgICAgIHN0YXJ0LmFkZCgnNCcsICdkYXlzJyk7XG4gICAgICAgIGFkZERhdGVUb0FycmF5KGRhdGVzLCBzdGFydC5mb3JtYXQoJ1lZWVktTU0tREQnKSwgJ2phcGFuJyk7XG4gICAgICAgIHN0YXJ0LmFkZCgnMycsICdkYXlzJyk7XG4gICAgICB9XG5cbiAgICAgIGFkZFR1cnRsZURhdGVzKGRhdGVzLCBjYik7XG5cbiAgICAgIGZ1bmN0aW9uIGFkZERhdGVUb0FycmF5KGFyciwgdHVydGxlRGF0ZSwgdmVyc2lvbikge1xuICAgICAgICBhcnIucHVzaCh7XG4gICAgICAgICAgdHVydGxlRGF0ZTogdHVydGxlRGF0ZSxcbiAgICAgICAgICB2ZXJzaW9uOiB2ZXJzaW9uLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRUdXJ0bGVEYXRlcyhkYXRlcywgY2IpIHtcbiAgICAgIHZhciBydW5Db3VudCA9IDA7XG4gICAgICBcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYWRkVHVydGxlRGF0ZShkYXRlc1tpXS50dXJ0bGVEYXRlLCBkYXRlc1tpXS52ZXJzaW9uLCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZXJyID0nLCBlcnIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICgrK3J1bkNvdW50ID09PSBkYXRlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNiKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZFR1cnRsZURhdGUoZGF0ZVN0cmluZywgdmVyc2lvbiwgY2IpIHtcbiAgICAgIHZhciB0dXJ0bGVEYXRlID0gY29udmVydFRvVVRDKGRhdGVTdHJpbmcpO1xuICAgICAgJGh0dHAucG9zdChhcGlGYWN0b3J5LmdldEJhc2VVcmwoKSArICcvYXBpL3R1cnRsZS9kYXRlJywge1xuICAgICAgICB0dXJ0bGVEYXRlOiB0dXJ0bGVEYXRlLFxuICAgICAgICB2ZXJzaW9uOiB2ZXJzaW9uLFxuICAgICAgICBwYXNzd29yZDogdXNlckZhY3RvcnkuZ2V0UGFzc3dvcmQoKSxcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gc3VjY2VzcygpIHtcbiAgICAgICAgY2IobnVsbCk7XG4gICAgICB9KS5jYXRjaChmdW5jdGlvbiBlcnJvcigpIHtcbiAgICAgICAgY2IoJ1VuYWJsZSB0byBzZW5kIG1lc3NhZ2UnKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlbW92ZVR1cnRsZURhdGVzKGRhdGVzLCBjYikge1xuICAgICAgZGF0ZXMgPSBkYXRlcy5tYXAoZnVuY3Rpb24oZGF0ZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR1cnRsZURhdGU6IGNvbnZlcnRUb1VUQyhkYXRlLnR1cnRsZURhdGUpLFxuICAgICAgICAgIHZlcnNpb246IGRhdGUudmVyc2lvbixcbiAgICAgICAgICBwYXNzd29yZDogdXNlckZhY3RvcnkuZ2V0UGFzc3dvcmQoKSxcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zb2xlLmxvZygnZGF0ZXMgPScsIGRhdGVzKTtcblxuICAgICAgdmFyIHJ1bkNvdW50ID0gMDtcbiAgICAgIFxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICByZW1vdmVUdXJ0bGVEYXRlKGRhdGVzW2ldLCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZXJyID0nLCBlcnIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICgrK3J1bkNvdW50ID09PSBkYXRlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNiKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW1vdmVUdXJ0bGVEYXRlKHR1cnRsZURhdGUsIGNiKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBwYXJhbXM6IHR1cnRsZURhdGUsXG4gICAgICB9O1xuXG4gICAgICAkaHR0cC5kZWxldGUoYXBpRmFjdG9yeS5nZXRCYXNlVXJsKCkgKyAnL2FwaS90dXJ0bGUvZGF0ZScsIHBhcmFtcylcbiAgICAgIC50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3MoKSB7XG4gICAgICAgIGNiKG51bGwpO1xuICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gZXJyb3IoKSB7XG4gICAgICAgIGNiKCdVbmFibGUgdG8gZGVsZXRlICcgKyBwYXJhbXMudHVydGxlRGF0ZSk7XG4gICAgICB9KTtcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIGNvbnZlcnRUb1VUQyhkYXRlU3RyaW5nKSB7XG4gICAgICByZXR1cm4gbW9tZW50LnV0YyhkYXRlU3RyaW5nKS5mb3JtYXQoJ3gnKTtcbiAgICB9XG4gIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuICAuY29udHJvbGxlcignQmFycmVsQ3RybCcsIGJhcnJlbEN0cmwpO1xuXG4gIGJhcnJlbEN0cmwuJGluamVjdCA9IFsnJG1kTWVkaWEnLCAndXNlckZhY3RvcnknLCAnYmFycmVsRmFjdG9yeScsICduYXZiYXJGYWN0b3J5J107XG5cbiAgZnVuY3Rpb24gYmFycmVsQ3RybCgkbWRNZWRpYSwgdXNlckZhY3RvcnksIGJhcnJlbEZhY3RvcnksIG5hdmJhckZhY3RvcnkpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICBzZXRQYXJhbXMoKTtcblxuICAgIGZ1bmN0aW9uIHNldFBhcmFtcygpIHtcbiAgICAgIG5hdmJhckZhY3Rvcnkuc2V0U2VvKCdCYXJyZWwgQnJlYWtpbmcnLCAnTG9vayB1cCB3aGVuIHRvIHBsYXkgdGhlIGZyaWVuZCBnYW1lIHdpdGggdGhpcyB1cC10by1kYXRlIGNoYXJ0LicpO1xuICAgICAgc2VsZi52ZXJzaW9uID0gdXNlckZhY3RvcnkuZ2V0VmVyc2lvbigpO1xuICAgICAgc2VsZi5iYXJyZWxUaW1lcyA9IGJhcnJlbEZhY3RvcnkuZ2V0QmFycmVsVGltZXMoKTtcbiAgICAgIHNlbGYuZm9ybWF0ID0gdXNlckZhY3RvcnkuZ2V0RGV0YWlsZWRIb3VyU3RhdHVzKCk7XG4gICAgfVxuXG4gICAgc2VsZi51cGRhdGVWZXJzaW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICB1c2VyRmFjdG9yeS5zZXRWZXJzaW9uKHNlbGYudmVyc2lvbik7XG4gICAgICBzZWxmLmJhcnJlbFRpbWVzID0gYmFycmVsRmFjdG9yeS5nZXRCYXJyZWxUaW1lcygpO1xuICAgIH07XG5cbiAgICBzZWxmLmlzTGFyZ2VTY3JlZW4gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAkbWRNZWRpYSgnZ3QtbWQnKTtcbiAgICB9O1xuXG4gICAgc2VsZi5zaG93SG91cnMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHVzZXJGYWN0b3J5LnNldERldGFpbGVkSG91clN0YXR1cyhzZWxmLmZvcm1hdCk7XG4gICAgfVxuICB9XG5cbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4gICAgLmZhY3RvcnkoJ2JhcnJlbEZhY3RvcnknLCBiYXJyZWxGYWN0b3J5KTtcblxuICBiYXJyZWxGYWN0b3J5LiRpbmplY3QgPSBbJ3VzZXJGYWN0b3J5J107XG5cbiAgZnVuY3Rpb24gYmFycmVsRmFjdG9yeSh1c2VyRmFjdG9yeSkge1xuICAgIHZhciBzZXJ2aWNlcyA9IHtcbiAgICAgIGdldEJhcnJlbFRpbWVzOiBnZXRCYXJyZWxUaW1lc1xuICAgIH07XG5cblxuICAgIHJldHVybiBzZXJ2aWNlcztcblxuICAgIGZ1bmN0aW9uIGdldEJhcnJlbFRpbWVzKCkge1xuICAgICAgdmFyIHZlcnNpb24gPSB1c2VyRmFjdG9yeS5nZXRWZXJzaW9uKCk7XG4gICAgICB2YXIgTlVNX0RBWVMgPSA1O1xuICAgICAgdmFyIGJhcnJlbFRpbWVzID0gW107XG4gICAgICB2YXIgZGF0YSA9IGdldFN0YXJ0RW5kVGltZXModmVyc2lvbik7XG4gICAgICB2YXIgc3RhcnQgPSBkYXRhLnN0YXJ0O1xuICAgICAgdmFyIGVuZCA9IGRhdGEuZW5kO1xuICAgICAgdmFyIGhvdXJEaXNwbGF5ID0gc3RhcnQuY2xvbmUoKS5sb2NhbCgpLmZvcm1hdCgnSEg6bW0nKSArICctJyArIGVuZC5jbG9uZSgpLmxvY2FsKCkuZm9ybWF0KCdISDptbScpO1xuICAgICAgdmFyIGRheU9mWWVhciA9IHN0YXJ0LmRheU9mWWVhcigpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBOVU1fREFZUzsgaSsrKSB7XG4gICAgICAgIGJhcnJlbFRpbWVzLnB1c2goZ2V0VGltZShpKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBiYXJyZWxUaW1lcztcblxuICAgICAgZnVuY3Rpb24gZ2V0VGltZShkYXlOdW0pIHtcbiAgICAgICAgdmFyIHN0YXJ0T2ZEYXkgPSBzdGFydC5jbG9uZSgpLmFkZChkYXlOdW0sICdkYXlzJyk7XG4gICAgICAgIHZhciB3b29kID0gWzAsIDUsIDQsIDksIDMsIDgsIDQsIDksIDIsIDcsIDMsIDgsIDEsIDYsIDIsIDcsIDAsIDUsIDEsIDZdO1xuICAgICAgICB2YXIgc2lsdmVyID0gWzEsIDYsIDIsIDcsIDAsIDUsIDEsIDYsIDAsIDUsIDQsIDksIDMsIDgsIDQsIDksIDIsIDcsIDMsIDhdO1xuICAgICAgICB2YXIgZ29sZCA9IFszLCA4LCAyLCA3LCAxLCA2LCAwLCA1LCA0LCA5XTtcblxuICAgICAgICB2YXIgb2Zmc2V0ID0gZGF5TnVtICsgZGF5T2ZZZWFyICsgNDtcblxuICAgICAgICB2YXIgaW5kZXgxID0gKG9mZnNldCAqIDQpICUgMjA7XG4gICAgICAgIHZhciBpbmRleDIgPSAob2Zmc2V0ICogMikgJSAxMDtcblxuICAgICAgICB2YXIgd29vZERpZ2l0cyA9IHdvb2Quc2xpY2UoaW5kZXgxLCBpbmRleDEgKyA0KTtcbiAgICAgICAgdmFyIHNpbHZlckRpZ2l0cyA9IHNpbHZlci5zbGljZShpbmRleDEsIGluZGV4MSArIDQpO1xuICAgICAgICB2YXIgZ29sZERpZ2l0cyA9IGdvbGQuc2xpY2UoaW5kZXgyLCBpbmRleDIgKyAyKTtcbiAgICAgICAgdmFyIGRhdGUgPSBzdGFydE9mRGF5LmZvcm1hdCgnWVlZWS1NTS1ERCcpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgICAgICB3b29kRGlnaXRzOiB3b29kRGlnaXRzLFxuICAgICAgICAgIHNpbHZlckRpZ2l0czogc2lsdmVyRGlnaXRzLFxuICAgICAgICAgIGdvbGREaWdpdHM6IGdvbGREaWdpdHMsXG4gICAgICAgICAgaG91ckRpc3BsYXk6IGhvdXJEaXNwbGF5LFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFN0YXJ0RW5kVGltZXModmVyc2lvbikge1xuICAgICAgdmFyIG5vdyA9IG1vbWVudCgpO1xuICAgICAgdmFyIGhvdXJPZmZzZXQgPSAodmVyc2lvbiA9PT0gJ2dsb2JhbCcpID8gMTIgOiA2O1xuICAgICAgdmFyIHN0YXJ0ID0gbW9tZW50LnV0YygpLnN0YXJ0T2YoJ2RheScpLmFkZChob3VyT2Zmc2V0LCAnaG91cnMnKTtcbiAgICAgIHZhciBlbmQgPSBzdGFydC5jbG9uZSgpLmFkZCgyMywgJ2hvdXJzJykuYWRkKDU5LCAnbWludXRlcycpOztcblxuICAgICAgaWYgKG5vdy5pc0FmdGVyKGVuZCkpIHtcbiAgICAgICAgc3RhcnQuYWRkKDEsICdkYXknKTtcbiAgICAgICAgZW5kLmFkZCgxLCAnZGF5Jyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0YXJ0OiBzdGFydCxcbiAgICAgICAgZW5kOiBlbmQsXG4gICAgICB9O1xuICAgIH1cblxuICB9XG5cbn0pKCk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcbiAgLmNvbmZpZyhmdW5jdGlvbiAoJHRyYW5zbGF0ZVByb3ZpZGVyKSB7XG4gICAgJHRyYW5zbGF0ZVByb3ZpZGVyLnRyYW5zbGF0aW9ucygnZW4nLCB7XG4gICAgICBOQVZfVFVSVExFOiAnVHVydGxlIFRpbWUnLFxuICAgICAgTkFWX0JBUlJFTDogJ0JhcnJlbCBCcmVha2luZycsXG4gICAgICBOQVZfRVZFTlQ6ICdFdmVudCcsXG4gICAgICBOQVZfQ09OVEFDVDogJ0NvbnRhY3QgTWUnLFxuICAgICAgTkFWX1NFVFRJTkdTOiAnU2V0dGluZ3MnLFxuICAgICAgVFRfVElUTEU6ICdUdXJ0bGUgVGltZSBDYWxjdWxhdG9yJyxcbiAgICAgIFRUX0RJR0lUOiAnNnRoIGRpZ2l0IG9mIElEJyxcbiAgICAgIFRUX0ZPUk1BVDogJ1RpbWUgRm9ybWF0JyxcbiAgICAgIFRUX1NUQU5EQVJEOiAnU3RhbmRhcmQnLFxuICAgICAgVFRfTUlMSVRBUlk6ICcyNGhyIGZvcm1hdCcsXG4gICAgICBUVF9USU1FWk9ORTogJ1RpbWUgWm9uZTonLFxuICAgICAgVFRfU0VFTU9SRTogJ1NlZSBNb3JlJyxcbiAgICAgIFRUX0FERF9DQUxFTkRBUjogJ0FkZCB0byBDYWxlbmRhcicsXG4gICAgICBUVF9OT1RJRklDQVRJT046ICdDaHJvbWUvQW5kcm9pZCBOb3RpZmljYXRpb25zJyxcbiAgICAgIFRUX0hUTUxfTk9USUZJQ0FUSU9OOiAnSFRNTCBOb3RpZmljYXRpb25zJyxcbiAgICAgIFRUX05PVElGX1RFU1Q6ICdFeGFtcGxlIENocm9tZS9BbmRyb2lkIE5vdGlmaWNhdGlvbicsXG4gICAgICBUVF9IVE1MX05PVElGX1RFU1Q6ICdFeGFtcGxlIEhUTUwgTm90aWZpY2F0aW9uJyxcbiAgICAgIFRUX05PVElGX01JTlVURVM6ICdOb3RpZmljYXRpb24gdGltZSBpbiBhZHZhbmNlJyxcbiAgICAgIFRUX01JTlVURVM6ICdNaW51dGVzJyxcbiAgICAgIFRUX05PVElGX1NPVU5EOiAnUGxheSBzb3VuZCcsXG4gICAgICBUVF9OT1RJRl9FWEFNUExFOiAnRXhhbXBsZScsXG4gICAgICBCQl9USVRMRTogJ0JhcnJlbCBCcmVha2luZycsXG4gICAgICBCQl9USU1FOiAnVGltZSB0aWxsIG5leHQgcm90YXRpb246JyxcbiAgICAgIEJCX0FMVDogJ1Nob3cgSG91cnMnLFxuICAgICAgQkJfREFURTogJ0RhdGUnLFxuICAgICAgQkJfV09PREVOOiAnV29vZGVuJyxcbiAgICAgIEJCX1NJTFZFUjogJ1NpbHZlcicsXG4gICAgICBCQl9HT0xEOiAnR29sZCdcbiAgICB9KVxuICAgIC50cmFuc2xhdGlvbnMoJ2RlJywge1xuICAgICAgTkFWX1RVUlRMRTogJ1R1cnRsZSBaZWl0ZW4nLFxuICAgICAgTkFWX0JBUlJFTDogJ0ZyaWVuZCBHYW1lJyxcbiAgICAgIE5BVl9FVkVOVDogJ0VyZWlnbmlzJyxcbiAgICAgIE5BVl9DT05UQUNUOiAnS29udGFrdGllcmUgTWljaCcsXG4gICAgICBOQVZfU0VUVElOR1M6ICdFaW5zdGVsbHVuZ2VuJyxcbiAgICAgIFRUX1RJVExFOiAnVHVydGxlIFplaXRlbiBSZWNobmVyJyxcbiAgICAgIFRUX0RJR0lUOiAnNnRlIFppZmZlciBkZXIgSUQnLFxuICAgICAgVFRfRk9STUFUOiAnWmVpdGZvcm1hdCcsXG4gICAgICBUVF9TVEFOREFSRDogJ1N0YW5kYXJkJyxcbiAgICAgIFRUX01JTElUQVJZOiAnMjQtU3R1bmRlbicsXG4gICAgICBUVF9USU1FWk9ORTogJ1plaXR6b25lOicsXG4gICAgICBUVF9TRUVNT1JFOiAnc2llaGUgbWVocicsXG4gICAgICBUVF9BRERfQ0FMRU5EQVI6ICdadW0gS2FsZW5kZXIgaGluenVmw7xnZW4nLFxuICAgICAgVFRfTk9USUZJQ0FUSU9OOiAnQ2hyb21lL0FuZHJvaWQgQmVuYWNocmljaHRpZ3VuZycsXG4gICAgICBUVF9IVE1MX05PVElGSUNBVElPTjogJ0hUTUwgQmVuYWNocmljaHRpZ3VuZycsXG4gICAgICBUVF9OT1RJRl9URVNUOiAnQmVpc3BpZWwgQ2hyb21lL0FuZHJvaWQgQmVuYWNocmljaHRpZ3VuZycsXG4gICAgICBUVF9IVE1MX05PVElGX1RFU1Q6ICdCZWlzcGllbCBIVE1MIEJlbmFjaHJpY2h0aWd1bmcnLFxuICAgICAgVFRfTk9USUZfTUlOVVRFUzogJ0hUTUwtQmVuYWNocmljaHRpZ3VuZycsXG4gICAgICBUVF9NSU5VVEVTOiAnTWludXRlbicsXG4gICAgICBUVF9OT1RJRl9TT1VORDogJ1RvbiBhYnNwaWVsZW4nLFxuICAgICAgVFRfTk9USUZfRVhBTVBMRTogJ0JlaXNwaWVsJyxcbiAgICAgIEJCX1RJVExFOiAnQmFycmVsIEJyZWFraW5nJyxcbiAgICAgIEJCX1RJTUU6ICdaZWl0IGJpcyB6dW0gbsOkY2hzdGVuIFdlY2hzZWw6JyxcbiAgICAgIEJCX0FMVDogJ0FuemVpZ2UgU3R1bmRlbicsXG4gICAgICBCQl9EQVRFOiAnRGF0dW0nLFxuICAgICAgQkJfV09PREVOOiAnSG9seicsXG4gICAgICBCQl9TSUxWRVI6ICdTaWxiZXInLFxuICAgICAgQkJfR09MRDogJ0dvbGQnXG4gICAgfSlcbiAgICAudHJhbnNsYXRpb25zKCdlcycsIHtcbiAgICAgIE5BVl9UVVJUTEU6ICdIb3JhcmlvIFRvcnR1Z2FzJyxcbiAgICAgIE5BVl9CQVJSRUw6ICdGcmllbmQgR2FtZScsXG4gICAgICBOQVZfRVZFTlQ6ICdFdmVudG8nLFxuICAgICAgTkFWX0NPTlRBQ1Q6ICdDb250w6FjdGFtZScsXG4gICAgICBOQVZfU0VUVElOR1M6ICdDb25maWd1cmFjacOzbicsXG4gICAgICBUVF9USVRMRTogJ0hvcmFyaW8gVG9ydHVnYXMgQ2FsY3VsYWRvcmEnLFxuICAgICAgVFRfRElHSVQ6ICc2dGggZMOtZ2l0byBkZSBJRCcsXG4gICAgICBUVF9GT1JNQVQ6ICdmb3JtYXRvIGRlIHRpZW1wbycsXG4gICAgICBUVF9TVEFOREFSRDogJ2VzdMOhbmRhcicsXG4gICAgICBUVF9NSUxJVEFSWTogJzI0IGhvcmFzJyxcbiAgICAgIFRUX1RJTUVaT05FOiAnWm9uYSBIb3JhcmlhOicsXG4gICAgICBUVF9TRUVNT1JFOiAndmVyIG3DoXMnLFxuICAgICAgVFRfQUREX0NBTEVOREFSOiAnQcOxYWRpciBhbCBjYWxlbmRhcmlvJyxcbiAgICAgIFRUX05PVElGSUNBVElPTjogJ05vdGlmaWNhY2lvbmVzIGRlIENocm9tZS9BbmRyb2lkJyxcbiAgICAgIFRUX0hUTUxfTk9USUZJQ0FUSU9OOiAnTm90aWZpY2FjaW9uZXMgZGUgSFRNTCcsXG4gICAgICBUVF9OT1RJRl9URVNUOiAnVGVzdCBDaHJvbWUvQW5kcm9pZCBOb3RpZmljYXRpb24nLFxuICAgICAgVFRfSFRNTF9OT1RJRl9URVNUOiAnVGVzdCBIVE1MIE5vdGlmaWNhdGlvbicsXG4gICAgICBUVF9OT1RJRl9NSU5VVEVTOiAnTWludXRvcyBhbnRlcyBkZSBldmVudG8nLFxuICAgICAgVFRfTUlOVVRFUzogJ01pbnV0b3MnLFxuICAgICAgVFRfTk9USUZfU09VTkQ6ICdSZXByb2R1Y2lyIHNvbmlkbycsXG4gICAgICBUVF9OT1RJRl9FWEFNUExFOiAnRWplbXBsbycsXG4gICAgICBCQl9USVRMRTogJ0ZyaWVuZCBHYW1lJyxcbiAgICAgIEJCX1RJTUU6ICdUaWVtcG8gaGFzdGEgbGEgcHLDs3hpbWEgcm90YWNpw7NuOicsXG4gICAgICBCQl9BTFQ6ICdNb3N0cmFyIGxhcyBob3JhcycsXG4gICAgICBCQl9EQVRFOiAnRmVjaGEnLFxuICAgICAgQkJfV09PREVOOiAnTWFkZXJhJyxcbiAgICAgIEJCX1NJTFZFUjogJ1BsYXRhJyxcbiAgICAgIEJCX0dPTEQ6ICdPcm8nXG4gICAgfSlcbiAgICAudHJhbnNsYXRpb25zKCdmcicsIHtcbiAgICAgIE5BVl9UVVJUTEU6ICdIb3JhaXJlcyBkZXMgVG9ydHVlcycsXG4gICAgICBOQVZfQkFSUkVMOiAnUGFydGllIGRcXCdhbWlzJyxcbiAgICAgIE5BVl9FVkVOVDogJ0V2ZW50JyxcbiAgICAgIE5BVl9DT05UQUNUOiAnTWUgQ29udGFjdGVyJyxcbiAgICAgIE5BVl9TRVRUSU5HUzogJ1LDqWdsYWdlcycsXG4gICAgICBUVF9USVRMRTogJ0NhbGN1bGF0ZXVyIGRlIGxcXCdIb3JhaXJlIGRlcyBUb3J0dWVzJyxcbiAgICAgIFRUX0RJR0lUOiAnNmVtZSBjaGlmZnJlIElEJyxcbiAgICAgIFRUX0ZPUk1BVDogJ2Zvcm1hdCBkZSBsXFwnaGV1cmUnLFxuICAgICAgVFRfU1RBTkRBUkQ6ICdub3JtYWxlJyxcbiAgICAgIFRUX01JTElUQVJZOiAnMjRoJyxcbiAgICAgIFRUX1RJTUVaT05FOiAnRnVzZWF1IEhvcmFpcmU6JyxcbiAgICAgIFRUX1NFRU1PUkU6ICdMaXJlIGxhIHN1aXRlJyxcbiAgICAgIFRUX0FERF9DQUxFTkRBUjogJ0Fqb3V0ZXIgYXUgQ2FsZW5kcmllcicsXG4gICAgICBUVF9OT1RJRklDQVRJT046ICdOb3RpZmljYXRpb25zIEdvb2dsZS9BbmRyb2lkJyxcbiAgICAgIFRUX0hUTUxfTk9USUZJQ0FUSU9OOiAnTm90aWZpY2F0aW9ucyBIVE1MJyxcbiAgICAgIFRUX05PVElGX1RFU1Q6ICdUZXN0IENocm9tZS9BbmRyb2lkIE5vdGlmaWNhdGlvbicsXG4gICAgICBUVF9IVE1MX05PVElGX1RFU1Q6ICdUZXN0IEhUTUwgTm90aWZpY2F0aW9uJyxcbiAgICAgIFRUX05PVElGX01JTlVURVM6ICdUZW1wcyBSZXN0YW50IGF2YW50IEV2ZW50JyxcbiAgICAgIFRUX01JTlVURVM6ICdNaW51dGVzJyxcbiAgICAgIFRUX05PVElGX1NPVU5EOiAnSm91ZXIgbGUgc29uJyxcbiAgICAgIFRUX05PVElGX0VYQU1QTEU6ICdFeGVtcGxlJyxcbiAgICAgIEJCX1RJVExFOiAnw4ljbGF0ZW1lbnQgZHUgVG9ubmVhdScsXG4gICAgICBCQl9USU1FOiAnVGVtcHMganVzcXVcXCfDoCBsYSBQcm9jaGFpbmUgUm90YXRpb246JyxcbiAgICAgIEJCX0FMVDogJ0FmZmljaGVyIGxlcyBIZXVyZXMnLFxuICAgICAgQkJfREFURTogJ0RhdGUnLFxuICAgICAgQkJfV09PREVOOiAnQm9pcycsXG4gICAgICBCQl9TSUxWRVI6ICdBcmdlbnQnLFxuICAgICAgQkJfR09MRDogJ09yJyxcbiAgICB9KTtcbiAgICAkdHJhbnNsYXRlUHJvdmlkZXIucHJlZmVycmVkTGFuZ3VhZ2UoJ2VuJyk7XG4gICAgJHRyYW5zbGF0ZVByb3ZpZGVyLnVzZVNhbml0aXplVmFsdWVTdHJhdGVneSgnZXNjYXBlZCcpO1xuICB9KTtcbiIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuICAuY29udHJvbGxlcignQ29udGFjdEN0cmwnLCBjb250YWN0Q3RybCk7XG5cbiAgY29udGFjdEN0cmwuJGluamVjdCA9IFsnJGh0dHAnLCAnYXBpRmFjdG9yeScsICduYXZiYXJGYWN0b3J5J107XG5cbiAgZnVuY3Rpb24gY29udGFjdEN0cmwoJGh0dHAsIGFwaUZhY3RvcnksIG5hdmJhckZhY3RvcnkpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICBzZWxmLnN1YmplY3RzID0gW1xuICAgICAgJ0luY29ycmVjdCBUdXJ0bGUgVGltZScsXG4gICAgICAnUmVwb3J0IGEgYnVnJyxcbiAgICAgICdPdGhlcicsXG4gICAgXTtcblxuICAgIHNlbGYubWVzc2FnZSA9IHt9O1xuXG4gICAgbmF2YmFyRmFjdG9yeS5zZXRTZW8oJ0NvbnRhY3QgTWUnLCAnRmluZCBhIGJ1Zz8gSGF2ZSBhIHF1ZXN0aW9uIG9yIGZlZWRiYWNrPyBDb250YWN0IG1lIGFuZCBsZXQgbWUga25vdy4nKTtcblxuXG4gICAgc2VsZi5pc1R1cnRsZUJ1ZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHNlbGYubWVzc2FnZS5zdWJqZWN0ID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiBzZWxmLm1lc3NhZ2Uuc3ViamVjdCA9PT0gJ0luY29ycmVjdCBUdXJ0bGUgVGltZSc7XG4gICAgfVxuXG4gICAgc2VsZi5zZW5kTWVzc2FnZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5zdGF0dXMgPSAnU2VuZGluZy4uLic7XG4gICAgICAkaHR0cC5wb3N0KGFwaUZhY3RvcnkuZ2V0QmFzZVVybCgpICsgJy9jb250YWN0Jywgc2VsZi5tZXNzYWdlKVxuICAgICAgLnRoZW4oZnVuY3Rpb24gc3VjY2VzcygpIHtcbiAgICAgICAgc2VsZi5zdGF0dXMgPSAnU2VudCEnO1xuICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gZXJyb3IoKSB7XG4gICAgICAgIHNlbGYuc3RhdHVzID0gJ0Vycm9yIHNlbmRpbmcuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJztcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG59KSgpOyIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuICAuY29udHJvbGxlcignRXZlbnRzQ3RybCcsIGV2ZW50c0N0cmwpO1xuXG4gIGV2ZW50c0N0cmwuJGluamVjdCA9IFsnJG1kTWVkaWEnLCAndXNlckZhY3RvcnknLCAnZXZlbnRzRmFjdG9yeScsICduYXZiYXJGYWN0b3J5J107XG4gIFxuICBmdW5jdGlvbiBldmVudHNDdHJsKCRtZE1lZGlhLCB1c2VyRmFjdG9yeSwgZXZlbnRzRmFjdG9yeSwgbmF2YmFyRmFjdG9yeSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHNldFBhcmFtcygpO1xuXG4gICAgZnVuY3Rpb24gc2V0UGFyYW1zKCkge1xuICAgICAgbmF2YmFyRmFjdG9yeS5zZXRTZW8oJ0V2ZW50cycsICdFdmVudCBpbmZvcm1hdGlvbiBhbmQgYW5kIHVwLXRvLWRhdGUgdGFibGUgb24gc3RvcnkgaXNsZSBib251c2VzLicpXG4gICAgICBzZWxmLnZlcnNpb24gPSB1c2VyRmFjdG9yeS5nZXRWZXJzaW9uKCk7XG4gICAgICBzZWxmLmV2ZW50VGltZXMgPSBldmVudHNGYWN0b3J5LmdldEV2ZW50VGltZXMoKTtcbiAgICAgIHNlbGYuZm9ybWF0ID0gdXNlckZhY3RvcnkuZ2V0RGV0YWlsZWRIb3VyU3RhdHVzKCk7XG4gICAgfVxuXG4gICAgc2VsZi51cGRhdGVWZXJzaW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICB1c2VyRmFjdG9yeS5zZXRWZXJzaW9uKHNlbGYudmVyc2lvbik7XG4gICAgICBzZWxmLmV2ZW50VGltZXMgPSBldmVudHNGYWN0b3J5LmdldEV2ZW50VGltZXMoKTtcbiAgICB9XG5cbiAgICBzZWxmLmlzTGFyZ2VTY3JlZW4gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAkbWRNZWRpYSgnZ3QtbWQnKTtcbiAgICB9O1xuXG4gICAgc2VsZi5zaG93SG91cnMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHVzZXJGYWN0b3J5LnNldERldGFpbGVkSG91clN0YXR1cyhzZWxmLmZvcm1hdCk7XG4gICAgfVxuICB9XG5cbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4gICAgLmZhY3RvcnkoJ2V2ZW50c0ZhY3RvcnknLCBldmVudHNGYWN0b3J5KTtcblxuICBldmVudHNGYWN0b3J5LiRpbmplY3QgPSBbJ3VzZXJGYWN0b3J5J107XG5cbiAgZnVuY3Rpb24gZXZlbnRzRmFjdG9yeSh1c2VyRmFjdG9yeSkge1xuICAgIHZhciBzZXJ2aWNlcyA9IHtcbiAgICAgIGdldEV2ZW50VGltZXM6IGdldEV2ZW50VGltZXNcbiAgICB9O1xuXG4gICAgcmV0dXJuIHNlcnZpY2VzO1xuXG4gICAgZnVuY3Rpb24gZ2V0RXZlbnRUaW1lcygpIHtcbiAgICAgIHZhciB2ZXJzaW9uID0gdXNlckZhY3RvcnkuZ2V0VmVyc2lvbigpO1xuICAgICAgdmFyIE5VTV9EQVlTID0gNTtcbiAgICAgIHZhciBkcm9wVGFibGUgPSBbJ0xvZ3VldG93biwgSmF5YScsICdBcmxvbmcgUGFyaywgQWx1YmFybmEnLCAnQmFyYXRpZSwgTmFub2hhbmEgUmFpbmJhc2UnLCAnU3lydXAgVmlsbGFnZSwgRHJ1bSBJc2xhbmQnLCAnT3JhbmdlIFRvd24sIExpdHRsZSBHYXJkZW4nLCAnU2hlbGwgVG93biwgV2hpc2tleSBQZWFrLCBBcmsgTWF4aW0nLCAnQWx2aWRhXFwncyBIaWRlb3V0LCBUd2luIENhcGUsIFNreXBpYSddO1xuICAgICAgdmFyIHN0YW1pbmFUYWJsZSA9IFsnT3JhbmdlIFRvd24sIERydW0gSXNsYW5kJywgJ1NoZWxsIFRvd24sIExpdHRsZSBHYXJkZW4nLCAnQWx2aWRhXFwncyBIaWRlb3V0LCBXaGlza2V5IFBlYWssIEFyayBNYXhpbScsICdGdXNjaGlhIFZpbGxhZ2UsIFR3aW4gQ2FwZSwgU2t5cGlhJywgJ0xvZ3VldG93biwgSmF5YScsICdBcmxvbmcgUGFyaywgQWx1YmFybmEnLCAnQmFyYXRpZSwgTmFub2hhbmEgUmFpbmJhc2UnXTtcbiAgICAgIHZhciBiZWxpVGFibGUgPSBbJ0JhcmF0aWUsIFdoaXNrZXkgUGVhaywgQXJrIE1heGltJywgJ1N5cnVwIFZpbGxhZ2UsIFR3aW4gQ2FwZSwgU2t5cGlhJywgJ0xvZ3VldG93biwgSmF5YScsICdBcmxvbmcgUGFyaywgQWx1YmFybmEnLCAnQmFyYXRpZSwgTmFub2hhbmEgUmFpbmJhc2UnLCAnU3lydXAgVmlsbGFnZSwgRHJ1bSBJc2xhbmQnLCAnTGl0dGxlIEdhcmRlbiddO1xuICAgICAgdmFyIHN0YXJ0ID0gZ2V0U3RhcnRUaW1lKHZlcnNpb24pO1xuICAgICAgdmFyIGRheU9mWWVhciA9IHN0YXJ0LmRheU9mWWVhcigpO1xuXG4gICAgICB2YXIgZXZlbnRUaW1lcyA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IE5VTV9EQVlTOyBpKyspIHtcbiAgICAgICAgZXZlbnRUaW1lcy5wdXNoKGdldFRpbWUoaSkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZXZlbnRUaW1lcztcblxuICAgICAgZnVuY3Rpb24gZ2V0VGltZShkYXlOdW0pIHtcbiAgICAgICAgdmFyIG9mZnNldCA9IGRheU51bSArIGRheU9mWWVhciArIDM7XG4gICAgICAgIG9mZnNldCA9IG9mZnNldCAlIDc7XG5cbiAgICAgICAgdmFyIGRyb3AgPSBkcm9wVGFibGVbb2Zmc2V0XS5zcGxpdCgnLCcpO1xuICAgICAgICB2YXIgc3RhbWluYSA9IHN0YW1pbmFUYWJsZVtvZmZzZXRdLnNwbGl0KCcsJyk7XG4gICAgICAgIHZhciBiZWxpID0gYmVsaVRhYmxlW29mZnNldF0uc3BsaXQoJywnKTtcbiAgICAgICAgdmFyIHN0YXJ0RGF0ZSA9IHN0YXJ0LmNsb25lKCkuYWRkKGRheU51bSwgJ2RheXMnKTtcblxuICAgICAgICB2YXIgaG91ck9mZnNldCA9ICh2ZXJzaW9uID09PSAnZ2xvYmFsJykgPyAyMyA6IDExO1xuICAgICAgICB2YXIgZW5kID0gc3RhcnREYXRlLmNsb25lKCkuYWRkKGhvdXJPZmZzZXQsICdob3VycycpLmFkZCg1OSwgJ21pbnV0ZXMnKTtcbiAgICAgICAgdmFyIGRhdGUgPSBzdGFydERhdGUuZm9ybWF0KCdZWVlZLU1NLUREJyk7XG4gICAgICAgIHZhciBob3VyU3RyaW5nID0gc3RhcnREYXRlLmZvcm1hdCgnSEg6bW0nKSArICctJyArIGVuZC5mb3JtYXQoJ0hIOm1tJyk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBkYXRlOiBkYXRlLFxuICAgICAgICAgIGhvdXJEaXNwbGF5OiBob3VyU3RyaW5nLFxuICAgICAgICAgIGRyb3A6IGRyb3AsXG4gICAgICAgICAgc3RhbWluYTogc3RhbWluYSxcbiAgICAgICAgICBiZWxpOiBiZWxpLFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0U3RhcnRUaW1lKHZlcnNpb24pIHtcbiAgICAgIHZhciBob3VyT2Zmc2V0ID0gKHZlcnNpb24gPT09ICdnbG9iYWwnKSA/IDggOiAyO1xuICAgICAgdmFyIHN0YXJ0ID0gbW9tZW50LnV0YygpLnN0YXJ0T2YoJ2RheScpLmFkZChob3VyT2Zmc2V0LCAnaG91cnMnKTtcbiAgICAgIHZhciBub3cgPSBtb21lbnQoKTtcblxuICAgICAgaWYgKG5vdy5pc0FmdGVyKHN0YXJ0KSlcbiAgICAgICAgc3RhcnQuc3VidHJhY3QoMSwgJ2RheScpO1xuXG4gICAgICByZXR1cm4gc3RhcnQ7XG4gICAgfVxuICB9XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyLm1vZHVsZSgnYXBwJylcbiAgLmZhY3RvcnkoJ2FwaUZhY3RvcnknLCBhcGlGYWN0b3J5KTtcblxuICBhcGlGYWN0b3J5LiRpbmplY3QgPSBbXTtcblxuICBmdW5jdGlvbiBhcGlGYWN0b3J5KCkge1xuICAgIHZhciBzZXJ2aWNlcyA9IHtcbiAgICAgIGdldEJhc2VVcmw6IGdldEJhc2VVcmwsXG4gICAgfTtcblxuICAgIHJldHVybiBzZXJ2aWNlcztcblxuICAgIGZ1bmN0aW9uIGdldEJhc2VVcmwoKSB7XG4gICAgICBpZiAoZG9jdW1lbnQubG9jYXRpb24uaG9zdG5hbWUgPT0gJ2xvY2FsaG9zdCcpXG4gICAgICAgIHJldHVybiAnaHR0cDovL2xvY2FsaG9zdDozMDAwJztcbiAgICAgIGVsc2VcbiAgICAgICAgcmV0dXJuICdodHRwczovL29wdGN0aW1lci5jb20nO1xuICAgIH1cbiAgfVxuXG59KSgpOyIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuICAuZmFjdG9yeSgnY2FsZW5kYXJGYWN0b3J5JywgY2FsZW5kYXJGYWN0b3J5KTtcblxuICBjYWxlbmRhckZhY3RvcnkuJGluamVjdCA9IFsndXNlckZhY3RvcnknXTtcblxuICBmdW5jdGlvbiBjYWxlbmRhckZhY3RvcnkodXNlckZhY3RvcnkpIHtcbiAgICB2YXIgc2VydmljZXMgPSB7XG4gICAgICBnZXRDYWxlbmRhcjogZ2V0Q2FsZW5kYXIsXG4gICAgfTtcblxuICAgIHJldHVybiBzZXJ2aWNlcztcblxuICAgIGZ1bmN0aW9uIGdldENhbGVuZGFyKCkge1xuICAgICAgdmFyIG5vdyA9IG1vbWVudCgpO1xuXG4gICAgICB2YXIgdHVydGxlVGltZXMgPSB1c2VyRmFjdG9yeS5nZXRUdXJ0bGVUaW1lcygpLmZpbHRlcihmdW5jdGlvbih0dXJ0bGVUaW1lKSB7XG4gICAgICAgIHJldHVybiBub3cuaXNCZWZvcmUodHVydGxlVGltZSk7XG4gICAgICB9KTtcblxuICAgICAgdmFyIGNhbCA9IGljcygpO1xuICAgICAgdmFyIHN1YmplY3QgPSAnT1BUQyBUdXJ0bGUgVGltZSc7XG4gICAgICB2YXIgZGVzY3JpcHRpb24gPSAnT25lIFBpZWNlIFRyZWFzdXJlIENydWlzZSBUdXJ0bGUgVGltZSc7XG4gICAgICB2YXIgbG9jYXRpb24gPSAnT1BUQyc7XG5cbiAgICAgIHZhciBiZWdpbiwgZW5kO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgICBiZWdpbiA9IHR1cnRsZVRpbWVzW2ldLmZvcm1hdCgpO1xuICAgICAgICBlbmQgPSB0dXJ0bGVUaW1lc1tpXS5jbG9uZSgpLmFkZCgzMCwgJ21pbnV0ZXMnKS5mb3JtYXQoKTtcbiAgICAgICAgY2FsLmFkZEV2ZW50KHN1YmplY3QsIGRlc2NyaXB0aW9uLCBsb2NhdGlvbiwgYmVnaW4sIGVuZCk7XG4gICAgICB9XG5cbiAgICAgIGNhbC5kb3dubG9hZCgndHVydGxlX3RpbWVzJywgJy5pY3MnKTtcbiAgICB9XG4gIH1cblxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyLm1vZHVsZSgnYXBwJylcbiAgLmZhY3RvcnkoJ2h0bWxOb3RpZmljYXRpb25GYWN0b3J5JywgaHRtbE5vdGlmaWNhdGlvbkZhY3RvcnkpO1xuXG4gIGh0bWxOb3RpZmljYXRpb25GYWN0b3J5LiRpbmplY3QgPSBbJ3VzZXJGYWN0b3J5J107XG5cbiAgZnVuY3Rpb24gaHRtbE5vdGlmaWNhdGlvbkZhY3RvcnkodXNlckZhY3RvcnkpIHtcbiAgICB2YXIgc2VydmljZXMgPSB7XG4gICAgICBpc0VuYWJsZWQ6IGlzRW5hYmxlZCxcbiAgICAgIHNldE5vdGlmaWNhdGlvbnM6IHNldE5vdGlmaWNhdGlvbnMsXG4gICAgICBwbGF5RXhhbXBsZTogcGxheUV4YW1wbGUsXG4gICAgfTtcblxuICAgIHZhciBub3RpZmljYXRpb25zID0gW107XG4gICAgdmFyIHNvdW5kID0gbmV3IEF1ZGlvKCdzb3VuZHMvbm90aWZpY2F0aW9uLm1wMycpO1xuXG4gICAgcmV0dXJuIHNlcnZpY2VzO1xuXG4gICAgZnVuY3Rpb24gaXNFbmFibGVkKCkge1xuICAgICAgdmFyIGlPUyA9IC9pUGFkfGlQaG9uZXxpUG9kLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgICAgdmFyIG1vYmlsZUFuZFRhYmxldENoZWNrID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBjaGVjayA9IGZhbHNlO1xuICAgICAgICAoZnVuY3Rpb24oYSl7aWYoLyhhbmRyb2lkfGJiXFxkK3xtZWVnbykuK21vYmlsZXxhdmFudGdvfGJhZGFcXC98YmxhY2tiZXJyeXxibGF6ZXJ8Y29tcGFsfGVsYWluZXxmZW5uZWN8aGlwdG9wfGllbW9iaWxlfGlwKGhvbmV8b2QpfGlyaXN8a2luZGxlfGxnZSB8bWFlbW98bWlkcHxtbXB8bW9iaWxlLitmaXJlZm94fG5ldGZyb250fG9wZXJhIG0ob2J8aW4paXxwYWxtKCBvcyk/fHBob25lfHAoaXhpfHJlKVxcL3xwbHVja2VyfHBvY2tldHxwc3B8c2VyaWVzKDR8NikwfHN5bWJpYW58dHJlb3x1cFxcLihicm93c2VyfGxpbmspfHZvZGFmb25lfHdhcHx3aW5kb3dzIGNlfHhkYXx4aWlub3xhbmRyb2lkfGlwYWR8cGxheWJvb2t8c2lsay9pLnRlc3QoYSl8fC8xMjA3fDYzMTB8NjU5MHwzZ3NvfDR0aHB8NTBbMS02XWl8Nzcwc3w4MDJzfGEgd2F8YWJhY3xhYyhlcnxvb3xzXFwtKXxhaShrb3xybil8YWwoYXZ8Y2F8Y28pfGFtb2l8YW4oZXh8bnl8eXcpfGFwdHV8YXIoY2h8Z28pfGFzKHRlfHVzKXxhdHR3fGF1KGRpfFxcLW18ciB8cyApfGF2YW58YmUoY2t8bGx8bnEpfGJpKGxifHJkKXxibChhY3xheil8YnIoZXx2KXd8YnVtYnxid1xcLShufHUpfGM1NVxcL3xjYXBpfGNjd2F8Y2RtXFwtfGNlbGx8Y2h0bXxjbGRjfGNtZFxcLXxjbyhtcHxuZCl8Y3Jhd3xkYShpdHxsbHxuZyl8ZGJ0ZXxkY1xcLXN8ZGV2aXxkaWNhfGRtb2J8ZG8oY3xwKW98ZHMoMTJ8XFwtZCl8ZWwoNDl8YWkpfGVtKGwyfHVsKXxlcihpY3xrMCl8ZXNsOHxleihbNC03XTB8b3N8d2F8emUpfGZldGN8Zmx5KFxcLXxfKXxnMSB1fGc1NjB8Z2VuZXxnZlxcLTV8Z1xcLW1vfGdvKFxcLnd8b2QpfGdyKGFkfHVuKXxoYWllfGhjaXR8aGRcXC0obXxwfHQpfGhlaVxcLXxoaShwdHx0YSl8aHAoIGl8aXApfGhzXFwtY3xodChjKFxcLXwgfF98YXxnfHB8c3x0KXx0cCl8aHUoYXd8dGMpfGlcXC0oMjB8Z298bWEpfGkyMzB8aWFjKCB8XFwtfFxcLyl8aWJyb3xpZGVhfGlnMDF8aWtvbXxpbTFrfGlubm98aXBhcXxpcmlzfGphKHR8dilhfGpicm98amVtdXxqaWdzfGtkZGl8a2VqaXxrZ3QoIHxcXC8pfGtsb258a3B0IHxrd2NcXC18a3lvKGN8ayl8bGUobm98eGkpfGxnKCBnfFxcLyhrfGx8dSl8NTB8NTR8XFwtW2Etd10pfGxpYnd8bHlueHxtMVxcLXd8bTNnYXxtNTBcXC98bWEodGV8dWl8eG8pfG1jKDAxfDIxfGNhKXxtXFwtY3J8bWUocmN8cmkpfG1pKG84fG9hfHRzKXxtbWVmfG1vKDAxfDAyfGJpfGRlfGRvfHQoXFwtfCB8b3x2KXx6eil8bXQoNTB8cDF8diApfG13YnB8bXl3YXxuMTBbMC0yXXxuMjBbMi0zXXxuMzAoMHwyKXxuNTAoMHwyfDUpfG43KDAoMHwxKXwxMCl8bmUoKGN8bSlcXC18b258dGZ8d2Z8d2d8d3QpfG5vayg2fGkpfG56cGh8bzJpbXxvcCh0aXx3dil8b3Jhbnxvd2cxfHA4MDB8cGFuKGF8ZHx0KXxwZHhnfHBnKDEzfFxcLShbMS04XXxjKSl8cGhpbHxwaXJlfHBsKGF5fHVjKXxwblxcLTJ8cG8oY2t8cnR8c2UpfHByb3h8cHNpb3xwdFxcLWd8cWFcXC1hfHFjKDA3fDEyfDIxfDMyfDYwfFxcLVsyLTddfGlcXC0pfHF0ZWt8cjM4MHxyNjAwfHJha3N8cmltOXxybyh2ZXx6byl8czU1XFwvfHNhKGdlfG1hfG1tfG1zfG55fHZhKXxzYygwMXxoXFwtfG9vfHBcXC0pfHNka1xcL3xzZShjKFxcLXwwfDEpfDQ3fG1jfG5kfHJpKXxzZ2hcXC18c2hhcnxzaWUoXFwtfG0pfHNrXFwtMHxzbCg0NXxpZCl8c20oYWx8YXJ8YjN8aXR8dDUpfHNvKGZ0fG55KXxzcCgwMXxoXFwtfHZcXC18diApfHN5KDAxfG1iKXx0MigxOHw1MCl8dDYoMDB8MTB8MTgpfHRhKGd0fGxrKXx0Y2xcXC18dGRnXFwtfHRlbChpfG0pfHRpbVxcLXx0XFwtbW98dG8ocGx8c2gpfHRzKDcwfG1cXC18bTN8bTUpfHR4XFwtOXx1cChcXC5ifGcxfHNpKXx1dHN0fHY0MDB8djc1MHx2ZXJpfHZpKHJnfHRlKXx2ayg0MHw1WzAtM118XFwtdil8dm00MHx2b2RhfHZ1bGN8dngoNTJ8NTN8NjB8NjF8NzB8ODB8ODF8ODN8ODV8OTgpfHczYyhcXC18ICl8d2ViY3x3aGl0fHdpKGcgfG5jfG53KXx3bWxifHdvbnV8eDcwMHx5YXNcXC18eW91cnx6ZXRvfHp0ZVxcLS9pLnRlc3QoYS5zdWJzdHIoMCw0KSkpY2hlY2sgPSB0cnVlfSkobmF2aWdhdG9yLnVzZXJBZ2VudHx8bmF2aWdhdG9yLnZlbmRvcnx8d2luZG93Lm9wZXJhKTtcbiAgICAgICAgcmV0dXJuIGNoZWNrO1xuICAgICAgfTtcblxuICAgICAgLy8gaWYgbm90IHN1cHBvcnRlZCwgc2hvdyBtZXNhZ2VcbiAgICAgIGlmICghKFwiTm90aWZpY2F0aW9uXCIgaW4gd2luZG93KSB8fCBtb2JpbGVBbmRUYWJsZXRDaGVjaygpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICBlbHNlIHtcbiAgICAgICAgTm90aWZpY2F0aW9uLnJlcXVlc3RQZXJtaXNzaW9uKCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldE5vdGlmaWNhdGlvbnMoKSB7XG4gICAgICB2YXIgdHVydGxlVGltZXMgPSB1c2VyRmFjdG9yeS5nZXRUdXJ0bGVUaW1lcygpO1xuICAgICAgdmFyIHNvdW5kRW5hYmxlZCA9IHVzZXJGYWN0b3J5LmdldEh0bWxOb3RpZmljYXRpb25Tb3VuZFN0YXR1cygpO1xuXG4gICAgICB2YXIgbm93ID0gbW9tZW50KCk7XG4gICAgICB2YXIgbWludXRlcyA9IHVzZXJGYWN0b3J5LmdldFRpbWVCZWZvcmVOb3RpZmljYXRpb24oKTtcbiAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICBib2R5OiBtaW51dGVzICsgJyBtaW51dGVzIHRpbGwgVHVydGxlIFRpbWUhJyxcbiAgICAgICAgaWNvbjogJ2Zhdmljb24uaWNvJ1xuICAgICAgfTtcbiAgICAgIHZhciB0aW1lVW50aWw7XG4gICAgICB2YXIgZW5kID0gbW9tZW50KCkuYWRkKDMsJ2RheXMnKTtcblxuICAgICAgZm9yICh2YXIgaT0wOyBpPHR1cnRsZVRpbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChub3cuaXNBZnRlcih0dXJ0bGVUaW1lc1tpXSkgfHwgdHVydGxlVGltZXNbaV0uaXNBZnRlcihlbmQpKVxuICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgIHRpbWVVbnRpbCA9IHR1cnRsZVRpbWVzW2ldLmZvcm1hdCgneCcpIC0gbm93LmZvcm1hdCgneCcpO1xuICAgICAgICB0aW1lVW50aWwgLT0gKG1pbnV0ZXMgKiAxMDAwKTtcbiAgICAgICAgaWYgKHRpbWVVbnRpbCA8IDAgfHwgaXNOYU4odGltZVVudGlsKSlcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgaWYgKG5vdGlmaWNhdGlvbnNbaV0gIT09IHVuZGVmaW5lZClcbiAgICAgICAgICBjbGVhclRpbWVvdXQobm90aWZpY2F0aW9uc1tpXSk7XG5cbiAgICAgICAgbm90aWZpY2F0aW9uc1tpXSA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGluc3RhbmNlID0gbmV3IE5vdGlmaWNhdGlvbihcIk9QVEMgVHVydGxlIFRpbWVcIiwgb3B0aW9ucyk7XG4gICAgICAgICAgaWYgKHNvdW5kRW5hYmxlZClcbiAgICAgICAgICAgIHNvdW5kLnBsYXkoKTtcbiAgICAgICAgfSwgdGltZVVudGlsKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwbGF5RXhhbXBsZSgpIHtcbiAgICAgIHZhciBtaW51dGVzID0gdXNlckZhY3RvcnkuZ2V0VGltZUJlZm9yZU5vdGlmaWNhdGlvbigpO1xuICAgICAgdmFyIHNvdW5kRW5hYmxlZCA9IHVzZXJGYWN0b3J5LmdldEh0bWxOb3RpZmljYXRpb25Tb3VuZFN0YXR1cygpO1xuICAgICAgXG4gICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgYm9keTogbWludXRlcyArICcgbWludXRlcyB0aWxsIFR1cnRsZSBUaW1lIScsXG4gICAgICAgIGljb246ICcuLi9pbWFnZXMvZmxhZy5wbmcnXG4gICAgICB9O1xuXG4gICAgICB2YXIgaW5zdGFuY2UgPSBuZXcgTm90aWZpY2F0aW9uKFwiT1BUQyBUdXJ0bGUgVGltZVwiLCBvcHRpb25zKTtcbiAgICAgIGlmIChzb3VuZEVuYWJsZWQpXG4gICAgICAgIHNvdW5kLnBsYXkoKTtcbiAgICB9XG4gIH1cblxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyLm1vZHVsZSgnYXBwJylcbiAgLmZhY3RvcnkoJ25vdGlmaWNhdGlvbkZhY3RvcnknLCBub3RpZmljYXRpb25GYWN0b3J5KTtcblxuICBub3RpZmljYXRpb25GYWN0b3J5LiRpbmplY3QgPSBbJyRodHRwJywgJ3VzZXJGYWN0b3J5JywgJ2FwaUZhY3RvcnknXTtcblxuICBmdW5jdGlvbiBub3RpZmljYXRpb25GYWN0b3J5KCRodHRwLCB1c2VyRmFjdG9yeSwgYXBpRmFjdG9yeSkge1xuICAgIHZhciBzZXJ2aWNlcyA9IHtcbiAgICAgIGlzRW5hYmxlZDogaXNFbmFibGVkLFxuICAgICAgc3Vic2NyaWJlOiBzdWJzY3JpYmUsXG4gICAgICB1bnN1YnNjcmliZTogdW5zdWJzY3JpYmUsXG4gICAgICBwbGF5RXhhbXBsZTogcGxheUV4YW1wbGUsXG4gICAgfTtcblxuICAgIHZhciByZWc7XG4gICAgdmFyIHN1YjtcblxuXG4gICAgcmV0dXJuIHNlcnZpY2VzO1xuXG4gICAgZnVuY3Rpb24gaXNFbmFibGVkKCkge1xuICAgICAgcmV0dXJuICdzZXJ2aWNlV29ya2VyJyBpbiBuYXZpZ2F0b3I7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXR0YWNoV29ya2VyKCkge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBpZiAoaXNFbmFibGVkKCkpIHtcbiAgICAgICAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3Rlcignc2VydmljZS13b3JrZXIuanMnKSAgXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVhZHk7XG4gICAgICAgICAgfSkudGhlbihmdW5jdGlvbihzZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uKSB7XG4gICAgICAgICAgICByZWcgPSBzZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1NlcnZpY2UgV29ya2VyIGlzIHJlYWR5LicpO1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1NlcnZpY2UgV29ya2VyIEVycm9yLicpO1xuICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVqZWN0KCdzZXJ2aWNlIHdvcmtlcnMgbm90IHN1cHBvcnRlZCcpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzdWJzY3JpYmUoY2IpIHtcbiAgICAgIGlmICghcmVnKSB7XG4gICAgICAgIGF0dGFjaFdvcmtlcigpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgYXV4KCk7XG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXV4KCk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGF1eCgpIHtcbiAgICAgICAgcmVnLnB1c2hNYW5hZ2VyLmdldFN1YnNjcmlwdGlvbigpLnRoZW4oZnVuY3Rpb24ocHVzaFN1YnNjcmlwdGlvbikge1xuICAgICAgICAgIGlmIChwdXNoU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICBzdWIgPSBwdXNoU3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgc2VuZFN1YnNjcmlwdGlvblRvU2VydmVyKCk7XG4gICAgICAgICAgICByZXR1cm4gY2IobnVsbCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmVnLnB1c2hNYW5hZ2VyLnN1YnNjcmliZSh7dXNlclZpc2libGVPbmx5OiB0cnVlfSlcbiAgICAgICAgICAudGhlbihmdW5jdGlvbihwdXNoU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICBzdWIgPSBwdXNoU3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2VuZHBvaW50ID0nLCBzdWIuZW5kcG9pbnQpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1N1YnNjcmliZWQuJyk7XG4gICAgICAgICAgICBzZW5kU3Vic2NyaXB0aW9uVG9TZXJ2ZXIoKTtcbiAgICAgICAgICAgIGNiKG51bGwpO1xuICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1VuYWJsZSB0byBzdWJzY3JpYmUuJyk7XG4gICAgICAgICAgICBjYihlcnIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1bnN1YnNjcmliZShjYikge1xuICAgICAgc3ViLnVuc3Vic2NyaWJlKCkudGhlbihmdW5jdGlvbihldmVudCkge1xuICAgICAgICBjb25zb2xlLmxvZygnVW5zdWJzY3JpYmVkLicsIGV2ZW50KTtcbiAgICAgICAgY2IobnVsbCk7XG4gICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yIHVuc3Vic2NyaWJpbmcuJyk7XG4gICAgICAgIGNiKGVycik7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZW5kU3Vic2NyaXB0aW9uVG9TZXJ2ZXIoKSB7XG4gICAgICB2YXIgZW5kcG9pbnQgPSBzdWIuZW5kcG9pbnQ7XG5cbiAgICAgIGlmIChlbmRwb2ludC5tYXRjaCgvXmh0dHBzOlxcL1xcL2FuZHJvaWRcXC5nb29nbGVhcGlzXFwuY29tXFwvZ2NtXFwvc2VuZC8pKSB7XG4gICAgICAgIHZhciByZWdpc3RyYXRpb25JZCA9IGVuZHBvaW50Lm1hdGNoKC8oPzouKj8pc2VuZFxcLyguKikkLylbMV07XG4gICAgICAgIGVuZHBvaW50ID0gJ2h0dHBzOi8vYW5kcm9pZC5nb29nbGVhcGlzLmNvbS9nY20vc2VuZCc7XG4gICAgICAgIHVzZXJGYWN0b3J5LnNldFJlZ2lzdHJhdGlvbklkKHJlZ2lzdHJhdGlvbklkKTtcbiAgICAgIH1cblxuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gcGxheUV4YW1wbGUoKSB7XG4gICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgcmVnaXN0cmF0aW9uSWRzOiBbdXNlckZhY3RvcnkuZ2V0UmVnaXN0cmF0aW9uSWQoKV0sXG4gICAgICB9O1xuXG4gICAgICBjb25zb2xlLmxvZygnZGF0YSA9JywgZGF0YSk7XG5cbiAgICAgICRodHRwLnBvc3QoYXBpRmFjdG9yeS5nZXRCYXNlVXJsKCkgKyAnL2FwaS9nY20nLCBkYXRhKVxuICAgICAgLnRoZW4oZnVuY3Rpb24gc3VjY2VzcygpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ3NlbnQgdG8gc2VydmVyJyk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uIGVycm9yKCkge1xuICAgICAgICBjb25zb2xlLmxvZygnZXJyb3IgcG9zdGluZyB0byBzZXJ2ZXInKTtcbiAgICAgIH0pO1xuICAgIH1cbn1cblxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyLm1vZHVsZSgnYXBwJylcbiAgLmZhY3RvcnkoJ3RpbWVGYWN0b3J5JywgdGltZUZhY3RvcnkpO1xuXG4gIHRpbWVGYWN0b3J5LiRpbmplY3QgPSBbJyRodHRwJywgJ3VzZXJGYWN0b3J5JywgJ2FwaUZhY3RvcnknXTtcblxuICBmdW5jdGlvbiB0aW1lRmFjdG9yeSgkaHR0cCwgdXNlckZhY3RvcnksIGFwaUZhY3RvcnkpIHtcbiAgICB2YXIgc2VydmljZXMgPSB7XG4gICAgICBnZXRUdXJ0bGVUaW1lczogZ2V0VHVydGxlVGltZXMsXG4gICAgfTtcblxuICAgIHZhciBnbG9iYWxIb3RmaXggPSBmYWxzZTtcbiAgICB2YXIgZ2xvYmFsSG90Zml4RGF0ZSA9ICcyMDE1LTA5LTE3JztcbiAgICB2YXIgamFwYW5Ib3RmaXggPSBmYWxzZTtcbiAgICB2YXIgamFwYW5Ib3RmaXhEYXRlID0gJzIwMTUtMDktMTcnO1xuXG4gICAgcmV0dXJuIHNlcnZpY2VzO1xuXG4gICAgZnVuY3Rpb24gZ2V0VHVydGxlVGltZXMoY2IpIHtcbiAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgIHBhcmFtczoge1xuICAgICAgICAgIGRpZ2l0OiB1c2VyRmFjdG9yeS5nZXREaWdpdCgpLFxuICAgICAgICAgIHRpbWVGb3JtYXQ6IHVzZXJGYWN0b3J5LmdldFRpbWVGb3JtYXQoKSxcbiAgICAgICAgICB2ZXJzaW9uOiB1c2VyRmFjdG9yeS5nZXRWZXJzaW9uKCksXG4gICAgICAgICAgbnVtT2ZEYXlzOiAzLFxuICAgICAgICB9LFxuICAgICAgfVxuXG4gICAgICAkaHR0cC5nZXQoYXBpRmFjdG9yeS5nZXRCYXNlVXJsKCkgKyAnL2FwaS90dXJ0bGUnLCBwYXJhbXMpXG4gICAgICAudGhlbihmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XG4gICAgICAgIHVzZXJGYWN0b3J5LnNldFR1cnRsZVRpbWVzKHJlc3BvbnNlLmRhdGEubWFwKGZ1bmN0aW9uKHRpbWUpIHtcbiAgICAgICAgICByZXR1cm4gbW9tZW50LnV0Yyh0aW1lKTtcbiAgICAgICAgfSkpO1xuICAgICAgICB2YXIgdHVydGxlVGltZXMgPSBnZXRGb3JtYXR0ZWRUaW1lcyhyZXNwb25zZS5kYXRhKTtcbiAgICAgICAgY2IobnVsbCwgdHVydGxlVGltZXMpO1xuICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gZXJyb3IoZXJyKSB7XG4gICAgICAgIGNiKGVycik7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRGb3JtYXR0ZWRUaW1lcyh0dXJ0bGVUaW1lcykge1xuICAgICAgdmFyIHRpbWVGb3JtYXQgPSB1c2VyRmFjdG9yeS5nZXRUaW1lRm9ybWF0KCk7XG5cbiAgICAgIHJldHVybiB0dXJ0bGVUaW1lcy5tYXAoZnVuY3Rpb24odGltZVN0cikge1xuICAgICAgICB2YXIgdGltZSwgZGF0ZTtcbiAgICAgICAgdmFyIHR1cnRsZVRpbWUgPSBtb21lbnQudXRjKHRpbWVTdHIpO1xuXG4gICAgICAgIGlmICh0aW1lRm9ybWF0ID09PSAnc3RhbmRhcmQnKVxuICAgICAgICAgIHRpbWUgPSB0dXJ0bGVUaW1lLmxvY2FsKCkuZm9ybWF0KCdoOm1tIGEnKTtcbiAgICAgICAgZWxzZSBpZiAodGltZUZvcm1hdCA9PT0gJ21pbGl0YXJ5JylcbiAgICAgICAgICB0aW1lID0gdHVydGxlVGltZS5sb2NhbCgpLmZvcm1hdCgnSEg6bW0nKTtcblxuICAgICAgICBkYXRlID0gdHVydGxlVGltZS5sb2NhbCgpLmZvcm1hdCgnTEwnKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHRpbWU6IHRpbWUsXG4gICAgICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4gIC5jb250cm9sbGVyKCdUdXJ0bGVDdHJsJywgdHVydGxlQ3RybCk7XG5cbiAgdHVydGxlQ3RybC4kaW5qZWN0ID0gWyckc2NvcGUnLCAndXNlckZhY3RvcnknLCAndGltZUZhY3RvcnknLCAnbm90aWZpY2F0aW9uRmFjdG9yeScsICdodG1sTm90aWZpY2F0aW9uRmFjdG9yeScsICdjYWxlbmRhckZhY3RvcnknLCAnbmF2YmFyRmFjdG9yeSddO1xuICBcbiAgZnVuY3Rpb24gdHVydGxlQ3RybCgkc2NvcGUsIHVzZXJGYWN0b3J5LCB0aW1lRmFjdG9yeSwgbm90aWZpY2F0aW9uRmFjdG9yeSwgaHRtbE5vdGlmaWNhdGlvbkZhY3RvcnksIGNhbGVuZGFyRmFjdG9yeSwgbmF2YmFyRmFjdG9yeSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHNldFBhcmFtcygpO1xuXG4gICAgZnVuY3Rpb24gc2V0UGFyYW1zKCkge1xuICAgICAgbmF2YmFyRmFjdG9yeS5zZXRTZW8oJ1R1cnRsZSBUaW1lIENhbGN1bGF0b3InLCAnRGV0ZXJtaW5lIHlvdXIgdXBjb21pbmcgdHVydGxlIHRpbWUgb24gdGhpcyBhdXRvbWF0aWNhbGx5LXVwZGF0aW5nIGNhbGN1bGF0b3IgYW5kIGFuZCByZWNlaXZlIGEgcHVzaCBub3RpZmljYXRpb24gb24gQW5kcm9pZCBvciBkZXNrdG9wIGJyb3dzZXIuJyk7XG4gICAgICBzZWxmLnRpbWV6b25lID0gdXNlckZhY3RvcnkuZ2V0VGltZVpvbmUoKTtcbiAgICAgIHNlbGYuZGlnaXQgPSB1c2VyRmFjdG9yeS5nZXREaWdpdCgpO1xuICAgICAgc2VsZi52ZXJzaW9uID0gdXNlckZhY3RvcnkuZ2V0VmVyc2lvbigpO1xuICAgICAgc2VsZi50dXJ0bGVUaW1lcyA9IFtdO1xuICAgICAgc2VsZi5ub3RpZmljYXRpb25TdGF0dXMgPSB0cnVlO1xuICAgICAgc2VsZi5odG1sTm90aWZpY2F0aW9uU3RhdHVzID0gdXNlckZhY3RvcnkuZ2V0SHRtbE5vdGlmaWNhdGlvblN0YXR1cygpO1xuICAgICAgc2VsZi5ub3RpZmljYXRpb25FbmFibGVkID0gbm90aWZpY2F0aW9uRmFjdG9yeS5pc0VuYWJsZWQoKTtcbiAgICAgIHNlbGYuaHRtbE5vdGlmaWNhdGlvbkVuYWJsZWQgPSBodG1sTm90aWZpY2F0aW9uRmFjdG9yeS5pc0VuYWJsZWQoKTtcbiAgICAgIGdldFR1cnRsZVRpbWVzKCk7XG4gICAgICB0b2dnbGVOb3RpZmljYXRpb24oKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0b2dnbGVOb3RpZmljYXRpb24oKSB7XG4gICAgICBpZiAoc2VsZi5ub3RpZmljYXRpb25TdGF0dXMpIHtcbiAgICAgICAgbm90aWZpY2F0aW9uRmFjdG9yeS5zdWJzY3JpYmUoZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgc2VsZi5ub3RpZmljYXRpb25TdGF0dXMgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc29sZS5sb2coJ3N1YnNjcmliZWQnKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBub3RpZmljYXRpb25GYWN0b3J5LnVuc3Vic2NyaWJlKGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICBzZWxmLm5vdGlmaWNhdGlvblN0YXR1cyA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc29sZS5sb2coJ3Vuc3Vic2NyaWJlZCcpO1xuICAgICAgICB9KVxuICAgICAgfSAgICAgIFxuICAgIH1cblxuICAgIHNlbGYudG9nZ2xlTm90aWZpY2F0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICB0b2dnbGVOb3RpZmljYXRpb24oKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRUdXJ0bGVUaW1lcygpIHtcbiAgICAgIHRpbWVGYWN0b3J5LmdldFR1cnRsZVRpbWVzKGZ1bmN0aW9uKGVyciwgdHVydGxlVGltZXMpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCd1bmFibGUgdG8gcmV0cmlldmUgdGltZXMnKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLnR1cnRsZVRpbWVzID0gdHVydGxlVGltZXM7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBzZWxmLnVwZGF0ZURpZ2l0ID0gZnVuY3Rpb24oKSB7XG4gICAgICB1c2VyRmFjdG9yeS5zZXREaWdpdChzZWxmLmRpZ2l0KTtcbiAgICAgIGdldFR1cnRsZVRpbWVzKCk7XG4gICAgfTtcblxuICAgIHNlbGYudXBkYXRlVmVyc2lvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgdXNlckZhY3Rvcnkuc2V0VmVyc2lvbihzZWxmLnZlcnNpb24pO1xuICAgICAgZ2V0VHVydGxlVGltZXMoKTtcbiAgICB9O1xuXG4gICAgc2VsZi51cGRhdGVIdG1sTm90aWZpY2F0aW9uU3RhdHVzID0gZnVuY3Rpb24oKSB7XG4gICAgICB1c2VyRmFjdG9yeS5zZXRIdG1sTm90aWZpY2F0aW9uU3RhdHVzKHNlbGYuaHRtbE5vdGlmaWNhdGlvblN0YXR1cyk7XG4gICAgICBodG1sTm90aWZpY2F0aW9uRmFjdG9yeS5zZXROb3RpZmljYXRpb25zKCk7XG4gICAgfVxuXG4gICAgc2VsZi5wbGF5RXhhbXBsZU5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgbm90aWZpY2F0aW9uRmFjdG9yeS5wbGF5RXhhbXBsZSgpO1xuICAgIH1cblxuICAgIHNlbGYucGxheUV4YW1wbGVIdG1sTm90aWZpY2F0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICBodG1sTm90aWZpY2F0aW9uRmFjdG9yeS5wbGF5RXhhbXBsZSgpO1xuICAgIH1cblxuICAgIHNlbGYuZ2V0Q2FsZW5kYXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIGNhbGVuZGFyRmFjdG9yeS5nZXRDYWxlbmRhcigpO1xuICAgIH1cbiAgfVxuXG59KSgpOyIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuICAuZmFjdG9yeSgndXNlckZhY3RvcnknLCB1c2VyRmFjdG9yeSk7XG5cbiAgdXNlckZhY3RvcnkuJGluamVjdCA9IFsnbG9jYWxTdG9yYWdlU2VydmljZScsICckaHR0cCcsICdhcGlGYWN0b3J5JywgJyR0cmFuc2xhdGUnXTtcblxuICBmdW5jdGlvbiB1c2VyRmFjdG9yeShsb2NhbFN0b3JhZ2VTZXJ2aWNlLCAkaHR0cCwgYXBpRmFjdG9yeSwgJHRyYW5zbGF0ZSkge1xuICAgIHZhciBzZXJ2aWNlcyA9IHtcbiAgICAgIGdldFRpbWVab25lOiBnZXRUaW1lWm9uZSxcbiAgICAgIGdldERpZ2l0OiBnZXREaWdpdCxcbiAgICAgIHNldERpZ2l0OiBzZXREaWdpdCxcbiAgICAgIGdldFRpbWVGb3JtYXQ6IGdldFRpbWVGb3JtYXQsXG4gICAgICBzZXRUaW1lRm9ybWF0OiBzZXRUaW1lRm9ybWF0LFxuICAgICAgZ2V0VmVyc2lvbjogZ2V0VmVyc2lvbixcbiAgICAgIHNldFZlcnNpb246IHNldFZlcnNpb24sXG4gICAgICBnZXRIdG1sTm90aWZpY2F0aW9uU3RhdHVzOiBnZXRIdG1sTm90aWZpY2F0aW9uU3RhdHVzLFxuICAgICAgc2V0SHRtbE5vdGlmaWNhdGlvblN0YXR1czogc2V0SHRtbE5vdGlmaWNhdGlvblN0YXR1cyxcbiAgICAgIGdldEh0bWxOb3RpZmljYXRpb25Tb3VuZFN0YXR1czogZ2V0SHRtbE5vdGlmaWNhdGlvblNvdW5kU3RhdHVzLFxuICAgICAgc2V0SHRtbE5vdGlmaWNhdGlvblNvdW5kU3RhdHVzOiBzZXRIdG1sTm90aWZpY2F0aW9uU291bmRTdGF0dXMsXG4gICAgICBnZXRUdXJ0bGVUaW1lczogZ2V0VHVydGxlVGltZXMsXG4gICAgICBzZXRUdXJ0bGVUaW1lczogc2V0VHVydGxlVGltZXMsXG4gICAgICBnZXRUaW1lQmVmb3JlTm90aWZpY2F0aW9uOiBnZXRUaW1lQmVmb3JlTm90aWZpY2F0aW9uLFxuICAgICAgc2V0VGltZUJlZm9yZU5vdGlmaWNhdGlvbjogc2V0VGltZUJlZm9yZU5vdGlmaWNhdGlvbixcbiAgICAgIGdldFJlZ2lzdHJhdGlvbklkOiBnZXRSZWdpc3RyYXRpb25JZCxcbiAgICAgIHNldFJlZ2lzdHJhdGlvbklkOiBzZXRSZWdpc3RyYXRpb25JZCxcbiAgICAgIGdldERldGFpbGVkSG91clN0YXR1czogZ2V0RGV0YWlsZWRIb3VyU3RhdHVzLFxuICAgICAgc2V0RGV0YWlsZWRIb3VyU3RhdHVzOiBzZXREZXRhaWxlZEhvdXJTdGF0dXMsXG4gICAgICBnZXRMb2NhbGU6IGdldExvY2FsZSxcbiAgICAgIHNldExvY2FsZTogc2V0TG9jYWxlLFxuICAgICAgZ2V0UGFzc3dvcmQ6IGdldFBhc3N3b3JkLFxuICAgICAgc2V0UGFzc3dvcmQ6IHNldFBhc3N3b3JkLFxuICAgIH07XG5cbiAgICB2YXIgZGlnaXQ7XG4gICAgdmFyIHRpbWVGb3JtYXQ7XG4gICAgdmFyIHZlcnNpb247XG4gICAgdmFyIGh0bWxOb3RpZmljYXRpb25TdGF0dXM7XG4gICAgdmFyIGh0bWxOb3RpZmljYXRpb25Tb3VuZFN0YXR1cztcbiAgICB2YXIgdHVydGxlVGltZXM7XG4gICAgdmFyIHRpbWVCZWZvcmVOb3RpZmljYXRpb247XG4gICAgdmFyIHJlZ2lzdHJhdGlvbklkO1xuICAgIHZhciBkZXRhaWxlZEhvdXJTdGF0dXM7XG4gICAgdmFyIGxvY2FsZTtcbiAgICB2YXIgcGFzc3dvcmQ7XG4gICAgbG9hZEZyb21TdG9yYWdlKCk7XG5cbiAgICByZXR1cm4gc2VydmljZXM7XG5cbiAgICBmdW5jdGlvbiBsb2FkRnJvbVN0b3JhZ2UoKSB7XG4gICAgICBkaWdpdCA9IGxvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KCdkaWdpdCcpIHx8IDA7XG4gICAgICB0aW1lRm9ybWF0ID0gbG9jYWxTdG9yYWdlU2VydmljZS5nZXQoJ3RpbWVGb3JtYXQnKSB8fCAnc3RhbmRhcmQnO1xuICAgICAgdmVyc2lvbiA9IGxvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KCd2ZXJzaW9uJykgfHwgJ2dsb2JhbCc7XG4gICAgICBodG1sTm90aWZpY2F0aW9uU3RhdHVzID0gbG9jYWxTdG9yYWdlU2VydmljZS5nZXQoJ2h0bWxOb3RpZmljYXRpb25TdGF0dXMnKSB8fCBmYWxzZTtcbiAgICAgIGh0bWxOb3RpZmljYXRpb25Tb3VuZFN0YXR1cyA9IGxvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KCdodG1sTm90aWZpY2F0aW9uU291bmRTdGF0dXMnKSB8fCBmYWxzZTtcbiAgICAgIHRpbWVCZWZvcmVOb3RpZmljYXRpb24gPSBsb2NhbFN0b3JhZ2VTZXJ2aWNlLmdldCgndGltZUJlZm9yZU5vdGlmaWNhdGlvbicpIHx8IDEwO1xuICAgICAgZGV0YWlsZWRIb3VyU3RhdHVzID0gbG9jYWxTdG9yYWdlU2VydmljZS5nZXQoJ2RldGFpbGVkSG91clN0YXR1cycpIHx8IGZhbHNlO1xuICAgICAgbG9jYWxlID0gbG9jYWxTdG9yYWdlU2VydmljZS5nZXQoJ2xvY2FsZScpIHx8ICdlbic7XG4gICAgICAkdHJhbnNsYXRlLnVzZShsb2NhbGUpO1xuICAgICAgbW9tZW50LmxvY2FsZShsb2NhbGUpO1xuICAgICAgcGFzc3dvcmQgPSBsb2NhbFN0b3JhZ2VTZXJ2aWNlLmdldCgncGFzc3dvcmQnKSB8fCAnJztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwb3N0VXNlckRhdGEoKSB7XG4gICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgZGlnaXQ6IGRpZ2l0JTUsXG4gICAgICAgIHJlZ2lzdHJhdGlvbklkOiByZWdpc3RyYXRpb25JZCxcbiAgICAgICAgdGltZUJlZm9yZTogdGltZUJlZm9yZU5vdGlmaWNhdGlvbixcbiAgICAgIH07XG5cbiAgICAgICRodHRwLnBvc3QoYXBpRmFjdG9yeS5nZXRCYXNlVXJsKCkgKyAnL2FwaS91c2VycycsIGRhdGEpXG4gICAgICAudGhlbihmdW5jdGlvbiBzdWNjZXNzKCkge1xuICAgICAgICBjb25zb2xlLmxvZygncG9zdGVkIHN1YnNjcmlwdGlvbiB0byBzZXJ2ZXInKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZnVuY3Rpb24gZXJyb3IoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdlcnJvciBwb3N0aW5nIHN1YnNjcmlwdGlvbiB0byBzZXJ2ZXInKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFRpbWVab25lKCkge1xuICAgICAgcmV0dXJuIGpzdHouZGV0ZXJtaW5lKCkubmFtZSgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldERpZ2l0KCkge1xuICAgICAgcmV0dXJuIGRpZ2l0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldERpZ2l0KGQpIHtcbiAgICAgIGRpZ2l0ID0gZCAlIDU7XG4gICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnNldCgnZGlnaXQnLCBkKTtcbiAgICAgIHBvc3RVc2VyRGF0YSgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFRpbWVGb3JtYXQoKSB7XG4gICAgICByZXR1cm4gdGltZUZvcm1hdDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRUaW1lRm9ybWF0KHRmKSB7XG4gICAgICB0aW1lRm9ybWF0ID0gdGY7XG4gICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnNldCgndGltZUZvcm1hdCcsIHRmKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRWZXJzaW9uKCkge1xuICAgICAgcmV0dXJuIHZlcnNpb247XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0VmVyc2lvbih2KSB7XG4gICAgICB2ZXJzaW9uID0gdjtcbiAgICAgIGxvY2FsU3RvcmFnZVNlcnZpY2Uuc2V0KCd2ZXJzaW9uJywgdik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0SHRtbE5vdGlmaWNhdGlvblN0YXR1cygpIHtcbiAgICAgIHJldHVybiBodG1sTm90aWZpY2F0aW9uU3RhdHVzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldEh0bWxOb3RpZmljYXRpb25TdGF0dXMoaCkge1xuICAgICAgaHRtbE5vdGlmaWNhdGlvblN0YXR1cyA9IGg7XG4gICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnNldCgnaHRtbE5vdGlmaWNhdGlvblN0YXR1cycsIGgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFR1cnRsZVRpbWVzKCkge1xuICAgICAgcmV0dXJuIHR1cnRsZVRpbWVzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldFR1cnRsZVRpbWVzKHR0KSB7XG4gICAgICB0dXJ0bGVUaW1lcyA9IHR0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldEh0bWxOb3RpZmljYXRpb25Tb3VuZFN0YXR1cygpIHtcbiAgICAgIHJldHVybiBodG1sTm90aWZpY2F0aW9uU291bmRTdGF0dXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0SHRtbE5vdGlmaWNhdGlvblNvdW5kU3RhdHVzKHMpIHtcbiAgICAgIGh0bWxOb3RpZmljYXRpb25Tb3VuZFN0YXR1cyA9IHM7XG4gICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnNldCgnaHRtbE5vdGlmaWNhdGlvblNvdW5kU3RhdHVzJywgcyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0VGltZUJlZm9yZU5vdGlmaWNhdGlvbigpIHtcbiAgICAgIHJldHVybiB0aW1lQmVmb3JlTm90aWZpY2F0aW9uO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldFRpbWVCZWZvcmVOb3RpZmljYXRpb24odCkge1xuICAgICAgdGltZUJlZm9yZU5vdGlmaWNhdGlvbiA9IHQ7XG4gICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnNldCgndGltZUJlZm9yZU5vdGlmaWNhdGlvbicsIHQpO1xuICAgICAgcG9zdFVzZXJEYXRhKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0UmVnaXN0cmF0aW9uSWQoKSB7XG4gICAgICByZXR1cm4gcmVnaXN0cmF0aW9uSWQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0UmVnaXN0cmF0aW9uSWQocikge1xuICAgICAgcmVnaXN0cmF0aW9uSWQgPSByO1xuICAgICAgcG9zdFVzZXJEYXRhKCk7IFxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldERldGFpbGVkSG91clN0YXR1cygpIHtcbiAgICAgIHJldHVybiBkZXRhaWxlZEhvdXJTdGF0dXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0RGV0YWlsZWRIb3VyU3RhdHVzKGQpIHtcbiAgICAgIGRldGFpbGVkSG91clN0YXR1cyA9IGQ7XG4gICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnNldCgnZGV0YWlsZWRIb3VyU3RhdHVzJywgZCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0TG9jYWxlKCkge1xuICAgICAgcmV0dXJuIGxvY2FsZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRMb2NhbGUobCkge1xuICAgICAgbG9jYWxlID0gbDtcbiAgICAgIGxvY2FsU3RvcmFnZVNlcnZpY2Uuc2V0KCdsb2NhbGUnLCBsKTtcbiAgICAgICR0cmFuc2xhdGUudXNlKGwpO1xuICAgICAgbW9tZW50LmxvY2FsZShsb2NhbGUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFBhc3N3b3JkKCkge1xuICAgICAgcmV0dXJuIHBhc3N3b3JkO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldFBhc3N3b3JkKHApIHtcbiAgICAgIHBhc3N3b3JkID0gcDtcbiAgICAgIGxvY2FsU3RvcmFnZVNlcnZpY2Uuc2V0KCdwYXNzd29yZCcsIHApO1xuICAgIH1cbiAgfVxuXG59KSgpOyIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuICAuY29udHJvbGxlcignTmF2YmFyQ3RybCcsIG5hdmJhckN0cmwpO1xuXG4gIG5hdmJhckN0cmwuJGluamVjdCA9IFsnJHN0YXRlJywgJyRtZFNpZGVuYXYnLCAnJHRyYW5zbGF0ZScsICckc2NvcGUnLCAndXNlckZhY3RvcnknLCAnbmF2YmFyRmFjdG9yeSddO1xuXG4gIGZ1bmN0aW9uIG5hdmJhckN0cmwoJHN0YXRlLCAkbWRTaWRlbmF2LCAkdHJhbnNsYXRlLCAkc2NvcGUsIHVzZXJGYWN0b3J5LCBuYXZiYXJGYWN0b3J5KSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHNlbGYuc2VvID0gbmF2YmFyRmFjdG9yeS5nZXRTZW8oKTtcblxuICAgIGFjdGl2YXRlKCk7XG5cbiAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcbiAgICAgIHNlbGYubWVudSA9IFtcbiAgICAgICAge1xuICAgICAgICAgIGxpbms6ICd0dXJ0bGUnLFxuICAgICAgICAgIHRpdGxlOiAkdHJhbnNsYXRlLmluc3RhbnQoJ05BVl9UVVJUTEUnKSxcbiAgICAgICAgICBpY29uOiAnZmEtaG9tZSdcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGxpbms6ICdiYXJyZWwnLFxuICAgICAgICAgIHRpdGxlOiAkdHJhbnNsYXRlLmluc3RhbnQoJ05BVl9CQVJSRUwnKSxcbiAgICAgICAgICBpY29uOiAnZmEtdXNlcnMnXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBsaW5rOiAnZXZlbnRzJyxcbiAgICAgICAgICB0aXRsZTogJHRyYW5zbGF0ZS5pbnN0YW50KCdOQVZfRVZFTlQnKSxcbiAgICAgICAgICBpY29uOiAnZmEtY2FsZW5kYXItbydcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGxpbms6ICdjb250YWN0JyxcbiAgICAgICAgICB0aXRsZTogJHRyYW5zbGF0ZS5pbnN0YW50KCdOQVZfQ09OVEFDVCcpLFxuICAgICAgICAgIGljb246ICdmYS1lbnZlbG9wZSdcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGxpbms6ICdzZXR0aW5ncycsXG4gICAgICAgICAgdGl0bGU6ICR0cmFuc2xhdGUuaW5zdGFudCgnTkFWX1NFVFRJTkdTJyksXG4gICAgICAgICAgaWNvbjogJ2ZhLWNvZ3MnXG4gICAgICAgIH1cbiAgICAgIF07XG4gICAgfVxuXG4gICAgc2VsZi5pc1NlbGVjdGVkID0gZnVuY3Rpb24odGl0bGUpIHtcbiAgICAgIGlmICghJHN0YXRlLmN1cnJlbnQuaGFzT3duUHJvcGVydHkoJ2RhdGEnKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICBzZWxmLnRpdGxlID0gJHRyYW5zbGF0ZS5pbnN0YW50KCRzdGF0ZS5jdXJyZW50LmRhdGEudGl0bGUpO1xuICAgICAgcmV0dXJuICh0aXRsZSA9PT0gc2VsZi50aXRsZSk7XG4gICAgfTtcblxuICAgIHNlbGYudG9nZ2xlU2lkZW5hdiA9IGZ1bmN0aW9uKCkge1xuICAgICAgJG1kU2lkZW5hdignbGVmdCcpLnRvZ2dsZSgpO1xuICAgIH07XG5cbiAgICAkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHVzZXJGYWN0b3J5LmdldExvY2FsZSgpO1xuICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgYWN0aXZhdGUoKTtcbiAgICB9KTtcblxuICB9XG5cbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4gIC5mYWN0b3J5KCduYXZiYXJGYWN0b3J5JywgbmF2YmFyRmFjdG9yeSk7XG5cbiAgbmF2YmFyRmFjdG9yeS4kaW5qZWN0ID0gW107XG5cbiAgZnVuY3Rpb24gbmF2YmFyRmFjdG9yeSgpIHtcbiAgICB2YXIgc2VydmljZXMgPSB7XG4gICAgICBnZXRTZW86IGdldFNlbyxcbiAgICAgIHNldFNlbzogc2V0U2VvLFxuICAgIH07XG5cbiAgICB2YXIgc2VvID0ge1xuICAgICAgcGFnZVRpdGxlOiAnSG9tZScsXG4gICAgICBkZXNjcmlwdGlvbjogJ1N1cHBsZW1lbnQgYXBwIGZvciBPbmUgUGllY2UgVHJlYXN1cmUgQ3J1aXNlIHRvIGhlbHAgY2FsY3VsYXRlIHlvdXIgdHVydGxlIHRpbWVzIGFuZCBzZXQgbm90aWZpY2F0aW9ucy4nLFxuICAgIH07XG5cblxuICAgIHJldHVybiBzZXJ2aWNlcztcblxuICAgIGZ1bmN0aW9uIGdldFNlbygpIHtcbiAgICAgIHJldHVybiBzZW87XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0U2VvKHRpdGxlLCBkZXNjcmlwdGlvbikge1xuICAgICAgc2VvLnBhZ2VUaXRsZSA9IHRpdGxlO1xuICAgICAgc2VvLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG5cbiAgICAgIHJldHVybiBzZW87XG4gICAgfVxuICB9XG5cbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4gIC5jb250cm9sbGVyKCdTZXR0aW5nc0N0cmwnLCBzZXR0aW5nc0N0cmwpO1xuXG4gIHNldHRpbmdzQ3RybC4kaW5qZWN0ID0gWyd1c2VyRmFjdG9yeScsICduYXZiYXJGYWN0b3J5J107XG5cbiAgZnVuY3Rpb24gc2V0dGluZ3NDdHJsKHVzZXJGYWN0b3J5LCBuYXZiYXJGYWN0b3J5KSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgc2VsZi5sYW5ndWFnZXMgPSBbXG4gICAgICB7XG4gICAgICAgIGxhbmd1YWdlOiAnRW5nbGlzaCcsXG4gICAgICAgIGFiYnJldjogJ2VuJyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGxhbmd1YWdlOiAnRGV1dHNjaCcsXG4gICAgICAgIGFiYnJldjogJ2RlJyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGxhbmd1YWdlOiAnRXNwYcOxb2wnLFxuICAgICAgICBhYmJyZXY6ICdlcycsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBsYW5ndWFnZTogJ2ZyYW7Dp2FpcycsXG4gICAgICAgIGFiYnJldjogJ2ZyJyxcbiAgICAgIH0sXG4gICAgXTtcblxuICAgIG5hdmJhckZhY3Rvcnkuc2V0U2VvKCdTZXR0aW5ncycsICdBZGp1c3QgeW91ciBsYW5ndWFnZSBhbmQgY3VzdG9taXplIHlvdXIgbm90aWZpY2F0aW9uIHNldHRpbmdzLicpO1xuICAgIHNlbGYudGltZUZvcm1hdCA9IHVzZXJGYWN0b3J5LmdldFRpbWVGb3JtYXQoKTtcbiAgICBzZWxmLmh0bWxOb3RpZmljYXRpb25Tb3VuZFN0YXR1cyA9IHVzZXJGYWN0b3J5LmdldEh0bWxOb3RpZmljYXRpb25Tb3VuZFN0YXR1cygpO1xuICAgIHNlbGYudGltZUJlZm9yZU5vdGlmaWNhdGlvbiA9IHVzZXJGYWN0b3J5LmdldFRpbWVCZWZvcmVOb3RpZmljYXRpb24oKTtcbiAgICBzZWxmLmxvY2FsZSA9IHVzZXJGYWN0b3J5LmdldExvY2FsZSgpO1xuXG4gICAgc2VsZi5zZXRUaW1lRm9ybWF0ID0gZnVuY3Rpb24oKSB7XG4gICAgICB1c2VyRmFjdG9yeS5zZXRUaW1lRm9ybWF0KHNlbGYudGltZUZvcm1hdCk7XG4gICAgfTtcblxuICAgIHNlbGYuc2V0SHRtbE5vdGlmaWNhdGlvblNvdW5kU3RhdHVzID0gZnVuY3Rpb24oKSB7XG4gICAgICB1c2VyRmFjdG9yeS5zZXRIdG1sTm90aWZpY2F0aW9uU291bmRTdGF0dXMoc2VsZi5odG1sTm90aWZpY2F0aW9uU291bmRTdGF0dXMpO1xuICAgIH1cblxuICAgIHNlbGYudXBkYXRlVGltZUJlZmVyZU5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgdXNlckZhY3Rvcnkuc2V0VGltZUJlZm9yZU5vdGlmaWNhdGlvbihzZWxmLnRpbWVCZWZvcmVOb3RpZmljYXRpb24pO1xuICAgIH1cblxuICAgIHNlbGYudXBkYXRlTG9jYWxlID0gZnVuY3Rpb24oKSB7XG4gICAgICB1c2VyRmFjdG9yeS5zZXRMb2NhbGUoc2VsZi5sb2NhbGUpO1xuICAgIH1cblxuICB9XG5cbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cblxuICBhbmd1bGFyLm1vZHVsZSgnYXBwJylcbiAgLmNvbmZpZyhjb25maWcpO1xuXG4gIGNvbmZpZy4kaW5qZWN0ID0gWyckc3RhdGVQcm92aWRlcicsICckdXJsUm91dGVyUHJvdmlkZXInLCAnJGxvY2F0aW9uUHJvdmlkZXInXTtcblxuICBmdW5jdGlvbiBjb25maWcoJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciwgJGxvY2F0aW9uUHJvdmlkZXIpIHtcbiAgICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvdHVydGxlJyk7XG5cbiAgICAkc3RhdGVQcm92aWRlclxuICAgICAgLnN0YXRlKCd0dXJ0bGUnLCB7XG4gICAgICAgIHVybDogJy90dXJ0bGUnLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ3R1cnRsZS90dXJ0bGUuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdUdXJ0bGVDdHJsJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAndHVydGxlJyxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHRpdGxlOiAnTkFWX1RVUlRMRSdcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5zdGF0ZSgnYmFycmVsJywge1xuICAgICAgICB1cmw6ICcvYmFycmVsJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdiYXJyZWwvYmFycmVsLmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnQmFycmVsQ3RybCcsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ2JhcnJlbCcsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB0aXRsZTogJ05BVl9CQVJSRUwnXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuc3RhdGUoJ2V2ZW50cycsIHtcbiAgICAgICAgdXJsOiAnL2V2ZW50cycsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnZXZlbnRzL2V2ZW50cy5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogJ0V2ZW50c0N0cmwnLFxuICAgICAgICBjb250cm9sbGVyQXM6ICdldmVudHMnLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdGl0bGU6ICdOQVZfRVZFTlQnXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuc3RhdGUoJ2NvbnRhY3QnLCB7XG4gICAgICAgIHVybDogJy9jb250YWN0JyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdjb250YWN0L2NvbnRhY3QuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdDb250YWN0Q3RybCcsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ2NvbnRhY3QnLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdGl0bGU6ICdOQVZfQ09OVEFDVCdcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5zdGF0ZSgnc2V0dGluZ3MnLCB7XG4gICAgICAgIHVybDogJy9zZXR0aW5ncycsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnc2V0dGluZ3Mvc2V0dGluZ3MuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdTZXR0aW5nc0N0cmwnLFxuICAgICAgICBjb250cm9sbGVyQXM6ICdzZXR0aW5ncycsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB0aXRsZTogJ05BVl9TRVRUSU5HUydcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5zdGF0ZSgnYWRtaW4nLCB7XG4gICAgICAgIHVybDogJy9hZG1pbicsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnYWRtaW4vYWRtaW4uaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdBZG1pbkN0cmwnLFxuICAgICAgICBjb250cm9sbGVyQXM6ICdhZG1pbicsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB0aXRsZTogJ0FkbWluJ1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8gJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHRydWUpO1xuICAgICAgJGxvY2F0aW9uUHJvdmlkZXIuaGFzaFByZWZpeCgnIScpO1xuICB9XG59KSgpOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
