angular.module("app",["ui.router","ngMaterial","LocalStorageModule","md.data.table","pascalprecht.translate"]),function(){"use strict";function AdminCtrl(adminFactory,userFactory,navbarFactory){function activate(){navbarFactory.setSeo("Admin","Admin page for managing event dates."),adminFactory.getTurtleDates(function(err,globalDates,japanDates){return err?void console.log("err =",err):(self.globalDates=globalDates,void(self.japanDates=japanDates))})}var self=this;self.globalDates=[],self.japanDates=[],self.globalSelected=[],self.japanSelected=[],self.password=userFactory.getPassword(),activate(),self.addBoth=function(){self.addDate("global"),self.addDate("japan")},self.addDate=function(version){var date=self.turtleDate.toISOString().slice(0,10);adminFactory.addTurtleDate(date,version,function(err){return err?void console.log("err =",err):(console.log("Added turtle date"),void activate())})},self.removeSelectedDates=function(){var dates=self.globalSelected.map(function(date){return{turtleDate:date,version:"global"}}).concat(self.japanSelected.map(function(date){return{turtleDate:date,version:"japan"}}));adminFactory.removeTurtleDates(dates,function(err){return err?void console.log("err =",err):void activate()})},self.removePastDates=function(){function getPastDates(version){var oldDates="global"===version?self.globalDates.slice().reverse():self.japanDates.slice().reverse(),oldDates=oldDates.filter(function(date){return moment.utc(date).add(1,"days").isBefore(moment.utc())}).map(function(date){return{turtleDate:date,version:version}});return oldDates=oldDates.slice(0,5*Math.floor(oldDates.length/5))}var oldDates=getPastDates("global").concat(getPastDates("japan"));adminFactory.removeTurtleDates(oldDates,function(err){return err?void console.log("err =",err):(console.log("removed old dates"),void activate())})},self.addQuarter=function(){adminFactory.addQuarter(function(err){err&&console.log("err =",err),activate()})},self.updatePassword=function(){userFactory.setPassword(self.password)}}angular.module("app").controller("AdminCtrl",AdminCtrl),AdminCtrl.$inject=["adminFactory","userFactory","navbarFactory"]}(),function(){"use strict";function adminFactory($http,apiFactory,userFactory){function getTurtleDates(cb){$http.get(apiFactory.getBaseUrl()+"/api/turtle/date").then(function(response){for(var globalDates=[],japanDates=[],i=0;i<response.data.length;i++)"global"===response.data[i].version?globalDates.push(response.data[i].turtleDate):japanDates.push(response.data[i].turtleDate);cb(null,globalDates,japanDates)})["catch"](function(){cb("unable to get turtle dates")})}function addQuarter(cb){function addDateToArray(arr,turtleDate,version){arr.push({turtleDate:turtleDate,version:version})}for(var NUM_WEEKS=13,dates=[],start=moment.utc().startOf("isoWeek"),i=0;NUM_WEEKS>i;i++)addDateToArray(dates,start.format("YYYY-MM-DD"),"global"),addDateToArray(dates,start.format("YYYY-MM-DD"),"japan"),start.add("4","days"),addDateToArray(dates,start.format("YYYY-MM-DD"),"japan"),start.add("3","days");addTurtleDates(dates,cb)}function addTurtleDates(dates,cb){for(var runCount=0,i=0;i<dates.length;i++)addTurtleDate(dates[i].turtleDate,dates[i].version,function(err){err&&console.log("err =",err),++runCount===dates.length&&cb()})}function addTurtleDate(dateString,version,cb){var turtleDate=convertToUTC(dateString);$http.post(apiFactory.getBaseUrl()+"/api/turtle/date",{turtleDate:turtleDate,version:version,password:userFactory.getPassword()}).then(function(){cb(null)})["catch"](function(){cb("Unable to send message")})}function removeTurtleDates(dates,cb){dates=dates.map(function(date){return{turtleDate:convertToUTC(date.turtleDate),version:date.version,password:userFactory.getPassword()}}),console.log("dates =",dates);for(var runCount=0,i=0;i<dates.length;i++)removeTurtleDate(dates[i],function(err){err&&console.log("err =",err),++runCount===dates.length&&cb()})}function removeTurtleDate(turtleDate,cb){var params={params:turtleDate};$http["delete"](apiFactory.getBaseUrl()+"/api/turtle/date",params).then(function(){cb(null)})["catch"](function(){cb("Unable to delete "+params.turtleDate)})}function convertToUTC(dateString){return moment.utc(dateString).format("x")}var services={addTurtleDate:addTurtleDate,addTurtleDates:addTurtleDates,removeTurtleDates:removeTurtleDates,getTurtleDates:getTurtleDates,addQuarter:addQuarter};return services}angular.module("app").factory("adminFactory",adminFactory),adminFactory.$inject=["$http","apiFactory","userFactory"]}(),function(){"use strict";function barrelCtrl($mdMedia,userFactory,barrelFactory,navbarFactory){function setParams(){navbarFactory.setSeo("Barrel Breaking","Look up when to play the friend game with this up-to-date chart."),self.version=userFactory.getVersion(),self.barrelTimes=barrelFactory.getBarrelTimes(),self.format=userFactory.getDetailedHourStatus()}var self=this;setParams(),self.updateVersion=function(){userFactory.setVersion(self.version),self.barrelTimes=barrelFactory.getBarrelTimes()},self.isLargeScreen=function(){return $mdMedia("gt-md")},self.showHours=function(){userFactory.setDetailedHourStatus(self.format)}}angular.module("app").controller("BarrelCtrl",barrelCtrl),barrelCtrl.$inject=["$mdMedia","userFactory","barrelFactory","navbarFactory"]}(),function(){"use strict";function barrelFactory(userFactory){function getBarrelTimes(){function getTime(dayNum){var startOfDay=start.clone().add(dayNum,"days"),wood=[0,5,4,9,3,8,4,9,2,7,3,8,1,6,2,7,0,5,1,6],silver=[1,6,2,7,0,5,1,6,0,5,4,9,3,8,4,9,2,7,3,8],gold=[3,8,2,7,1,6,0,5,4,9],offset=dayNum+dayOfYear+4,index1=4*offset%20,index2=2*offset%10,woodDigits=wood.slice(index1,index1+4),silverDigits=silver.slice(index1,index1+4),goldDigits=gold.slice(index2,index2+2),date=startOfDay.format("YYYY-MM-DD");return{date:date,woodDigits:woodDigits,silverDigits:silverDigits,goldDigits:goldDigits,hourDisplay:hourDisplay}}for(var version=userFactory.getVersion(),NUM_DAYS=5,barrelTimes=[],data=getStartEndTimes(version),start=data.start,end=data.end,hourDisplay=start.clone().local().format("HH:mm")+"-"+end.clone().local().format("HH:mm"),dayOfYear=start.dayOfYear(),i=0;NUM_DAYS>i;i++)barrelTimes.push(getTime(i));return barrelTimes}function getStartEndTimes(version){var now=moment(),hourOffset="global"===version?12:6,start=moment.utc().startOf("day").add(hourOffset,"hours"),end=start.clone().add(23,"hours").add(59,"minutes");return now.isAfter(end)&&(start.add(1,"day"),end.add(1,"day")),{start:start,end:end}}var services={getBarrelTimes:getBarrelTimes};return services}angular.module("app").factory("barrelFactory",barrelFactory),barrelFactory.$inject=["userFactory"]}(),angular.module("app").config(function($translateProvider){$translateProvider.translations("en",{NAV_TURTLE:"Turtle Time",NAV_BARREL:"Barrel Breaking",NAV_EVENT:"Event",NAV_CONTACT:"Contact Me",NAV_SETTINGS:"Settings",TT_TITLE:"Turtle Time Calculator",TT_DIGIT:"6th digit of ID",TT_FORMAT:"Time Format",TT_STANDARD:"Standard",TT_MILITARY:"24hr format",TT_TIMEZONE:"Time Zone:",TT_SEEMORE:"See More",TT_ADD_CALENDAR:"Add to Calendar",TT_NOTIFICATION:"Chrome/Android Notifications",TT_HTML_NOTIFICATION:"HTML Notifications",TT_NOTIF_TEST:"Example Chrome/Android Notification",TT_HTML_NOTIF_TEST:"Example HTML Notification",TT_NOTIF_MINUTES:"Notification time in advance",TT_MINUTES:"Minutes",TT_NOTIF_SOUND:"Play sound",TT_NOTIF_EXAMPLE:"Example",BB_TITLE:"Barrel Breaking",BB_TIME:"Time till next rotation:",BB_ALT:"Show Hours",BB_DATE:"Date",BB_WOODEN:"Wooden",BB_SILVER:"Silver",BB_GOLD:"Gold"}).translations("de",{NAV_TURTLE:"Turtle Zeiten",NAV_BARREL:"Friend Game",NAV_EVENT:"Ereignis",NAV_CONTACT:"Kontaktiere Mich",NAV_SETTINGS:"Einstellungen",TT_TITLE:"Turtle Zeiten Rechner",TT_DIGIT:"6te Ziffer der ID",TT_FORMAT:"Zeitformat",TT_STANDARD:"Standard",TT_MILITARY:"24-Stunden",TT_TIMEZONE:"Zeitzone:",TT_SEEMORE:"siehe mehr",TT_ADD_CALENDAR:"Zum Kalender hinzufügen",TT_NOTIFICATION:"Chrome/Android Benachrichtigung",TT_HTML_NOTIFICATION:"HTML Benachrichtigung",TT_NOTIF_TEST:"Beispiel Chrome/Android Benachrichtigung",TT_HTML_NOTIF_TEST:"Beispiel HTML Benachrichtigung",TT_NOTIF_MINUTES:"HTML-Benachrichtigung",TT_MINUTES:"Minuten",TT_NOTIF_SOUND:"Ton abspielen",TT_NOTIF_EXAMPLE:"Beispiel",BB_TITLE:"Barrel Breaking",BB_TIME:"Zeit bis zum nächsten Wechsel:",BB_ALT:"Anzeige Stunden",BB_DATE:"Datum",BB_WOODEN:"Holz",BB_SILVER:"Silber",BB_GOLD:"Gold"}).translations("es",{NAV_TURTLE:"Horario Tortugas",NAV_BARREL:"Friend Game",NAV_EVENT:"Evento",NAV_CONTACT:"Contáctame",NAV_SETTINGS:"Configuración",TT_TITLE:"Horario Tortugas Calculadora",TT_DIGIT:"6th dígito de ID",TT_FORMAT:"formato de tiempo",TT_STANDARD:"estándar",TT_MILITARY:"24 horas",TT_TIMEZONE:"Zona Horaria:",TT_SEEMORE:"ver más",TT_ADD_CALENDAR:"Añadir al calendario",TT_NOTIFICATION:"Notificaciones de Chrome/Android",TT_HTML_NOTIFICATION:"Notificaciones de HTML",TT_NOTIF_TEST:"Test Chrome/Android Notification",TT_HTML_NOTIF_TEST:"Test HTML Notification",TT_NOTIF_MINUTES:"Minutos antes de evento",TT_MINUTES:"Minutos",TT_NOTIF_SOUND:"Reproducir sonido",TT_NOTIF_EXAMPLE:"Ejemplo",BB_TITLE:"Friend Game",BB_TIME:"Tiempo hasta la próxima rotación:",BB_ALT:"Mostrar las horas",BB_DATE:"Fecha",BB_WOODEN:"Madera",BB_SILVER:"Plata",BB_GOLD:"Oro"}).translations("fr",{NAV_TURTLE:"Horaires des Tortues",NAV_BARREL:"Partie d'amis",NAV_EVENT:"Event",NAV_CONTACT:"Me Contacter",NAV_SETTINGS:"Réglages",TT_TITLE:"Calculateur de l'Horaire des Tortues",TT_DIGIT:"6eme chiffre ID",TT_FORMAT:"format de l'heure",TT_STANDARD:"normale",TT_MILITARY:"24h",TT_TIMEZONE:"Fuseau Horaire:",TT_SEEMORE:"Lire la suite",TT_ADD_CALENDAR:"Ajouter au Calendrier",TT_NOTIFICATION:"Notifications Google/Android",TT_HTML_NOTIFICATION:"Notifications HTML",TT_NOTIF_TEST:"Test Chrome/Android Notification",TT_HTML_NOTIF_TEST:"Test HTML Notification",TT_NOTIF_MINUTES:"Temps Restant avant Event",TT_MINUTES:"Minutes",TT_NOTIF_SOUND:"Jouer le son",TT_NOTIF_EXAMPLE:"Exemple",BB_TITLE:"Éclatement du Tonneau",BB_TIME:"Temps jusqu'à la Prochaine Rotation:",BB_ALT:"Afficher les Heures",BB_DATE:"Date",BB_WOODEN:"Bois",BB_SILVER:"Argent",BB_GOLD:"Or"}),$translateProvider.preferredLanguage("en"),$translateProvider.useSanitizeValueStrategy("escaped")}),function(){"use strict";function contactCtrl($http,apiFactory,navbarFactory){var self=this;self.subjects=["Incorrect Turtle Time","Report a bug","Other"],self.message={},navbarFactory.setSeo("Contact Me","Find a bug? Have a question or feedback? Contact me and let me know."),self.isTurtleBug=function(){return void 0===self.message.subject?!1:"Incorrect Turtle Time"===self.message.subject},self.sendMessage=function(){self.status="Sending...",$http.post(apiFactory.getBaseUrl()+"/contact",self.message).then(function(){self.status="Sent!"})["catch"](function(){self.status="Error sending. Please try again later."})}}angular.module("app").controller("ContactCtrl",contactCtrl),contactCtrl.$inject=["$http","apiFactory","navbarFactory"]}(),function(){"use strict";function eventsCtrl($mdMedia,userFactory,eventsFactory,navbarFactory){function setParams(){navbarFactory.setSeo("Events","Event information and and up-to-date table on story isle bonuses."),self.version=userFactory.getVersion(),self.eventTimes=eventsFactory.getEventTimes(),self.format=userFactory.getDetailedHourStatus()}var self=this;setParams(),self.updateVersion=function(){userFactory.setVersion(self.version),self.eventTimes=eventsFactory.getEventTimes()},self.isLargeScreen=function(){return $mdMedia("gt-md")},self.showHours=function(){userFactory.setDetailedHourStatus(self.format)}}angular.module("app").controller("EventsCtrl",eventsCtrl),eventsCtrl.$inject=["$mdMedia","userFactory","eventsFactory","navbarFactory"]}(),function(){"use strict";function eventsFactory(userFactory){function getEventTimes(){function getTime(dayNum){var offset=dayNum+dayOfYear+4;offset%=7;var drop=dropTable[offset].split(","),stamina=staminaTable[offset].split(","),beli=beliTable[offset].split(","),startDate=start.clone().add(dayNum,"days"),hourOffset="global"===version?23:11,end=startDate.clone().add(hourOffset,"hours").add(59,"minutes"),date=startDate.format("YYYY-MM-DD"),hourString=startDate.format("HH:mm")+"-"+end.format("HH:mm");return{date:date,hourDisplay:hourString,drop:drop,stamina:stamina,beli:beli}}var version=userFactory.getVersion(),NUM_DAYS=5,dropTable=["Loguetown, Jaya","Arlong Park, Alubarna","Baratie, Nanohana Rainbase","Syrup Village, Drum Island, Water 7","Orange Town, Little Garden, Long Ring Long Land","Shell Town, Whiskey Peak, Ark Maxim","Alvida's Hideout, Twin Cape, Angel Island"],staminaTable=["Orange Town, Drum Island, Water 7","Shell Town, Little Garden, Long Ring Long Land","Alvida's Hideout, Whiskey Peak, Ark Maxim","Fuschia Village, Twin Cape, Angel Island","Loguetown, Jaya","Arlong Park, Alubarna","Baratie, Nanohana Rainbase"],beliTable=["Baratie, Whiskey Peak, Ark Maxim","Syrup Village, Twin Cape, Angel Island","Loguetown, Jaya","Arlong Park, Alubarna","Baratie, Nanohana Rainbase","Syrup Village, Drum Island, Water 7","Orange Town, Little Garden, Long Ring Long Land"];"japan"===version&&(dropTable=["Loguetown, Jaya, Thriller Bark 1","Arlong Park, Alubarna, Enies Lobby 2","Baratie, Nanohana Rainbase, Enies Lobby 1","Syrup Village, Drum Island, Water 7","Orange Town, Little Garden, Long Ring Long Land","Shell Town, Whiskey Peak, Ark Maxim","Alvida's Hideout, Twin Cape, Angel Island"],staminaTable=["Orange Town, Drum Island, Water 7","Shell Town, Little Garden, Long Ring Long Land","Alvida's Hideout, Whiskey Peak, Ark Maxim","Fuschia Village, Twin Cape, Angel Island","Loguetown, Jaya, Thriller Bark 1","Arlong Park, Alubarna, Enies Lobby 2","Baratie, Nanohana Rainbase, Enies Lobby 1"],beliTable=["Baratie, Whiskey Peak, Ark Maxim","Syrup Village, Twin Cape, Angel Island, Thriller Bark 2","Loguetown, Jaya, Thriller Bark 1","Arlong Park, Alubarna, Enies Lobby 2","Baratie, Nanohana Rainbase, Enies Lobby 1","Syrup Village, Drum Island, Water 7","Orange Town, Little Garden, Long Ring Long Land"]);for(var start=getStartTime(version),dayOfYear=start.dayOfYear(),eventTimes=[],i=0;NUM_DAYS>i;i++)eventTimes.push(getTime(i));return eventTimes}function getStartTime(version){var hourOffset="global"===version?8:2,start=moment.utc().startOf("day").add(hourOffset,"hours"),now=moment();return now.isAfter(start)&&start.subtract(1,"day"),start}var services={getEventTimes:getEventTimes};return services}angular.module("app").factory("eventsFactory",eventsFactory),eventsFactory.$inject=["userFactory"]}(),function(){"use strict";function apiFactory(){function getBaseUrl(){return"localhost"==document.location.hostname?"http://localhost:3000":"https://optctimer.com"}var services={getBaseUrl:getBaseUrl};return services}angular.module("app").factory("apiFactory",apiFactory),apiFactory.$inject=[]}(),function(){"use strict";function calendarFactory(userFactory){function getCalendar(){for(var begin,end,now=moment(),turtleTimes=userFactory.getTurtleTimes().filter(function(turtleTime){return now.isBefore(turtleTime)}),cal=ics(),subject="OPTC Turtle Time",description="One Piece Treasure Cruise Turtle Time",location="OPTC",i=0;4>i;i++)begin=turtleTimes[i].format(),end=turtleTimes[i].clone().add(30,"minutes").format(),cal.addEvent(subject,description,location,begin,end);cal.download("turtle_times",".ics")}var services={getCalendar:getCalendar};return services}angular.module("app").factory("calendarFactory",calendarFactory),calendarFactory.$inject=["userFactory"]}(),function(){"use strict";function htmlNotificationFactory(userFactory){function isEnabled(){var mobileAndTabletCheck=(/iPad|iPhone|iPod/.test(navigator.userAgent),function(){var check=!1;return function(a){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))&&(check=!0)}(navigator.userAgent||navigator.vendor||window.opera),check});return"Notification"in window&&!mobileAndTabletCheck()?(Notification.requestPermission(),!0):!1}function setNotifications(){for(var timeUntil,turtleTimes=userFactory.getTurtleTimes(),soundEnabled=userFactory.getHtmlNotificationSoundStatus(),now=moment(),minutes=userFactory.getTimeBeforeNotification(),options={body:minutes+" minutes till Turtle Time!",icon:"favicon.ico"},end=moment().add(3,"days"),i=0;i<turtleTimes.length;i++)now.isAfter(turtleTimes[i])||turtleTimes[i].isAfter(end)||(timeUntil=turtleTimes[i].format("x")-now.format("x"),timeUntil-=1e3*minutes,0>timeUntil||isNaN(timeUntil)||(void 0!==notifications[i]&&clearTimeout(notifications[i]),notifications[i]=setTimeout(function(){new Notification("OPTC Turtle Time",options);soundEnabled&&sound.play()},timeUntil)))}function playExample(){var minutes=userFactory.getTimeBeforeNotification(),soundEnabled=userFactory.getHtmlNotificationSoundStatus(),options={body:minutes+" minutes till Turtle Time!",icon:"../images/flag.png"};new Notification("OPTC Turtle Time",options);soundEnabled&&sound.play()}var services={isEnabled:isEnabled,setNotifications:setNotifications,playExample:playExample},notifications=[],sound=new Audio("sounds/notification.mp3");return services}angular.module("app").factory("htmlNotificationFactory",htmlNotificationFactory),htmlNotificationFactory.$inject=["userFactory"]}(),function(){"use strict";function notificationFactory($http,userFactory,apiFactory){function isEnabled(){return"serviceWorker"in navigator}function attachWorker(){return new Promise(function(resolve,reject){isEnabled()?navigator.serviceWorker.register("service-worker.js").then(function(){return navigator.serviceWorker.ready}).then(function(serviceWorkerRegistration){reg=serviceWorkerRegistration,console.log("Service Worker is ready."),resolve()})["catch"](function(err){console.log("Service Worker Error."),reject(err)}):reject("service workers not supported")})}function subscribe(cb){function aux(){reg.pushManager.getSubscription().then(function(pushSubscription){return pushSubscription?(sub=pushSubscription,sendSubscriptionToServer(),cb(null)):void reg.pushManager.subscribe({userVisibleOnly:!0}).then(function(pushSubscription){sub=pushSubscription,console.log("endpoint =",sub.endpoint),console.log("Subscribed."),sendSubscriptionToServer(),cb(null)})["catch"](function(err){console.log("Unable to subscribe."),cb(err)})})}return isEnabled()?void(reg?aux():attachWorker().then(function(){aux()})["catch"](function(err){console.log(err)})):"notifications not enabled"}function unsubscribe(cb){return isEnabled()?void sub.unsubscribe().then(function(event){console.log("Unsubscribed.",event),cb(null)})["catch"](function(err){console.log("Error unsubscribing."),cb(err)}):"notifications not enabled"}function sendSubscriptionToServer(){var endpoint=sub.endpoint;if(endpoint.match(/^https:\/\/android\.googleapis\.com\/gcm\/send/)){var registrationId=endpoint.match(/(?:.*?)send\/(.*)$/)[1];endpoint="https://android.googleapis.com/gcm/send",userFactory.setRegistrationId(registrationId)}}function playExample(){var data={registrationIds:[userFactory.getRegistrationId()]};console.log("data =",data),$http.post(apiFactory.getBaseUrl()+"/api/gcm",data).then(function(){console.log("sent to server")})["catch"](function(){console.log("error posting to server")})}var reg,sub,services={isEnabled:isEnabled,subscribe:subscribe,unsubscribe:unsubscribe,playExample:playExample};return services}angular.module("app").factory("notificationFactory",notificationFactory),notificationFactory.$inject=["$http","userFactory","apiFactory"]}(),function(){"use strict";function timeFactory($http,userFactory,apiFactory){function getTurtleTimes(cb){var params={params:{digit:userFactory.getDigit(),timeFormat:userFactory.getTimeFormat(),version:userFactory.getVersion(),numOfDays:3}};$http.get(apiFactory.getBaseUrl()+"/api/turtle",params).then(function(response){userFactory.setTurtleTimes(response.data.map(function(time){return moment.utc(time)}));var turtleTimes=getFormattedTimes(response.data);cb(null,turtleTimes)})["catch"](function(err){cb(err)})}function getFormattedTimes(turtleTimes){var timeFormat=userFactory.getTimeFormat();return turtleTimes.map(function(timeStr){var time,date,turtleTime=moment.utc(timeStr);return"standard"===timeFormat?time=turtleTime.local().format("h:mm a"):"military"===timeFormat&&(time=turtleTime.local().format("HH:mm")),date=turtleTime.local().format("LL"),{time:time,date:date}})}var services={getTurtleTimes:getTurtleTimes};return services}angular.module("app").factory("timeFactory",timeFactory),timeFactory.$inject=["$http","userFactory","apiFactory"]}(),function(){"use strict";function turtleCtrl($scope,userFactory,timeFactory,notificationFactory,htmlNotificationFactory,calendarFactory,navbarFactory){function setParams(){navbarFactory.setSeo("Turtle Time Calculator","Determine your upcoming turtle time on this automatically-updating calculator and and receive a push notification on Android or desktop browser."),self.timezone=userFactory.getTimeZone(),self.digit=userFactory.getDigit(),self.version=userFactory.getVersion(),self.turtleTimes=[],self.notificationStatus=!0,self.htmlNotificationStatus=userFactory.getHtmlNotificationStatus(),self.notificationEnabled=notificationFactory.isEnabled(),self.htmlNotificationEnabled=htmlNotificationFactory.isEnabled(),getTurtleTimes(),toggleNotification()}function toggleNotification(){self.notificationStatus?notificationFactory.subscribe(function(err){return err?(self.notificationStatus=!1,void console.log(err)):void console.log("subscribed")}):notificationFactory.unsubscribe(function(err){return err?(console.log(err),void(self.notificationStatus=!0)):void console.log("unsubscribed")})}function getTurtleTimes(){timeFactory.getTurtleTimes(function(err,turtleTimes){return err?void console.log("unable to retrieve times"):void(self.turtleTimes=turtleTimes)})}var self=this;setParams(),self.toggleNotification=function(){toggleNotification()},self.updateDigit=function(){userFactory.setDigit(self.digit),getTurtleTimes()},self.updateVersion=function(){userFactory.setVersion(self.version),getTurtleTimes()},self.updateHtmlNotificationStatus=function(){userFactory.setHtmlNotificationStatus(self.htmlNotificationStatus),htmlNotificationFactory.setNotifications()},self.playExampleNotification=function(){notificationFactory.playExample()},self.playExampleHtmlNotification=function(){htmlNotificationFactory.playExample()},self.getCalendar=function(){calendarFactory.getCalendar()}}angular.module("app").controller("TurtleCtrl",turtleCtrl),turtleCtrl.$inject=["$scope","userFactory","timeFactory","notificationFactory","htmlNotificationFactory","calendarFactory","navbarFactory"]}(),function(){"use strict";function userFactory(localStorageService,$http,apiFactory,$translate){function loadFromStorage(){digit=localStorageService.get("digit")||0,timeFormat=localStorageService.get("timeFormat")||"standard",version=localStorageService.get("version")||"global",htmlNotificationStatus=localStorageService.get("htmlNotificationStatus")||!1,htmlNotificationSoundStatus=localStorageService.get("htmlNotificationSoundStatus")||!1,timeBeforeNotification=localStorageService.get("timeBeforeNotification")||10,detailedHourStatus=localStorageService.get("detailedHourStatus")||!1,locale=localStorageService.get("locale")||"en",$translate.use(locale),moment.locale(locale),password=localStorageService.get("password")||""}function postUserData(){var data={digit:digit%5,registrationId:registrationId,timeBefore:timeBeforeNotification};$http.post(apiFactory.getBaseUrl()+"/api/users",data).then(function(){console.log("posted subscription to server")})["catch"](function(){console.log("error posting subscription to server")})}function getTimeZone(){return jstz.determine().name()}function getDigit(){return digit}function setDigit(d){digit=d%5,localStorageService.set("digit",d),postUserData()}function getTimeFormat(){return timeFormat}function setTimeFormat(tf){timeFormat=tf,localStorageService.set("timeFormat",tf)}function getVersion(){return version}function setVersion(v){version=v,localStorageService.set("version",v)}function getHtmlNotificationStatus(){return htmlNotificationStatus}function setHtmlNotificationStatus(h){htmlNotificationStatus=h,localStorageService.set("htmlNotificationStatus",h)}function getTurtleTimes(){return turtleTimes}function setTurtleTimes(tt){turtleTimes=tt}function getHtmlNotificationSoundStatus(){return htmlNotificationSoundStatus}function setHtmlNotificationSoundStatus(s){htmlNotificationSoundStatus=s,localStorageService.set("htmlNotificationSoundStatus",s)}function getTimeBeforeNotification(){return timeBeforeNotification}function setTimeBeforeNotification(t){timeBeforeNotification=t,localStorageService.set("timeBeforeNotification",t),postUserData()}function getRegistrationId(){return registrationId}function setRegistrationId(r){registrationId=r,postUserData()}function getDetailedHourStatus(){return detailedHourStatus}function setDetailedHourStatus(d){detailedHourStatus=d,localStorageService.set("detailedHourStatus",d)}function getLocale(){return locale}function setLocale(l){locale=l,localStorageService.set("locale",l),$translate.use(l),moment.locale(locale)}function getPassword(){return password}function setPassword(p){password=p,localStorageService.set("password",p)}var digit,timeFormat,version,htmlNotificationStatus,htmlNotificationSoundStatus,turtleTimes,timeBeforeNotification,registrationId,detailedHourStatus,locale,password,services={getTimeZone:getTimeZone,getDigit:getDigit,setDigit:setDigit,getTimeFormat:getTimeFormat,setTimeFormat:setTimeFormat,getVersion:getVersion,setVersion:setVersion,getHtmlNotificationStatus:getHtmlNotificationStatus,setHtmlNotificationStatus:setHtmlNotificationStatus,getHtmlNotificationSoundStatus:getHtmlNotificationSoundStatus,setHtmlNotificationSoundStatus:setHtmlNotificationSoundStatus,getTurtleTimes:getTurtleTimes,setTurtleTimes:setTurtleTimes,getTimeBeforeNotification:getTimeBeforeNotification,setTimeBeforeNotification:setTimeBeforeNotification,getRegistrationId:getRegistrationId,setRegistrationId:setRegistrationId,getDetailedHourStatus:getDetailedHourStatus,setDetailedHourStatus:setDetailedHourStatus,getLocale:getLocale,setLocale:setLocale,getPassword:getPassword,setPassword:setPassword};return loadFromStorage(),services}angular.module("app").factory("userFactory",userFactory),userFactory.$inject=["localStorageService","$http","apiFactory","$translate"]}(),function(){"use strict";function navbarCtrl($state,$mdSidenav,$translate,$scope,userFactory,navbarFactory){function activate(){self.menu=[{link:"turtle",title:$translate.instant("NAV_TURTLE"),icon:"fa-home"},{link:"barrel",title:$translate.instant("NAV_BARREL"),icon:"fa-users"},{link:"events",title:$translate.instant("NAV_EVENT"),icon:"fa-calendar-o"},{link:"contact",title:$translate.instant("NAV_CONTACT"),icon:"fa-envelope"},{link:"settings",title:$translate.instant("NAV_SETTINGS"),icon:"fa-cogs"}]}var self=this;self.seo=navbarFactory.getSeo(),activate(),self.isSelected=function(title){return $state.current.hasOwnProperty("data")?(self.title=$translate.instant($state.current.data.title),title===self.title):!1},self.toggleSidenav=function(){$mdSidenav("left").toggle()},$scope.$watch(function(){return userFactory.getLocale()},function(){activate()})}angular.module("app").controller("NavbarCtrl",navbarCtrl),navbarCtrl.$inject=["$state","$mdSidenav","$translate","$scope","userFactory","navbarFactory"]}(),function(){"use strict";function navbarFactory(){function getSeo(){return seo}function setSeo(title,description){return seo.pageTitle=title,seo.description=description,seo}var services={getSeo:getSeo,setSeo:setSeo},seo={pageTitle:"Home",description:"Supplement app for One Piece Treasure Cruise to help calculate your turtle times and set notifications."};return services}angular.module("app").factory("navbarFactory",navbarFactory),navbarFactory.$inject=[]}(),function(){"use strict";function settingsCtrl(userFactory,navbarFactory){var self=this;self.languages=[{language:"English",abbrev:"en"},{language:"Deutsch",abbrev:"de"},{language:"Español",abbrev:"es"},{language:"français",abbrev:"fr"}],navbarFactory.setSeo("Settings","Adjust your language and customize your notification settings."),self.timeFormat=userFactory.getTimeFormat(),self.htmlNotificationSoundStatus=userFactory.getHtmlNotificationSoundStatus(),self.timeBeforeNotification=userFactory.getTimeBeforeNotification(),self.locale=userFactory.getLocale(),self.setTimeFormat=function(){userFactory.setTimeFormat(self.timeFormat)},self.setHtmlNotificationSoundStatus=function(){userFactory.setHtmlNotificationSoundStatus(self.htmlNotificationSoundStatus)},self.updateTimeBefereNotification=function(){userFactory.setTimeBeforeNotification(self.timeBeforeNotification)},self.updateLocale=function(){userFactory.setLocale(self.locale)}}angular.module("app").controller("SettingsCtrl",settingsCtrl),settingsCtrl.$inject=["userFactory","navbarFactory"]}(),function(){"use strict";function config($stateProvider,$urlRouterProvider,$locationProvider){$urlRouterProvider.otherwise("/turtle"),$stateProvider.state("turtle",{url:"/turtle",templateUrl:"turtle/turtle.html",controller:"TurtleCtrl",controllerAs:"turtle",data:{title:"NAV_TURTLE"}}).state("barrel",{url:"/barrel",templateUrl:"barrel/barrel.html",controller:"BarrelCtrl",controllerAs:"barrel",data:{title:"NAV_BARREL"}}).state("events",{url:"/events",templateUrl:"events/events.html",controller:"EventsCtrl",controllerAs:"events",data:{title:"NAV_EVENT"}}).state("contact",{url:"/contact",templateUrl:"contact/contact.html",controller:"ContactCtrl",controllerAs:"contact",data:{title:"NAV_CONTACT"}}).state("settings",{url:"/settings",templateUrl:"settings/settings.html",controller:"SettingsCtrl",controllerAs:"settings",data:{title:"NAV_SETTINGS"}}).state("admin",{url:"/admin",templateUrl:"admin/admin.html",controller:"AdminCtrl",controllerAs:"admin",data:{title:"Admin"}}),$locationProvider.hashPrefix("!")}angular.module("app").config(config),config.$inject=["$stateProvider","$urlRouterProvider","$locationProvider"]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImFkbWluQ3RybC5qcyIsImFkbWluRmFjdG9yeS5qcyIsImJhcnJlbEN0cmwuanMiLCJiYXJyZWxGYWN0b3J5LmpzIiwibG9jYWxpemVDb25maWcuanMiLCJjb250YWN0Q3RybC5qcyIsImV2ZW50c0N0cmwuanMiLCJldmVudHNGYWN0b3J5LmpzIiwiYXBpRmFjdG9yeS5qcyIsImNhbGVuZGFyRmFjdG9yeS5qcyIsImh0bWxOb3RpZmljYXRpb25GYWN0b3J5LmpzIiwibm90aWZpY2F0aW9uRmFjdG9yeS5qcyIsInRpbWVGYWN0b3J5LmpzIiwidHVydGxlQ3RybC5qcyIsInVzZXJGYWN0b3J5LmpzIiwibmF2YmFyQ3RybC5qcyIsIm5hdmJhckZhY3RvcnkuanMiLCJzZXR0aW5nc0N0cmwuanMiLCJyb3V0ZS1jb25maWcuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsIkFkbWluQ3RybCIsImFkbWluRmFjdG9yeSIsInVzZXJGYWN0b3J5IiwibmF2YmFyRmFjdG9yeSIsImFjdGl2YXRlIiwic2V0U2VvIiwiZ2V0VHVydGxlRGF0ZXMiLCJlcnIiLCJnbG9iYWxEYXRlcyIsImphcGFuRGF0ZXMiLCJjb25zb2xlIiwibG9nIiwic2VsZiIsInRoaXMiLCJnbG9iYWxTZWxlY3RlZCIsImphcGFuU2VsZWN0ZWQiLCJwYXNzd29yZCIsImdldFBhc3N3b3JkIiwiYWRkQm90aCIsImFkZERhdGUiLCJ2ZXJzaW9uIiwiZGF0ZSIsInR1cnRsZURhdGUiLCJ0b0lTT1N0cmluZyIsInNsaWNlIiwiYWRkVHVydGxlRGF0ZSIsInJlbW92ZVNlbGVjdGVkRGF0ZXMiLCJkYXRlcyIsIm1hcCIsImNvbmNhdCIsInJlbW92ZVR1cnRsZURhdGVzIiwicmVtb3ZlUGFzdERhdGVzIiwiZ2V0UGFzdERhdGVzIiwib2xkRGF0ZXMiLCJyZXZlcnNlIiwiZmlsdGVyIiwibW9tZW50IiwidXRjIiwiYWRkIiwiaXNCZWZvcmUiLCJNYXRoIiwiZmxvb3IiLCJsZW5ndGgiLCJhZGRRdWFydGVyIiwidXBkYXRlUGFzc3dvcmQiLCJzZXRQYXNzd29yZCIsImNvbnRyb2xsZXIiLCIkaW5qZWN0IiwiJGh0dHAiLCJhcGlGYWN0b3J5IiwiY2IiLCJnZXQiLCJnZXRCYXNlVXJsIiwidGhlbiIsInJlc3BvbnNlIiwiaSIsImRhdGEiLCJwdXNoIiwiYWRkRGF0ZVRvQXJyYXkiLCJhcnIiLCJOVU1fV0VFS1MiLCJzdGFydCIsInN0YXJ0T2YiLCJmb3JtYXQiLCJhZGRUdXJ0bGVEYXRlcyIsInJ1bkNvdW50IiwiZGF0ZVN0cmluZyIsImNvbnZlcnRUb1VUQyIsInBvc3QiLCJyZW1vdmVUdXJ0bGVEYXRlIiwicGFyYW1zIiwic2VydmljZXMiLCJmYWN0b3J5IiwiYmFycmVsQ3RybCIsIiRtZE1lZGlhIiwiYmFycmVsRmFjdG9yeSIsInNldFBhcmFtcyIsImdldFZlcnNpb24iLCJiYXJyZWxUaW1lcyIsImdldEJhcnJlbFRpbWVzIiwiZ2V0RGV0YWlsZWRIb3VyU3RhdHVzIiwidXBkYXRlVmVyc2lvbiIsInNldFZlcnNpb24iLCJpc0xhcmdlU2NyZWVuIiwic2hvd0hvdXJzIiwic2V0RGV0YWlsZWRIb3VyU3RhdHVzIiwiZ2V0VGltZSIsImRheU51bSIsInN0YXJ0T2ZEYXkiLCJjbG9uZSIsIndvb2QiLCJzaWx2ZXIiLCJnb2xkIiwib2Zmc2V0IiwiZGF5T2ZZZWFyIiwiaW5kZXgxIiwiaW5kZXgyIiwid29vZERpZ2l0cyIsInNpbHZlckRpZ2l0cyIsImdvbGREaWdpdHMiLCJob3VyRGlzcGxheSIsIk5VTV9EQVlTIiwiZ2V0U3RhcnRFbmRUaW1lcyIsImVuZCIsImxvY2FsIiwibm93IiwiaG91ck9mZnNldCIsImlzQWZ0ZXIiLCJjb25maWciLCIkdHJhbnNsYXRlUHJvdmlkZXIiLCJ0cmFuc2xhdGlvbnMiLCJOQVZfVFVSVExFIiwiTkFWX0JBUlJFTCIsIk5BVl9FVkVOVCIsIk5BVl9DT05UQUNUIiwiTkFWX1NFVFRJTkdTIiwiVFRfVElUTEUiLCJUVF9ESUdJVCIsIlRUX0ZPUk1BVCIsIlRUX1NUQU5EQVJEIiwiVFRfTUlMSVRBUlkiLCJUVF9USU1FWk9ORSIsIlRUX1NFRU1PUkUiLCJUVF9BRERfQ0FMRU5EQVIiLCJUVF9OT1RJRklDQVRJT04iLCJUVF9IVE1MX05PVElGSUNBVElPTiIsIlRUX05PVElGX1RFU1QiLCJUVF9IVE1MX05PVElGX1RFU1QiLCJUVF9OT1RJRl9NSU5VVEVTIiwiVFRfTUlOVVRFUyIsIlRUX05PVElGX1NPVU5EIiwiVFRfTk9USUZfRVhBTVBMRSIsIkJCX1RJVExFIiwiQkJfVElNRSIsIkJCX0FMVCIsIkJCX0RBVEUiLCJCQl9XT09ERU4iLCJCQl9TSUxWRVIiLCJCQl9HT0xEIiwicHJlZmVycmVkTGFuZ3VhZ2UiLCJ1c2VTYW5pdGl6ZVZhbHVlU3RyYXRlZ3kiLCJjb250YWN0Q3RybCIsInN1YmplY3RzIiwibWVzc2FnZSIsImlzVHVydGxlQnVnIiwidW5kZWZpbmVkIiwic3ViamVjdCIsInNlbmRNZXNzYWdlIiwic3RhdHVzIiwiZXZlbnRzQ3RybCIsImV2ZW50c0ZhY3RvcnkiLCJldmVudFRpbWVzIiwiZ2V0RXZlbnRUaW1lcyIsImRyb3AiLCJkcm9wVGFibGUiLCJzcGxpdCIsInN0YW1pbmEiLCJzdGFtaW5hVGFibGUiLCJiZWxpIiwiYmVsaVRhYmxlIiwic3RhcnREYXRlIiwiaG91clN0cmluZyIsImdldFN0YXJ0VGltZSIsInN1YnRyYWN0IiwiZG9jdW1lbnQiLCJsb2NhdGlvbiIsImhvc3RuYW1lIiwiY2FsZW5kYXJGYWN0b3J5IiwiZ2V0Q2FsZW5kYXIiLCJiZWdpbiIsInR1cnRsZVRpbWVzIiwiZ2V0VHVydGxlVGltZXMiLCJ0dXJ0bGVUaW1lIiwiY2FsIiwiaWNzIiwiZGVzY3JpcHRpb24iLCJhZGRFdmVudCIsImRvd25sb2FkIiwiaHRtbE5vdGlmaWNhdGlvbkZhY3RvcnkiLCJpc0VuYWJsZWQiLCJtb2JpbGVBbmRUYWJsZXRDaGVjayIsInRlc3QiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJjaGVjayIsImEiLCJzdWJzdHIiLCJ2ZW5kb3IiLCJ3aW5kb3ciLCJvcGVyYSIsIk5vdGlmaWNhdGlvbiIsInJlcXVlc3RQZXJtaXNzaW9uIiwic2V0Tm90aWZpY2F0aW9ucyIsInRpbWVVbnRpbCIsInNvdW5kRW5hYmxlZCIsImdldEh0bWxOb3RpZmljYXRpb25Tb3VuZFN0YXR1cyIsIm1pbnV0ZXMiLCJnZXRUaW1lQmVmb3JlTm90aWZpY2F0aW9uIiwib3B0aW9ucyIsImJvZHkiLCJpY29uIiwiaXNOYU4iLCJub3RpZmljYXRpb25zIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsInNvdW5kIiwicGxheSIsInBsYXlFeGFtcGxlIiwiQXVkaW8iLCJub3RpZmljYXRpb25GYWN0b3J5IiwiYXR0YWNoV29ya2VyIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJzZXJ2aWNlV29ya2VyIiwicmVnaXN0ZXIiLCJyZWFkeSIsInNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24iLCJyZWciLCJzdWJzY3JpYmUiLCJhdXgiLCJwdXNoTWFuYWdlciIsImdldFN1YnNjcmlwdGlvbiIsInB1c2hTdWJzY3JpcHRpb24iLCJzdWIiLCJzZW5kU3Vic2NyaXB0aW9uVG9TZXJ2ZXIiLCJ1c2VyVmlzaWJsZU9ubHkiLCJlbmRwb2ludCIsInVuc3Vic2NyaWJlIiwiZXZlbnQiLCJtYXRjaCIsInJlZ2lzdHJhdGlvbklkIiwic2V0UmVnaXN0cmF0aW9uSWQiLCJyZWdpc3RyYXRpb25JZHMiLCJnZXRSZWdpc3RyYXRpb25JZCIsInRpbWVGYWN0b3J5IiwiZGlnaXQiLCJnZXREaWdpdCIsInRpbWVGb3JtYXQiLCJnZXRUaW1lRm9ybWF0IiwibnVtT2ZEYXlzIiwic2V0VHVydGxlVGltZXMiLCJ0aW1lIiwiZ2V0Rm9ybWF0dGVkVGltZXMiLCJ0aW1lU3RyIiwidHVydGxlQ3RybCIsIiRzY29wZSIsInRpbWV6b25lIiwiZ2V0VGltZVpvbmUiLCJub3RpZmljYXRpb25TdGF0dXMiLCJodG1sTm90aWZpY2F0aW9uU3RhdHVzIiwiZ2V0SHRtbE5vdGlmaWNhdGlvblN0YXR1cyIsIm5vdGlmaWNhdGlvbkVuYWJsZWQiLCJodG1sTm90aWZpY2F0aW9uRW5hYmxlZCIsInRvZ2dsZU5vdGlmaWNhdGlvbiIsInVwZGF0ZURpZ2l0Iiwic2V0RGlnaXQiLCJ1cGRhdGVIdG1sTm90aWZpY2F0aW9uU3RhdHVzIiwic2V0SHRtbE5vdGlmaWNhdGlvblN0YXR1cyIsInBsYXlFeGFtcGxlTm90aWZpY2F0aW9uIiwicGxheUV4YW1wbGVIdG1sTm90aWZpY2F0aW9uIiwibG9jYWxTdG9yYWdlU2VydmljZSIsIiR0cmFuc2xhdGUiLCJsb2FkRnJvbVN0b3JhZ2UiLCJodG1sTm90aWZpY2F0aW9uU291bmRTdGF0dXMiLCJ0aW1lQmVmb3JlTm90aWZpY2F0aW9uIiwiZGV0YWlsZWRIb3VyU3RhdHVzIiwibG9jYWxlIiwidXNlIiwicG9zdFVzZXJEYXRhIiwidGltZUJlZm9yZSIsImpzdHoiLCJkZXRlcm1pbmUiLCJuYW1lIiwiZCIsInNldCIsInNldFRpbWVGb3JtYXQiLCJ0ZiIsInYiLCJoIiwidHQiLCJzZXRIdG1sTm90aWZpY2F0aW9uU291bmRTdGF0dXMiLCJzIiwic2V0VGltZUJlZm9yZU5vdGlmaWNhdGlvbiIsInQiLCJyIiwiZ2V0TG9jYWxlIiwic2V0TG9jYWxlIiwibCIsInAiLCJuYXZiYXJDdHJsIiwiJHN0YXRlIiwiJG1kU2lkZW5hdiIsIm1lbnUiLCJsaW5rIiwidGl0bGUiLCJpbnN0YW50Iiwic2VvIiwiZ2V0U2VvIiwiaXNTZWxlY3RlZCIsImN1cnJlbnQiLCJoYXNPd25Qcm9wZXJ0eSIsInRvZ2dsZVNpZGVuYXYiLCJ0b2dnbGUiLCIkd2F0Y2giLCJwYWdlVGl0bGUiLCJzZXR0aW5nc0N0cmwiLCJsYW5ndWFnZXMiLCJsYW5ndWFnZSIsImFiYnJldiIsInVwZGF0ZVRpbWVCZWZlcmVOb3RpZmljYXRpb24iLCJ1cGRhdGVMb2NhbGUiLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIiRsb2NhdGlvblByb3ZpZGVyIiwib3RoZXJ3aXNlIiwic3RhdGUiLCJ1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K08sTUFBQSxrQkFHQXFCLE1BQUEsU0FDQUMsSUFBQSxTQUNBQyxZQUFBLG1CQUNBaFIsV0FBQSxZQUNBaVIsYUFBQSxRQUNBdlEsTUFDQStPLE1BQUEsV0FLQW1CLGtCQUFBTSxXQUFBLEtBakVBbFUsUUFBQUMsT0FBQSxPQUNBNkcsT0FBQUEsUUFFQUEsT0FBQTdELFNBQUEsaUJBQUEscUJBQUEiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiYW5ndWxhci5tb2R1bGUoJ2FwcCcsIFsndWkucm91dGVyJywgJ25nTWF0ZXJpYWwnLCAnTG9jYWxTdG9yYWdlTW9kdWxlJywgJ21kLmRhdGEudGFibGUnLCAncGFzY2FscHJlY2h0LnRyYW5zbGF0ZSddKTsiLCIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyLm1vZHVsZSgnYXBwJylcbiAgICAuY29udHJvbGxlcignQWRtaW5DdHJsJywgQWRtaW5DdHJsKTtcblxuICBBZG1pbkN0cmwuJGluamVjdCA9IFsnYWRtaW5GYWN0b3J5JywgJ3VzZXJGYWN0b3J5JywgJ25hdmJhckZhY3RvcnknXTtcblxuICBmdW5jdGlvbiBBZG1pbkN0cmwoYWRtaW5GYWN0b3J5LCB1c2VyRmFjdG9yeSwgbmF2YmFyRmFjdG9yeSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBzZWxmLmdsb2JhbERhdGVzID0gW107XG4gICAgc2VsZi5qYXBhbkRhdGVzID0gW107XG4gICAgc2VsZi5nbG9iYWxTZWxlY3RlZCA9IFtdO1xuICAgIHNlbGYuamFwYW5TZWxlY3RlZCA9IFtdO1xuICAgIHNlbGYucGFzc3dvcmQgPSB1c2VyRmFjdG9yeS5nZXRQYXNzd29yZCgpO1xuXG4gICAgYWN0aXZhdGUoKTtcblxuICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgICAgbmF2YmFyRmFjdG9yeS5zZXRTZW8oJ0FkbWluJywgJ0FkbWluIHBhZ2UgZm9yIG1hbmFnaW5nIGV2ZW50IGRhdGVzLicpO1xuICAgICAgYWRtaW5GYWN0b3J5LmdldFR1cnRsZURhdGVzKGZ1bmN0aW9uKGVyciwgZ2xvYmFsRGF0ZXMsIGphcGFuRGF0ZXMpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnIgPScsIGVycik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZi5nbG9iYWxEYXRlcyA9IGdsb2JhbERhdGVzO1xuICAgICAgICBzZWxmLmphcGFuRGF0ZXMgPSBqYXBhbkRhdGVzO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2VsZi5hZGRCb3RoID0gZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLmFkZERhdGUoJ2dsb2JhbCcpO1xuICAgICAgc2VsZi5hZGREYXRlKCdqYXBhbicpO1xuICAgIH07XG5cbiAgICBzZWxmLmFkZERhdGUgPSBmdW5jdGlvbih2ZXJzaW9uKSB7XG4gICAgICB2YXIgZGF0ZSA9IHNlbGYudHVydGxlRGF0ZS50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKTtcbiAgICAgIGFkbWluRmFjdG9yeS5hZGRUdXJ0bGVEYXRlKGRhdGUsIHZlcnNpb24sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ2VyciA9JywgZXJyKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUTy1ETzogYWRkIHRvYXN0IG5vdGlmaWNhdGlvblxuICAgICAgICBjb25zb2xlLmxvZygnQWRkZWQgdHVydGxlIGRhdGUnKTtcbiAgICAgICAgYWN0aXZhdGUoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHNlbGYucmVtb3ZlU2VsZWN0ZWREYXRlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGRhdGVzID0gc2VsZi5nbG9iYWxTZWxlY3RlZC5tYXAoZnVuY3Rpb24oZGF0ZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR1cnRsZURhdGU6IGRhdGUsXG4gICAgICAgICAgdmVyc2lvbjogJ2dsb2JhbCcsXG4gICAgICAgIH07XG4gICAgICB9KS5jb25jYXQoc2VsZi5qYXBhblNlbGVjdGVkLm1hcChmdW5jdGlvbihkYXRlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHVydGxlRGF0ZTogZGF0ZSxcbiAgICAgICAgICB2ZXJzaW9uOiAnamFwYW4nLFxuICAgICAgICB9O1xuICAgICAgfSkpO1xuXG4gICAgICBhZG1pbkZhY3RvcnkucmVtb3ZlVHVydGxlRGF0ZXMoZGF0ZXMsIGZ1bmN0aW9uKGVycikge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ2VyciA9JywgZXJyKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBhY3RpdmF0ZSgpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHNlbGYucmVtb3ZlUGFzdERhdGVzID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgb2xkRGF0ZXMgPSBnZXRQYXN0RGF0ZXMoJ2dsb2JhbCcpLmNvbmNhdChnZXRQYXN0RGF0ZXMoJ2phcGFuJykpO1xuXG4gICAgICBhZG1pbkZhY3RvcnkucmVtb3ZlVHVydGxlRGF0ZXMob2xkRGF0ZXMsIGZ1bmN0aW9uKGVycikge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ2VyciA9JywgZXJyKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zb2xlLmxvZygncmVtb3ZlZCBvbGQgZGF0ZXMnKTtcblxuICAgICAgICBhY3RpdmF0ZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIGZ1bmN0aW9uIGdldFBhc3REYXRlcyh2ZXJzaW9uKSB7XG4gICAgICAgIHZhciBvbGREYXRlcyA9ICh2ZXJzaW9uID09PSAnZ2xvYmFsJykgPyBcbiAgICAgICAgICBzZWxmLmdsb2JhbERhdGVzLnNsaWNlKCkucmV2ZXJzZSgpIDogc2VsZi5qYXBhbkRhdGVzLnNsaWNlKCkucmV2ZXJzZSgpO1xuXG4gICAgICAgIHZhciBvbGREYXRlcyA9IG9sZERhdGVzLmZpbHRlcihmdW5jdGlvbihkYXRlKSB7XG4gICAgICAgICAgcmV0dXJuIG1vbWVudC51dGMoZGF0ZSkuYWRkKDEsICdkYXlzJykuaXNCZWZvcmUobW9tZW50LnV0YygpKVxuICAgICAgICB9KS5tYXAoZnVuY3Rpb24oZGF0ZSkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0dXJ0bGVEYXRlOiBkYXRlLFxuICAgICAgICAgICAgdmVyc2lvbjogdmVyc2lvbixcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyByZW1vdmUgcGFzdCBkYXRlcyBpbiBtdWx0aXBsZXMgb2YgNVxuICAgICAgICBvbGREYXRlcyA9IG9sZERhdGVzLnNsaWNlKDAsIE1hdGguZmxvb3Iob2xkRGF0ZXMubGVuZ3RoLzUpKjUpO1xuXG4gICAgICAgIHJldHVybiBvbGREYXRlcztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzZWxmLmFkZFF1YXJ0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIGFkbWluRmFjdG9yeS5hZGRRdWFydGVyKGZ1bmN0aW9uKGVycikge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ2VyciA9JywgZXJyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFjdGl2YXRlKCk7XG4gICAgICB9KVxuICAgIH07XG5cbiAgICBzZWxmLnVwZGF0ZVBhc3N3b3JkID0gZnVuY3Rpb24oKSB7XG4gICAgICB1c2VyRmFjdG9yeS5zZXRQYXNzd29yZChzZWxmLnBhc3N3b3JkKTtcbiAgICB9XG4gIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuICAgIC5mYWN0b3J5KCdhZG1pbkZhY3RvcnknLCBhZG1pbkZhY3RvcnkpO1xuXG4gIGFkbWluRmFjdG9yeS4kaW5qZWN0ID0gWyckaHR0cCcsICdhcGlGYWN0b3J5JywgJ3VzZXJGYWN0b3J5J107XG5cbiAgZnVuY3Rpb24gYWRtaW5GYWN0b3J5KCRodHRwLCBhcGlGYWN0b3J5LCB1c2VyRmFjdG9yeSkge1xuICAgIHZhciBzZXJ2aWNlcyA9IHtcbiAgICAgIGFkZFR1cnRsZURhdGU6IGFkZFR1cnRsZURhdGUsXG4gICAgICBhZGRUdXJ0bGVEYXRlczogYWRkVHVydGxlRGF0ZXMsXG4gICAgICByZW1vdmVUdXJ0bGVEYXRlczogcmVtb3ZlVHVydGxlRGF0ZXMsXG4gICAgICBnZXRUdXJ0bGVEYXRlczogZ2V0VHVydGxlRGF0ZXMsXG4gICAgICBhZGRRdWFydGVyOiBhZGRRdWFydGVyLFxuICAgIH07XG5cbiAgICByZXR1cm4gc2VydmljZXM7XG5cbiAgICBmdW5jdGlvbiBnZXRUdXJ0bGVEYXRlcyhjYikge1xuICAgICAgJGh0dHAuZ2V0KGFwaUZhY3RvcnkuZ2V0QmFzZVVybCgpICsgJy9hcGkvdHVydGxlL2RhdGUnKVxuICAgICAgICAudGhlbihmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XG4gICAgICAgICAgdmFyIGdsb2JhbERhdGVzID0gW107XG4gICAgICAgICAgdmFyIGphcGFuRGF0ZXMgPSBbXTtcblxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzcG9uc2UuZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGFbaV0udmVyc2lvbiA9PT0gJ2dsb2JhbCcpIHtcbiAgICAgICAgICAgICAgZ2xvYmFsRGF0ZXMucHVzaChyZXNwb25zZS5kYXRhW2ldLnR1cnRsZURhdGUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgamFwYW5EYXRlcy5wdXNoKHJlc3BvbnNlLmRhdGFbaV0udHVydGxlRGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2IobnVsbCwgZ2xvYmFsRGF0ZXMsIGphcGFuRGF0ZXMpO1xuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiBlcnJvcigpIHtcbiAgICAgICAgICBjYigndW5hYmxlIHRvIGdldCB0dXJ0bGUgZGF0ZXMnKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBhZGRRdWFydGVyKGNiKSB7XG4gICAgICB2YXIgTlVNX1dFRUtTID0gMTM7XG4gICAgICB2YXIgZGF0ZXMgPSBbXTtcblxuICAgICAgdmFyIHN0YXJ0ID0gbW9tZW50LnV0YygpLnN0YXJ0T2YoJ2lzb1dlZWsnKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBOVU1fV0VFS1M7IGkrKykge1xuICAgICAgICBhZGREYXRlVG9BcnJheShkYXRlcywgc3RhcnQuZm9ybWF0KCdZWVlZLU1NLUREJyksICdnbG9iYWwnKTtcbiAgICAgICAgYWRkRGF0ZVRvQXJyYXkoZGF0ZXMsIHN0YXJ0LmZvcm1hdCgnWVlZWS1NTS1ERCcpLCAnamFwYW4nKTtcbiAgICAgICAgc3RhcnQuYWRkKCc0JywgJ2RheXMnKTtcbiAgICAgICAgYWRkRGF0ZVRvQXJyYXkoZGF0ZXMsIHN0YXJ0LmZvcm1hdCgnWVlZWS1NTS1ERCcpLCAnamFwYW4nKTtcbiAgICAgICAgc3RhcnQuYWRkKCczJywgJ2RheXMnKTtcbiAgICAgIH1cblxuICAgICAgYWRkVHVydGxlRGF0ZXMoZGF0ZXMsIGNiKTtcblxuICAgICAgZnVuY3Rpb24gYWRkRGF0ZVRvQXJyYXkoYXJyLCB0dXJ0bGVEYXRlLCB2ZXJzaW9uKSB7XG4gICAgICAgIGFyci5wdXNoKHtcbiAgICAgICAgICB0dXJ0bGVEYXRlOiB0dXJ0bGVEYXRlLFxuICAgICAgICAgIHZlcnNpb246IHZlcnNpb24sXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZFR1cnRsZURhdGVzKGRhdGVzLCBjYikge1xuICAgICAgdmFyIHJ1bkNvdW50ID0gMDtcbiAgICAgIFxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBhZGRUdXJ0bGVEYXRlKGRhdGVzW2ldLnR1cnRsZURhdGUsIGRhdGVzW2ldLnZlcnNpb24sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnIgPScsIGVycik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCsrcnVuQ291bnQgPT09IGRhdGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgY2IoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkVHVydGxlRGF0ZShkYXRlU3RyaW5nLCB2ZXJzaW9uLCBjYikge1xuICAgICAgdmFyIHR1cnRsZURhdGUgPSBjb252ZXJ0VG9VVEMoZGF0ZVN0cmluZyk7XG4gICAgICAkaHR0cC5wb3N0KGFwaUZhY3RvcnkuZ2V0QmFzZVVybCgpICsgJy9hcGkvdHVydGxlL2RhdGUnLCB7XG4gICAgICAgIHR1cnRsZURhdGU6IHR1cnRsZURhdGUsXG4gICAgICAgIHZlcnNpb246IHZlcnNpb24sXG4gICAgICAgIHBhc3N3b3JkOiB1c2VyRmFjdG9yeS5nZXRQYXNzd29yZCgpLFxuICAgICAgfSkudGhlbihmdW5jdGlvbiBzdWNjZXNzKCkge1xuICAgICAgICBjYihudWxsKTtcbiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIGVycm9yKCkge1xuICAgICAgICBjYignVW5hYmxlIHRvIHNlbmQgbWVzc2FnZScpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVtb3ZlVHVydGxlRGF0ZXMoZGF0ZXMsIGNiKSB7XG4gICAgICBkYXRlcyA9IGRhdGVzLm1hcChmdW5jdGlvbihkYXRlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHVydGxlRGF0ZTogY29udmVydFRvVVRDKGRhdGUudHVydGxlRGF0ZSksXG4gICAgICAgICAgdmVyc2lvbjogZGF0ZS52ZXJzaW9uLFxuICAgICAgICAgIHBhc3N3b3JkOiB1c2VyRmFjdG9yeS5nZXRQYXNzd29yZCgpLFxuICAgICAgICB9O1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnNvbGUubG9nKCdkYXRlcyA9JywgZGF0ZXMpO1xuXG4gICAgICB2YXIgcnVuQ291bnQgPSAwO1xuICAgICAgXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJlbW92ZVR1cnRsZURhdGUoZGF0ZXNbaV0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnIgPScsIGVycik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCsrcnVuQ291bnQgPT09IGRhdGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgY2IoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlbW92ZVR1cnRsZURhdGUodHVydGxlRGF0ZSwgY2IpIHtcbiAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgIHBhcmFtczogdHVydGxlRGF0ZSxcbiAgICAgIH07XG5cbiAgICAgICRodHRwLmRlbGV0ZShhcGlGYWN0b3J5LmdldEJhc2VVcmwoKSArICcvYXBpL3R1cnRsZS9kYXRlJywgcGFyYW1zKVxuICAgICAgLnRoZW4oZnVuY3Rpb24gc3VjY2VzcygpIHtcbiAgICAgICAgY2IobnVsbCk7XG4gICAgICB9KS5jYXRjaChmdW5jdGlvbiBlcnJvcigpIHtcbiAgICAgICAgY2IoJ1VuYWJsZSB0byBkZWxldGUgJyArIHBhcmFtcy50dXJ0bGVEYXRlKTtcbiAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gY29udmVydFRvVVRDKGRhdGVTdHJpbmcpIHtcbiAgICAgIHJldHVybiBtb21lbnQudXRjKGRhdGVTdHJpbmcpLmZvcm1hdCgneCcpO1xuICAgIH1cbiAgfVxuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4gIC5jb250cm9sbGVyKCdCYXJyZWxDdHJsJywgYmFycmVsQ3RybCk7XG5cbiAgYmFycmVsQ3RybC4kaW5qZWN0ID0gWyckbWRNZWRpYScsICd1c2VyRmFjdG9yeScsICdiYXJyZWxGYWN0b3J5JywgJ25hdmJhckZhY3RvcnknXTtcblxuICBmdW5jdGlvbiBiYXJyZWxDdHJsKCRtZE1lZGlhLCB1c2VyRmFjdG9yeSwgYmFycmVsRmFjdG9yeSwgbmF2YmFyRmFjdG9yeSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHNldFBhcmFtcygpO1xuXG4gICAgZnVuY3Rpb24gc2V0UGFyYW1zKCkge1xuICAgICAgbmF2YmFyRmFjdG9yeS5zZXRTZW8oJ0JhcnJlbCBCcmVha2luZycsICdMb29rIHVwIHdoZW4gdG8gcGxheSB0aGUgZnJpZW5kIGdhbWUgd2l0aCB0aGlzIHVwLXRvLWRhdGUgY2hhcnQuJyk7XG4gICAgICBzZWxmLnZlcnNpb24gPSB1c2VyRmFjdG9yeS5nZXRWZXJzaW9uKCk7XG4gICAgICBzZWxmLmJhcnJlbFRpbWVzID0gYmFycmVsRmFjdG9yeS5nZXRCYXJyZWxUaW1lcygpO1xuICAgICAgc2VsZi5mb3JtYXQgPSB1c2VyRmFjdG9yeS5nZXREZXRhaWxlZEhvdXJTdGF0dXMoKTtcbiAgICB9XG5cbiAgICBzZWxmLnVwZGF0ZVZlcnNpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgIHVzZXJGYWN0b3J5LnNldFZlcnNpb24oc2VsZi52ZXJzaW9uKTtcbiAgICAgIHNlbGYuYmFycmVsVGltZXMgPSBiYXJyZWxGYWN0b3J5LmdldEJhcnJlbFRpbWVzKCk7XG4gICAgfTtcblxuICAgIHNlbGYuaXNMYXJnZVNjcmVlbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICRtZE1lZGlhKCdndC1tZCcpO1xuICAgIH07XG5cbiAgICBzZWxmLnNob3dIb3VycyA9IGZ1bmN0aW9uKCkge1xuICAgICAgdXNlckZhY3Rvcnkuc2V0RGV0YWlsZWRIb3VyU3RhdHVzKHNlbGYuZm9ybWF0KTtcbiAgICB9XG4gIH1cblxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyLm1vZHVsZSgnYXBwJylcbiAgICAuZmFjdG9yeSgnYmFycmVsRmFjdG9yeScsIGJhcnJlbEZhY3RvcnkpO1xuXG4gIGJhcnJlbEZhY3RvcnkuJGluamVjdCA9IFsndXNlckZhY3RvcnknXTtcblxuICBmdW5jdGlvbiBiYXJyZWxGYWN0b3J5KHVzZXJGYWN0b3J5KSB7XG4gICAgdmFyIHNlcnZpY2VzID0ge1xuICAgICAgZ2V0QmFycmVsVGltZXM6IGdldEJhcnJlbFRpbWVzXG4gICAgfTtcblxuXG4gICAgcmV0dXJuIHNlcnZpY2VzO1xuXG4gICAgZnVuY3Rpb24gZ2V0QmFycmVsVGltZXMoKSB7XG4gICAgICB2YXIgdmVyc2lvbiA9IHVzZXJGYWN0b3J5LmdldFZlcnNpb24oKTtcbiAgICAgIHZhciBOVU1fREFZUyA9IDU7XG4gICAgICB2YXIgYmFycmVsVGltZXMgPSBbXTtcbiAgICAgIHZhciBkYXRhID0gZ2V0U3RhcnRFbmRUaW1lcyh2ZXJzaW9uKTtcbiAgICAgIHZhciBzdGFydCA9IGRhdGEuc3RhcnQ7XG4gICAgICB2YXIgZW5kID0gZGF0YS5lbmQ7XG4gICAgICB2YXIgaG91ckRpc3BsYXkgPSBzdGFydC5jbG9uZSgpLmxvY2FsKCkuZm9ybWF0KCdISDptbScpICsgJy0nICsgZW5kLmNsb25lKCkubG9jYWwoKS5mb3JtYXQoJ0hIOm1tJyk7XG4gICAgICB2YXIgZGF5T2ZZZWFyID0gc3RhcnQuZGF5T2ZZZWFyKCk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IE5VTV9EQVlTOyBpKyspIHtcbiAgICAgICAgYmFycmVsVGltZXMucHVzaChnZXRUaW1lKGkpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGJhcnJlbFRpbWVzO1xuXG4gICAgICBmdW5jdGlvbiBnZXRUaW1lKGRheU51bSkge1xuICAgICAgICB2YXIgc3RhcnRPZkRheSA9IHN0YXJ0LmNsb25lKCkuYWRkKGRheU51bSwgJ2RheXMnKTtcbiAgICAgICAgdmFyIHdvb2QgPSBbMCwgNSwgNCwgOSwgMywgOCwgNCwgOSwgMiwgNywgMywgOCwgMSwgNiwgMiwgNywgMCwgNSwgMSwgNl07XG4gICAgICAgIHZhciBzaWx2ZXIgPSBbMSwgNiwgMiwgNywgMCwgNSwgMSwgNiwgMCwgNSwgNCwgOSwgMywgOCwgNCwgOSwgMiwgNywgMywgOF07XG4gICAgICAgIHZhciBnb2xkID0gWzMsIDgsIDIsIDcsIDEsIDYsIDAsIDUsIDQsIDldO1xuXG4gICAgICAgIHZhciBvZmZzZXQgPSBkYXlOdW0gKyBkYXlPZlllYXIgKyA0O1xuXG4gICAgICAgIHZhciBpbmRleDEgPSAob2Zmc2V0ICogNCkgJSAyMDtcbiAgICAgICAgdmFyIGluZGV4MiA9IChvZmZzZXQgKiAyKSAlIDEwO1xuXG4gICAgICAgIHZhciB3b29kRGlnaXRzID0gd29vZC5zbGljZShpbmRleDEsIGluZGV4MSArIDQpO1xuICAgICAgICB2YXIgc2lsdmVyRGlnaXRzID0gc2lsdmVyLnNsaWNlKGluZGV4MSwgaW5kZXgxICsgNCk7XG4gICAgICAgIHZhciBnb2xkRGlnaXRzID0gZ29sZC5zbGljZShpbmRleDIsIGluZGV4MiArIDIpO1xuICAgICAgICB2YXIgZGF0ZSA9IHN0YXJ0T2ZEYXkuZm9ybWF0KCdZWVlZLU1NLUREJyk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBkYXRlOiBkYXRlLFxuICAgICAgICAgIHdvb2REaWdpdHM6IHdvb2REaWdpdHMsXG4gICAgICAgICAgc2lsdmVyRGlnaXRzOiBzaWx2ZXJEaWdpdHMsXG4gICAgICAgICAgZ29sZERpZ2l0czogZ29sZERpZ2l0cyxcbiAgICAgICAgICBob3VyRGlzcGxheTogaG91ckRpc3BsYXksXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0U3RhcnRFbmRUaW1lcyh2ZXJzaW9uKSB7XG4gICAgICB2YXIgbm93ID0gbW9tZW50KCk7XG4gICAgICB2YXIgaG91ck9mZnNldCA9ICh2ZXJzaW9uID09PSAnZ2xvYmFsJykgPyAxMiA6IDY7XG4gICAgICB2YXIgc3RhcnQgPSBtb21lbnQudXRjKCkuc3RhcnRPZignZGF5JykuYWRkKGhvdXJPZmZzZXQsICdob3VycycpO1xuICAgICAgdmFyIGVuZCA9IHN0YXJ0LmNsb25lKCkuYWRkKDIzLCAnaG91cnMnKS5hZGQoNTksICdtaW51dGVzJyk7O1xuXG4gICAgICBpZiAobm93LmlzQWZ0ZXIoZW5kKSkge1xuICAgICAgICBzdGFydC5hZGQoMSwgJ2RheScpO1xuICAgICAgICBlbmQuYWRkKDEsICdkYXknKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3RhcnQ6IHN0YXJ0LFxuICAgICAgICBlbmQ6IGVuZCxcbiAgICAgIH07XG4gICAgfVxuXG4gIH1cblxufSkoKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuICAuY29uZmlnKGZ1bmN0aW9uICgkdHJhbnNsYXRlUHJvdmlkZXIpIHtcbiAgICAkdHJhbnNsYXRlUHJvdmlkZXIudHJhbnNsYXRpb25zKCdlbicsIHtcbiAgICAgIE5BVl9UVVJUTEU6ICdUdXJ0bGUgVGltZScsXG4gICAgICBOQVZfQkFSUkVMOiAnQmFycmVsIEJyZWFraW5nJyxcbiAgICAgIE5BVl9FVkVOVDogJ0V2ZW50JyxcbiAgICAgIE5BVl9DT05UQUNUOiAnQ29udGFjdCBNZScsXG4gICAgICBOQVZfU0VUVElOR1M6ICdTZXR0aW5ncycsXG4gICAgICBUVF9USVRMRTogJ1R1cnRsZSBUaW1lIENhbGN1bGF0b3InLFxuICAgICAgVFRfRElHSVQ6ICc2dGggZGlnaXQgb2YgSUQnLFxuICAgICAgVFRfRk9STUFUOiAnVGltZSBGb3JtYXQnLFxuICAgICAgVFRfU1RBTkRBUkQ6ICdTdGFuZGFyZCcsXG4gICAgICBUVF9NSUxJVEFSWTogJzI0aHIgZm9ybWF0JyxcbiAgICAgIFRUX1RJTUVaT05FOiAnVGltZSBab25lOicsXG4gICAgICBUVF9TRUVNT1JFOiAnU2VlIE1vcmUnLFxuICAgICAgVFRfQUREX0NBTEVOREFSOiAnQWRkIHRvIENhbGVuZGFyJyxcbiAgICAgIFRUX05PVElGSUNBVElPTjogJ0Nocm9tZS9BbmRyb2lkIE5vdGlmaWNhdGlvbnMnLFxuICAgICAgVFRfSFRNTF9OT1RJRklDQVRJT046ICdIVE1MIE5vdGlmaWNhdGlvbnMnLFxuICAgICAgVFRfTk9USUZfVEVTVDogJ0V4YW1wbGUgQ2hyb21lL0FuZHJvaWQgTm90aWZpY2F0aW9uJyxcbiAgICAgIFRUX0hUTUxfTk9USUZfVEVTVDogJ0V4YW1wbGUgSFRNTCBOb3RpZmljYXRpb24nLFxuICAgICAgVFRfTk9USUZfTUlOVVRFUzogJ05vdGlmaWNhdGlvbiB0aW1lIGluIGFkdmFuY2UnLFxuICAgICAgVFRfTUlOVVRFUzogJ01pbnV0ZXMnLFxuICAgICAgVFRfTk9USUZfU09VTkQ6ICdQbGF5IHNvdW5kJyxcbiAgICAgIFRUX05PVElGX0VYQU1QTEU6ICdFeGFtcGxlJyxcbiAgICAgIEJCX1RJVExFOiAnQmFycmVsIEJyZWFraW5nJyxcbiAgICAgIEJCX1RJTUU6ICdUaW1lIHRpbGwgbmV4dCByb3RhdGlvbjonLFxuICAgICAgQkJfQUxUOiAnU2hvdyBIb3VycycsXG4gICAgICBCQl9EQVRFOiAnRGF0ZScsXG4gICAgICBCQl9XT09ERU46ICdXb29kZW4nLFxuICAgICAgQkJfU0lMVkVSOiAnU2lsdmVyJyxcbiAgICAgIEJCX0dPTEQ6ICdHb2xkJ1xuICAgIH0pXG4gICAgLnRyYW5zbGF0aW9ucygnZGUnLCB7XG4gICAgICBOQVZfVFVSVExFOiAnVHVydGxlIFplaXRlbicsXG4gICAgICBOQVZfQkFSUkVMOiAnRnJpZW5kIEdhbWUnLFxuICAgICAgTkFWX0VWRU5UOiAnRXJlaWduaXMnLFxuICAgICAgTkFWX0NPTlRBQ1Q6ICdLb250YWt0aWVyZSBNaWNoJyxcbiAgICAgIE5BVl9TRVRUSU5HUzogJ0VpbnN0ZWxsdW5nZW4nLFxuICAgICAgVFRfVElUTEU6ICdUdXJ0bGUgWmVpdGVuIFJlY2huZXInLFxuICAgICAgVFRfRElHSVQ6ICc2dGUgWmlmZmVyIGRlciBJRCcsXG4gICAgICBUVF9GT1JNQVQ6ICdaZWl0Zm9ybWF0JyxcbiAgICAgIFRUX1NUQU5EQVJEOiAnU3RhbmRhcmQnLFxuICAgICAgVFRfTUlMSVRBUlk6ICcyNC1TdHVuZGVuJyxcbiAgICAgIFRUX1RJTUVaT05FOiAnWmVpdHpvbmU6JyxcbiAgICAgIFRUX1NFRU1PUkU6ICdzaWVoZSBtZWhyJyxcbiAgICAgIFRUX0FERF9DQUxFTkRBUjogJ1p1bSBLYWxlbmRlciBoaW56dWbDvGdlbicsXG4gICAgICBUVF9OT1RJRklDQVRJT046ICdDaHJvbWUvQW5kcm9pZCBCZW5hY2hyaWNodGlndW5nJyxcbiAgICAgIFRUX0hUTUxfTk9USUZJQ0FUSU9OOiAnSFRNTCBCZW5hY2hyaWNodGlndW5nJyxcbiAgICAgIFRUX05PVElGX1RFU1Q6ICdCZWlzcGllbCBDaHJvbWUvQW5kcm9pZCBCZW5hY2hyaWNodGlndW5nJyxcbiAgICAgIFRUX0hUTUxfTk9USUZfVEVTVDogJ0JlaXNwaWVsIEhUTUwgQmVuYWNocmljaHRpZ3VuZycsXG4gICAgICBUVF9OT1RJRl9NSU5VVEVTOiAnSFRNTC1CZW5hY2hyaWNodGlndW5nJyxcbiAgICAgIFRUX01JTlVURVM6ICdNaW51dGVuJyxcbiAgICAgIFRUX05PVElGX1NPVU5EOiAnVG9uIGFic3BpZWxlbicsXG4gICAgICBUVF9OT1RJRl9FWEFNUExFOiAnQmVpc3BpZWwnLFxuICAgICAgQkJfVElUTEU6ICdCYXJyZWwgQnJlYWtpbmcnLFxuICAgICAgQkJfVElNRTogJ1plaXQgYmlzIHp1bSBuw6RjaHN0ZW4gV2VjaHNlbDonLFxuICAgICAgQkJfQUxUOiAnQW56ZWlnZSBTdHVuZGVuJyxcbiAgICAgIEJCX0RBVEU6ICdEYXR1bScsXG4gICAgICBCQl9XT09ERU46ICdIb2x6JyxcbiAgICAgIEJCX1NJTFZFUjogJ1NpbGJlcicsXG4gICAgICBCQl9HT0xEOiAnR29sZCdcbiAgICB9KVxuICAgIC50cmFuc2xhdGlvbnMoJ2VzJywge1xuICAgICAgTkFWX1RVUlRMRTogJ0hvcmFyaW8gVG9ydHVnYXMnLFxuICAgICAgTkFWX0JBUlJFTDogJ0ZyaWVuZCBHYW1lJyxcbiAgICAgIE5BVl9FVkVOVDogJ0V2ZW50bycsXG4gICAgICBOQVZfQ09OVEFDVDogJ0NvbnTDoWN0YW1lJyxcbiAgICAgIE5BVl9TRVRUSU5HUzogJ0NvbmZpZ3VyYWNpw7NuJyxcbiAgICAgIFRUX1RJVExFOiAnSG9yYXJpbyBUb3J0dWdhcyBDYWxjdWxhZG9yYScsXG4gICAgICBUVF9ESUdJVDogJzZ0aCBkw61naXRvIGRlIElEJyxcbiAgICAgIFRUX0ZPUk1BVDogJ2Zvcm1hdG8gZGUgdGllbXBvJyxcbiAgICAgIFRUX1NUQU5EQVJEOiAnZXN0w6FuZGFyJyxcbiAgICAgIFRUX01JTElUQVJZOiAnMjQgaG9yYXMnLFxuICAgICAgVFRfVElNRVpPTkU6ICdab25hIEhvcmFyaWE6JyxcbiAgICAgIFRUX1NFRU1PUkU6ICd2ZXIgbcOhcycsXG4gICAgICBUVF9BRERfQ0FMRU5EQVI6ICdBw7FhZGlyIGFsIGNhbGVuZGFyaW8nLFxuICAgICAgVFRfTk9USUZJQ0FUSU9OOiAnTm90aWZpY2FjaW9uZXMgZGUgQ2hyb21lL0FuZHJvaWQnLFxuICAgICAgVFRfSFRNTF9OT1RJRklDQVRJT046ICdOb3RpZmljYWNpb25lcyBkZSBIVE1MJyxcbiAgICAgIFRUX05PVElGX1RFU1Q6ICdUZXN0IENocm9tZS9BbmRyb2lkIE5vdGlmaWNhdGlvbicsXG4gICAgICBUVF9IVE1MX05PVElGX1RFU1Q6ICdUZXN0IEhUTUwgTm90aWZpY2F0aW9uJyxcbiAgICAgIFRUX05PVElGX01JTlVURVM6ICdNaW51dG9zIGFudGVzIGRlIGV2ZW50bycsXG4gICAgICBUVF9NSU5VVEVTOiAnTWludXRvcycsXG4gICAgICBUVF9OT1RJRl9TT1VORDogJ1JlcHJvZHVjaXIgc29uaWRvJyxcbiAgICAgIFRUX05PVElGX0VYQU1QTEU6ICdFamVtcGxvJyxcbiAgICAgIEJCX1RJVExFOiAnRnJpZW5kIEdhbWUnLFxuICAgICAgQkJfVElNRTogJ1RpZW1wbyBoYXN0YSBsYSBwcsOzeGltYSByb3RhY2nDs246JyxcbiAgICAgIEJCX0FMVDogJ01vc3RyYXIgbGFzIGhvcmFzJyxcbiAgICAgIEJCX0RBVEU6ICdGZWNoYScsXG4gICAgICBCQl9XT09ERU46ICdNYWRlcmEnLFxuICAgICAgQkJfU0lMVkVSOiAnUGxhdGEnLFxuICAgICAgQkJfR09MRDogJ09ybydcbiAgICB9KVxuICAgIC50cmFuc2xhdGlvbnMoJ2ZyJywge1xuICAgICAgTkFWX1RVUlRMRTogJ0hvcmFpcmVzIGRlcyBUb3J0dWVzJyxcbiAgICAgIE5BVl9CQVJSRUw6ICdQYXJ0aWUgZFxcJ2FtaXMnLFxuICAgICAgTkFWX0VWRU5UOiAnRXZlbnQnLFxuICAgICAgTkFWX0NPTlRBQ1Q6ICdNZSBDb250YWN0ZXInLFxuICAgICAgTkFWX1NFVFRJTkdTOiAnUsOpZ2xhZ2VzJyxcbiAgICAgIFRUX1RJVExFOiAnQ2FsY3VsYXRldXIgZGUgbFxcJ0hvcmFpcmUgZGVzIFRvcnR1ZXMnLFxuICAgICAgVFRfRElHSVQ6ICc2ZW1lIGNoaWZmcmUgSUQnLFxuICAgICAgVFRfRk9STUFUOiAnZm9ybWF0IGRlIGxcXCdoZXVyZScsXG4gICAgICBUVF9TVEFOREFSRDogJ25vcm1hbGUnLFxuICAgICAgVFRfTUlMSVRBUlk6ICcyNGgnLFxuICAgICAgVFRfVElNRVpPTkU6ICdGdXNlYXUgSG9yYWlyZTonLFxuICAgICAgVFRfU0VFTU9SRTogJ0xpcmUgbGEgc3VpdGUnLFxuICAgICAgVFRfQUREX0NBTEVOREFSOiAnQWpvdXRlciBhdSBDYWxlbmRyaWVyJyxcbiAgICAgIFRUX05PVElGSUNBVElPTjogJ05vdGlmaWNhdGlvbnMgR29vZ2xlL0FuZHJvaWQnLFxuICAgICAgVFRfSFRNTF9OT1RJRklDQVRJT046ICdOb3RpZmljYXRpb25zIEhUTUwnLFxuICAgICAgVFRfTk9USUZfVEVTVDogJ1Rlc3QgQ2hyb21lL0FuZHJvaWQgTm90aWZpY2F0aW9uJyxcbiAgICAgIFRUX0hUTUxfTk9USUZfVEVTVDogJ1Rlc3QgSFRNTCBOb3RpZmljYXRpb24nLFxuICAgICAgVFRfTk9USUZfTUlOVVRFUzogJ1RlbXBzIFJlc3RhbnQgYXZhbnQgRXZlbnQnLFxuICAgICAgVFRfTUlOVVRFUzogJ01pbnV0ZXMnLFxuICAgICAgVFRfTk9USUZfU09VTkQ6ICdKb3VlciBsZSBzb24nLFxuICAgICAgVFRfTk9USUZfRVhBTVBMRTogJ0V4ZW1wbGUnLFxuICAgICAgQkJfVElUTEU6ICfDiWNsYXRlbWVudCBkdSBUb25uZWF1JyxcbiAgICAgIEJCX1RJTUU6ICdUZW1wcyBqdXNxdVxcJ8OgIGxhIFByb2NoYWluZSBSb3RhdGlvbjonLFxuICAgICAgQkJfQUxUOiAnQWZmaWNoZXIgbGVzIEhldXJlcycsXG4gICAgICBCQl9EQVRFOiAnRGF0ZScsXG4gICAgICBCQl9XT09ERU46ICdCb2lzJyxcbiAgICAgIEJCX1NJTFZFUjogJ0FyZ2VudCcsXG4gICAgICBCQl9HT0xEOiAnT3InLFxuICAgIH0pO1xuICAgICR0cmFuc2xhdGVQcm92aWRlci5wcmVmZXJyZWRMYW5ndWFnZSgnZW4nKTtcbiAgICAkdHJhbnNsYXRlUHJvdmlkZXIudXNlU2FuaXRpemVWYWx1ZVN0cmF0ZWd5KCdlc2NhcGVkJyk7XG4gIH0pO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4gIC5jb250cm9sbGVyKCdDb250YWN0Q3RybCcsIGNvbnRhY3RDdHJsKTtcblxuICBjb250YWN0Q3RybC4kaW5qZWN0ID0gWyckaHR0cCcsICdhcGlGYWN0b3J5JywgJ25hdmJhckZhY3RvcnknXTtcblxuICBmdW5jdGlvbiBjb250YWN0Q3RybCgkaHR0cCwgYXBpRmFjdG9yeSwgbmF2YmFyRmFjdG9yeSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHNlbGYuc3ViamVjdHMgPSBbXG4gICAgICAnSW5jb3JyZWN0IFR1cnRsZSBUaW1lJyxcbiAgICAgICdSZXBvcnQgYSBidWcnLFxuICAgICAgJ090aGVyJyxcbiAgICBdO1xuXG4gICAgc2VsZi5tZXNzYWdlID0ge307XG5cbiAgICBuYXZiYXJGYWN0b3J5LnNldFNlbygnQ29udGFjdCBNZScsICdGaW5kIGEgYnVnPyBIYXZlIGEgcXVlc3Rpb24gb3IgZmVlZGJhY2s/IENvbnRhY3QgbWUgYW5kIGxldCBtZSBrbm93LicpO1xuXG5cbiAgICBzZWxmLmlzVHVydGxlQnVnID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoc2VsZi5tZXNzYWdlLnN1YmplY3QgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgcmV0dXJuIHNlbGYubWVzc2FnZS5zdWJqZWN0ID09PSAnSW5jb3JyZWN0IFR1cnRsZSBUaW1lJztcbiAgICB9XG5cbiAgICBzZWxmLnNlbmRNZXNzYWdlID0gZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLnN0YXR1cyA9ICdTZW5kaW5nLi4uJztcbiAgICAgICRodHRwLnBvc3QoYXBpRmFjdG9yeS5nZXRCYXNlVXJsKCkgKyAnL2NvbnRhY3QnLCBzZWxmLm1lc3NhZ2UpXG4gICAgICAudGhlbihmdW5jdGlvbiBzdWNjZXNzKCkge1xuICAgICAgICBzZWxmLnN0YXR1cyA9ICdTZW50ISc7XG4gICAgICB9KS5jYXRjaChmdW5jdGlvbiBlcnJvcigpIHtcbiAgICAgICAgc2VsZi5zdGF0dXMgPSAnRXJyb3Igc2VuZGluZy4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4nO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4gIC5jb250cm9sbGVyKCdFdmVudHNDdHJsJywgZXZlbnRzQ3RybCk7XG5cbiAgZXZlbnRzQ3RybC4kaW5qZWN0ID0gWyckbWRNZWRpYScsICd1c2VyRmFjdG9yeScsICdldmVudHNGYWN0b3J5JywgJ25hdmJhckZhY3RvcnknXTtcbiAgXG4gIGZ1bmN0aW9uIGV2ZW50c0N0cmwoJG1kTWVkaWEsIHVzZXJGYWN0b3J5LCBldmVudHNGYWN0b3J5LCBuYXZiYXJGYWN0b3J5KSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgc2V0UGFyYW1zKCk7XG5cbiAgICBmdW5jdGlvbiBzZXRQYXJhbXMoKSB7XG4gICAgICBuYXZiYXJGYWN0b3J5LnNldFNlbygnRXZlbnRzJywgJ0V2ZW50IGluZm9ybWF0aW9uIGFuZCBhbmQgdXAtdG8tZGF0ZSB0YWJsZSBvbiBzdG9yeSBpc2xlIGJvbnVzZXMuJylcbiAgICAgIHNlbGYudmVyc2lvbiA9IHVzZXJGYWN0b3J5LmdldFZlcnNpb24oKTtcbiAgICAgIHNlbGYuZXZlbnRUaW1lcyA9IGV2ZW50c0ZhY3RvcnkuZ2V0RXZlbnRUaW1lcygpO1xuICAgICAgc2VsZi5mb3JtYXQgPSB1c2VyRmFjdG9yeS5nZXREZXRhaWxlZEhvdXJTdGF0dXMoKTtcbiAgICB9XG5cbiAgICBzZWxmLnVwZGF0ZVZlcnNpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgIHVzZXJGYWN0b3J5LnNldFZlcnNpb24oc2VsZi52ZXJzaW9uKTtcbiAgICAgIHNlbGYuZXZlbnRUaW1lcyA9IGV2ZW50c0ZhY3RvcnkuZ2V0RXZlbnRUaW1lcygpO1xuICAgIH1cblxuICAgIHNlbGYuaXNMYXJnZVNjcmVlbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICRtZE1lZGlhKCdndC1tZCcpO1xuICAgIH07XG5cbiAgICBzZWxmLnNob3dIb3VycyA9IGZ1bmN0aW9uKCkge1xuICAgICAgdXNlckZhY3Rvcnkuc2V0RGV0YWlsZWRIb3VyU3RhdHVzKHNlbGYuZm9ybWF0KTtcbiAgICB9XG4gIH1cblxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyLm1vZHVsZSgnYXBwJylcbiAgICAuZmFjdG9yeSgnZXZlbnRzRmFjdG9yeScsIGV2ZW50c0ZhY3RvcnkpO1xuXG4gIGV2ZW50c0ZhY3RvcnkuJGluamVjdCA9IFsndXNlckZhY3RvcnknXTtcblxuICBmdW5jdGlvbiBldmVudHNGYWN0b3J5KHVzZXJGYWN0b3J5KSB7XG4gICAgdmFyIHNlcnZpY2VzID0ge1xuICAgICAgZ2V0RXZlbnRUaW1lczogZ2V0RXZlbnRUaW1lc1xuICAgIH07XG5cbiAgICByZXR1cm4gc2VydmljZXM7XG5cbiAgICBmdW5jdGlvbiBnZXRFdmVudFRpbWVzKCkge1xuICAgICAgdmFyIHZlcnNpb24gPSB1c2VyRmFjdG9yeS5nZXRWZXJzaW9uKCk7XG4gICAgICB2YXIgTlVNX0RBWVMgPSA1O1xuICAgICAgdmFyIGRyb3BUYWJsZSA9IFsnTG9ndWV0b3duLCBKYXlhJywgJ0FybG9uZyBQYXJrLCBBbHViYXJuYScsICdCYXJhdGllLCBOYW5vaGFuYSBSYWluYmFzZScsICdTeXJ1cCBWaWxsYWdlLCBEcnVtIElzbGFuZCwgV2F0ZXIgNycsICdPcmFuZ2UgVG93biwgTGl0dGxlIEdhcmRlbiwgTG9uZyBSaW5nIExvbmcgTGFuZCcsICdTaGVsbCBUb3duLCBXaGlza2V5IFBlYWssIEFyayBNYXhpbScsICdBbHZpZGFcXCdzIEhpZGVvdXQsIFR3aW4gQ2FwZSwgQW5nZWwgSXNsYW5kJ107XG4gICAgICB2YXIgc3RhbWluYVRhYmxlID0gWydPcmFuZ2UgVG93biwgRHJ1bSBJc2xhbmQsIFdhdGVyIDcnLCAnU2hlbGwgVG93biwgTGl0dGxlIEdhcmRlbiwgTG9uZyBSaW5nIExvbmcgTGFuZCcsICdBbHZpZGFcXCdzIEhpZGVvdXQsIFdoaXNrZXkgUGVhaywgQXJrIE1heGltJywgJ0Z1c2NoaWEgVmlsbGFnZSwgVHdpbiBDYXBlLCBBbmdlbCBJc2xhbmQnLCAnTG9ndWV0b3duLCBKYXlhJywgJ0FybG9uZyBQYXJrLCBBbHViYXJuYScsICdCYXJhdGllLCBOYW5vaGFuYSBSYWluYmFzZSddO1xuICAgICAgdmFyIGJlbGlUYWJsZSA9IFsnQmFyYXRpZSwgV2hpc2tleSBQZWFrLCBBcmsgTWF4aW0nLCAnU3lydXAgVmlsbGFnZSwgVHdpbiBDYXBlLCBBbmdlbCBJc2xhbmQnLCAnTG9ndWV0b3duLCBKYXlhJywgJ0FybG9uZyBQYXJrLCBBbHViYXJuYScsICdCYXJhdGllLCBOYW5vaGFuYSBSYWluYmFzZScsICdTeXJ1cCBWaWxsYWdlLCBEcnVtIElzbGFuZCwgV2F0ZXIgNycsICdPcmFuZ2UgVG93biwgTGl0dGxlIEdhcmRlbiwgTG9uZyBSaW5nIExvbmcgTGFuZCddO1xuXG4gICAgICBpZiAodmVyc2lvbiA9PT0gJ2phcGFuJykge1xuICAgICAgICBkcm9wVGFibGUgPSBbJ0xvZ3VldG93biwgSmF5YSwgVGhyaWxsZXIgQmFyayAxJywgJ0FybG9uZyBQYXJrLCBBbHViYXJuYSwgRW5pZXMgTG9iYnkgMicsICdCYXJhdGllLCBOYW5vaGFuYSBSYWluYmFzZSwgRW5pZXMgTG9iYnkgMScsICdTeXJ1cCBWaWxsYWdlLCBEcnVtIElzbGFuZCwgV2F0ZXIgNycsICdPcmFuZ2UgVG93biwgTGl0dGxlIEdhcmRlbiwgTG9uZyBSaW5nIExvbmcgTGFuZCcsICdTaGVsbCBUb3duLCBXaGlza2V5IFBlYWssIEFyayBNYXhpbScsICdBbHZpZGFcXCdzIEhpZGVvdXQsIFR3aW4gQ2FwZSwgQW5nZWwgSXNsYW5kJ107XG4gICAgICAgIHN0YW1pbmFUYWJsZSA9IFsnT3JhbmdlIFRvd24sIERydW0gSXNsYW5kLCBXYXRlciA3JywgJ1NoZWxsIFRvd24sIExpdHRsZSBHYXJkZW4sIExvbmcgUmluZyBMb25nIExhbmQnLCAnQWx2aWRhXFwncyBIaWRlb3V0LCBXaGlza2V5IFBlYWssIEFyayBNYXhpbScsICdGdXNjaGlhIFZpbGxhZ2UsIFR3aW4gQ2FwZSwgQW5nZWwgSXNsYW5kJywgJ0xvZ3VldG93biwgSmF5YSwgVGhyaWxsZXIgQmFyayAxJywgJ0FybG9uZyBQYXJrLCBBbHViYXJuYSwgRW5pZXMgTG9iYnkgMicsICdCYXJhdGllLCBOYW5vaGFuYSBSYWluYmFzZSwgRW5pZXMgTG9iYnkgMSddO1xuICAgICAgICBiZWxpVGFibGUgPSBbJ0JhcmF0aWUsIFdoaXNrZXkgUGVhaywgQXJrIE1heGltJywgJ1N5cnVwIFZpbGxhZ2UsIFR3aW4gQ2FwZSwgQW5nZWwgSXNsYW5kLCBUaHJpbGxlciBCYXJrIDInLCAnTG9ndWV0b3duLCBKYXlhLCBUaHJpbGxlciBCYXJrIDEnLCAnQXJsb25nIFBhcmssIEFsdWJhcm5hLCBFbmllcyBMb2JieSAyJywgJ0JhcmF0aWUsIE5hbm9oYW5hIFJhaW5iYXNlLCBFbmllcyBMb2JieSAxJywgJ1N5cnVwIFZpbGxhZ2UsIERydW0gSXNsYW5kLCBXYXRlciA3JywgJ09yYW5nZSBUb3duLCBMaXR0bGUgR2FyZGVuLCBMb25nIFJpbmcgTG9uZyBMYW5kJ107XG4gICAgICB9XG4gICAgICB2YXIgc3RhcnQgPSBnZXRTdGFydFRpbWUodmVyc2lvbik7XG4gICAgICB2YXIgZGF5T2ZZZWFyID0gc3RhcnQuZGF5T2ZZZWFyKCk7XG5cbiAgICAgIHZhciBldmVudFRpbWVzID0gW107XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTlVNX0RBWVM7IGkrKykge1xuICAgICAgICBldmVudFRpbWVzLnB1c2goZ2V0VGltZShpKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBldmVudFRpbWVzO1xuXG4gICAgICBmdW5jdGlvbiBnZXRUaW1lKGRheU51bSkge1xuICAgICAgICB2YXIgb2Zmc2V0ID0gZGF5TnVtICsgZGF5T2ZZZWFyICsgNDtcbiAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0ICUgNztcblxuICAgICAgICB2YXIgZHJvcCA9IGRyb3BUYWJsZVtvZmZzZXRdLnNwbGl0KCcsJyk7XG4gICAgICAgIHZhciBzdGFtaW5hID0gc3RhbWluYVRhYmxlW29mZnNldF0uc3BsaXQoJywnKTtcbiAgICAgICAgdmFyIGJlbGkgPSBiZWxpVGFibGVbb2Zmc2V0XS5zcGxpdCgnLCcpO1xuICAgICAgICB2YXIgc3RhcnREYXRlID0gc3RhcnQuY2xvbmUoKS5hZGQoZGF5TnVtLCAnZGF5cycpO1xuXG4gICAgICAgIHZhciBob3VyT2Zmc2V0ID0gKHZlcnNpb24gPT09ICdnbG9iYWwnKSA/IDIzIDogMTE7XG4gICAgICAgIHZhciBlbmQgPSBzdGFydERhdGUuY2xvbmUoKS5hZGQoaG91ck9mZnNldCwgJ2hvdXJzJykuYWRkKDU5LCAnbWludXRlcycpO1xuICAgICAgICB2YXIgZGF0ZSA9IHN0YXJ0RGF0ZS5mb3JtYXQoJ1lZWVktTU0tREQnKTtcbiAgICAgICAgdmFyIGhvdXJTdHJpbmcgPSBzdGFydERhdGUuZm9ybWF0KCdISDptbScpICsgJy0nICsgZW5kLmZvcm1hdCgnSEg6bW0nKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGRhdGU6IGRhdGUsXG4gICAgICAgICAgaG91ckRpc3BsYXk6IGhvdXJTdHJpbmcsXG4gICAgICAgICAgZHJvcDogZHJvcCxcbiAgICAgICAgICBzdGFtaW5hOiBzdGFtaW5hLFxuICAgICAgICAgIGJlbGk6IGJlbGksXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRTdGFydFRpbWUodmVyc2lvbikge1xuICAgICAgdmFyIGhvdXJPZmZzZXQgPSAodmVyc2lvbiA9PT0gJ2dsb2JhbCcpID8gOCA6IDI7XG4gICAgICB2YXIgc3RhcnQgPSBtb21lbnQudXRjKCkuc3RhcnRPZignZGF5JykuYWRkKGhvdXJPZmZzZXQsICdob3VycycpO1xuICAgICAgdmFyIG5vdyA9IG1vbWVudCgpO1xuXG4gICAgICBpZiAobm93LmlzQWZ0ZXIoc3RhcnQpKVxuICAgICAgICBzdGFydC5zdWJ0cmFjdCgxLCAnZGF5Jyk7XG5cbiAgICAgIHJldHVybiBzdGFydDtcbiAgICB9XG4gIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuICAuZmFjdG9yeSgnYXBpRmFjdG9yeScsIGFwaUZhY3RvcnkpO1xuXG4gIGFwaUZhY3RvcnkuJGluamVjdCA9IFtdO1xuXG4gIGZ1bmN0aW9uIGFwaUZhY3RvcnkoKSB7XG4gICAgdmFyIHNlcnZpY2VzID0ge1xuICAgICAgZ2V0QmFzZVVybDogZ2V0QmFzZVVybCxcbiAgICB9O1xuXG4gICAgcmV0dXJuIHNlcnZpY2VzO1xuXG4gICAgZnVuY3Rpb24gZ2V0QmFzZVVybCgpIHtcbiAgICAgIGlmIChkb2N1bWVudC5sb2NhdGlvbi5ob3N0bmFtZSA9PSAnbG9jYWxob3N0JylcbiAgICAgICAgcmV0dXJuICdodHRwOi8vbG9jYWxob3N0OjMwMDAnO1xuICAgICAgZWxzZVxuICAgICAgICByZXR1cm4gJ2h0dHBzOi8vb3B0Y3RpbWVyLmNvbSc7XG4gICAgfVxuICB9XG5cbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4gIC5mYWN0b3J5KCdjYWxlbmRhckZhY3RvcnknLCBjYWxlbmRhckZhY3RvcnkpO1xuXG4gIGNhbGVuZGFyRmFjdG9yeS4kaW5qZWN0ID0gWyd1c2VyRmFjdG9yeSddO1xuXG4gIGZ1bmN0aW9uIGNhbGVuZGFyRmFjdG9yeSh1c2VyRmFjdG9yeSkge1xuICAgIHZhciBzZXJ2aWNlcyA9IHtcbiAgICAgIGdldENhbGVuZGFyOiBnZXRDYWxlbmRhcixcbiAgICB9O1xuXG4gICAgcmV0dXJuIHNlcnZpY2VzO1xuXG4gICAgZnVuY3Rpb24gZ2V0Q2FsZW5kYXIoKSB7XG4gICAgICB2YXIgbm93ID0gbW9tZW50KCk7XG5cbiAgICAgIHZhciB0dXJ0bGVUaW1lcyA9IHVzZXJGYWN0b3J5LmdldFR1cnRsZVRpbWVzKCkuZmlsdGVyKGZ1bmN0aW9uKHR1cnRsZVRpbWUpIHtcbiAgICAgICAgcmV0dXJuIG5vdy5pc0JlZm9yZSh0dXJ0bGVUaW1lKTtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgY2FsID0gaWNzKCk7XG4gICAgICB2YXIgc3ViamVjdCA9ICdPUFRDIFR1cnRsZSBUaW1lJztcbiAgICAgIHZhciBkZXNjcmlwdGlvbiA9ICdPbmUgUGllY2UgVHJlYXN1cmUgQ3J1aXNlIFR1cnRsZSBUaW1lJztcbiAgICAgIHZhciBsb2NhdGlvbiA9ICdPUFRDJztcblxuICAgICAgdmFyIGJlZ2luLCBlbmQ7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICAgIGJlZ2luID0gdHVydGxlVGltZXNbaV0uZm9ybWF0KCk7XG4gICAgICAgIGVuZCA9IHR1cnRsZVRpbWVzW2ldLmNsb25lKCkuYWRkKDMwLCAnbWludXRlcycpLmZvcm1hdCgpO1xuICAgICAgICBjYWwuYWRkRXZlbnQoc3ViamVjdCwgZGVzY3JpcHRpb24sIGxvY2F0aW9uLCBiZWdpbiwgZW5kKTtcbiAgICAgIH1cblxuICAgICAgY2FsLmRvd25sb2FkKCd0dXJ0bGVfdGltZXMnLCAnLmljcycpO1xuICAgIH1cbiAgfVxuXG59KSgpOyIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuICAuZmFjdG9yeSgnaHRtbE5vdGlmaWNhdGlvbkZhY3RvcnknLCBodG1sTm90aWZpY2F0aW9uRmFjdG9yeSk7XG5cbiAgaHRtbE5vdGlmaWNhdGlvbkZhY3RvcnkuJGluamVjdCA9IFsndXNlckZhY3RvcnknXTtcblxuICBmdW5jdGlvbiBodG1sTm90aWZpY2F0aW9uRmFjdG9yeSh1c2VyRmFjdG9yeSkge1xuICAgIHZhciBzZXJ2aWNlcyA9IHtcbiAgICAgIGlzRW5hYmxlZDogaXNFbmFibGVkLFxuICAgICAgc2V0Tm90aWZpY2F0aW9uczogc2V0Tm90aWZpY2F0aW9ucyxcbiAgICAgIHBsYXlFeGFtcGxlOiBwbGF5RXhhbXBsZSxcbiAgICB9O1xuXG4gICAgdmFyIG5vdGlmaWNhdGlvbnMgPSBbXTtcbiAgICB2YXIgc291bmQgPSBuZXcgQXVkaW8oJ3NvdW5kcy9ub3RpZmljYXRpb24ubXAzJyk7XG5cbiAgICByZXR1cm4gc2VydmljZXM7XG5cbiAgICBmdW5jdGlvbiBpc0VuYWJsZWQoKSB7XG4gICAgICB2YXIgaU9TID0gL2lQYWR8aVBob25lfGlQb2QvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgICB2YXIgbW9iaWxlQW5kVGFibGV0Q2hlY2sgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGNoZWNrID0gZmFsc2U7XG4gICAgICAgIChmdW5jdGlvbihhKXtpZigvKGFuZHJvaWR8YmJcXGQrfG1lZWdvKS4rbW9iaWxlfGF2YW50Z298YmFkYVxcL3xibGFja2JlcnJ5fGJsYXplcnxjb21wYWx8ZWxhaW5lfGZlbm5lY3xoaXB0b3B8aWVtb2JpbGV8aXAoaG9uZXxvZCl8aXJpc3xraW5kbGV8bGdlIHxtYWVtb3xtaWRwfG1tcHxtb2JpbGUuK2ZpcmVmb3h8bmV0ZnJvbnR8b3BlcmEgbShvYnxpbilpfHBhbG0oIG9zKT98cGhvbmV8cChpeGl8cmUpXFwvfHBsdWNrZXJ8cG9ja2V0fHBzcHxzZXJpZXMoNHw2KTB8c3ltYmlhbnx0cmVvfHVwXFwuKGJyb3dzZXJ8bGluayl8dm9kYWZvbmV8d2FwfHdpbmRvd3MgY2V8eGRhfHhpaW5vfGFuZHJvaWR8aXBhZHxwbGF5Ym9va3xzaWxrL2kudGVzdChhKXx8LzEyMDd8NjMxMHw2NTkwfDNnc298NHRocHw1MFsxLTZdaXw3NzBzfDgwMnN8YSB3YXxhYmFjfGFjKGVyfG9vfHNcXC0pfGFpKGtvfHJuKXxhbChhdnxjYXxjbyl8YW1vaXxhbihleHxueXx5dyl8YXB0dXxhcihjaHxnbyl8YXModGV8dXMpfGF0dHd8YXUoZGl8XFwtbXxyIHxzICl8YXZhbnxiZShja3xsbHxucSl8YmkobGJ8cmQpfGJsKGFjfGF6KXxicihlfHYpd3xidW1ifGJ3XFwtKG58dSl8YzU1XFwvfGNhcGl8Y2N3YXxjZG1cXC18Y2VsbHxjaHRtfGNsZGN8Y21kXFwtfGNvKG1wfG5kKXxjcmF3fGRhKGl0fGxsfG5nKXxkYnRlfGRjXFwtc3xkZXZpfGRpY2F8ZG1vYnxkbyhjfHApb3xkcygxMnxcXC1kKXxlbCg0OXxhaSl8ZW0obDJ8dWwpfGVyKGljfGswKXxlc2w4fGV6KFs0LTddMHxvc3x3YXx6ZSl8ZmV0Y3xmbHkoXFwtfF8pfGcxIHV8ZzU2MHxnZW5lfGdmXFwtNXxnXFwtbW98Z28oXFwud3xvZCl8Z3IoYWR8dW4pfGhhaWV8aGNpdHxoZFxcLShtfHB8dCl8aGVpXFwtfGhpKHB0fHRhKXxocCggaXxpcCl8aHNcXC1jfGh0KGMoXFwtfCB8X3xhfGd8cHxzfHQpfHRwKXxodShhd3x0Yyl8aVxcLSgyMHxnb3xtYSl8aTIzMHxpYWMoIHxcXC18XFwvKXxpYnJvfGlkZWF8aWcwMXxpa29tfGltMWt8aW5ub3xpcGFxfGlyaXN8amEodHx2KWF8amJyb3xqZW11fGppZ3N8a2RkaXxrZWppfGtndCggfFxcLyl8a2xvbnxrcHQgfGt3Y1xcLXxreW8oY3xrKXxsZShub3x4aSl8bGcoIGd8XFwvKGt8bHx1KXw1MHw1NHxcXC1bYS13XSl8bGlid3xseW54fG0xXFwtd3xtM2dhfG01MFxcL3xtYSh0ZXx1aXx4byl8bWMoMDF8MjF8Y2EpfG1cXC1jcnxtZShyY3xyaSl8bWkobzh8b2F8dHMpfG1tZWZ8bW8oMDF8MDJ8Yml8ZGV8ZG98dChcXC18IHxvfHYpfHp6KXxtdCg1MHxwMXx2ICl8bXdicHxteXdhfG4xMFswLTJdfG4yMFsyLTNdfG4zMCgwfDIpfG41MCgwfDJ8NSl8bjcoMCgwfDEpfDEwKXxuZSgoY3xtKVxcLXxvbnx0Znx3Znx3Z3x3dCl8bm9rKDZ8aSl8bnpwaHxvMmltfG9wKHRpfHd2KXxvcmFufG93ZzF8cDgwMHxwYW4oYXxkfHQpfHBkeGd8cGcoMTN8XFwtKFsxLThdfGMpKXxwaGlsfHBpcmV8cGwoYXl8dWMpfHBuXFwtMnxwbyhja3xydHxzZSl8cHJveHxwc2lvfHB0XFwtZ3xxYVxcLWF8cWMoMDd8MTJ8MjF8MzJ8NjB8XFwtWzItN118aVxcLSl8cXRla3xyMzgwfHI2MDB8cmFrc3xyaW05fHJvKHZlfHpvKXxzNTVcXC98c2EoZ2V8bWF8bW18bXN8bnl8dmEpfHNjKDAxfGhcXC18b298cFxcLSl8c2RrXFwvfHNlKGMoXFwtfDB8MSl8NDd8bWN8bmR8cmkpfHNnaFxcLXxzaGFyfHNpZShcXC18bSl8c2tcXC0wfHNsKDQ1fGlkKXxzbShhbHxhcnxiM3xpdHx0NSl8c28oZnR8bnkpfHNwKDAxfGhcXC18dlxcLXx2ICl8c3koMDF8bWIpfHQyKDE4fDUwKXx0NigwMHwxMHwxOCl8dGEoZ3R8bGspfHRjbFxcLXx0ZGdcXC18dGVsKGl8bSl8dGltXFwtfHRcXC1tb3x0byhwbHxzaCl8dHMoNzB8bVxcLXxtM3xtNSl8dHhcXC05fHVwKFxcLmJ8ZzF8c2kpfHV0c3R8djQwMHx2NzUwfHZlcml8dmkocmd8dGUpfHZrKDQwfDVbMC0zXXxcXC12KXx2bTQwfHZvZGF8dnVsY3x2eCg1Mnw1M3w2MHw2MXw3MHw4MHw4MXw4M3w4NXw5OCl8dzNjKFxcLXwgKXx3ZWJjfHdoaXR8d2koZyB8bmN8bncpfHdtbGJ8d29udXx4NzAwfHlhc1xcLXx5b3VyfHpldG98enRlXFwtL2kudGVzdChhLnN1YnN0cigwLDQpKSljaGVjayA9IHRydWV9KShuYXZpZ2F0b3IudXNlckFnZW50fHxuYXZpZ2F0b3IudmVuZG9yfHx3aW5kb3cub3BlcmEpO1xuICAgICAgICByZXR1cm4gY2hlY2s7XG4gICAgICB9O1xuXG4gICAgICAvLyBpZiBub3Qgc3VwcG9ydGVkLCBzaG93IG1lc2FnZVxuICAgICAgaWYgKCEoXCJOb3RpZmljYXRpb25cIiBpbiB3aW5kb3cpIHx8IG1vYmlsZUFuZFRhYmxldENoZWNrKCkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIGVsc2Uge1xuICAgICAgICBOb3RpZmljYXRpb24ucmVxdWVzdFBlcm1pc3Npb24oKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0Tm90aWZpY2F0aW9ucygpIHtcbiAgICAgIHZhciB0dXJ0bGVUaW1lcyA9IHVzZXJGYWN0b3J5LmdldFR1cnRsZVRpbWVzKCk7XG4gICAgICB2YXIgc291bmRFbmFibGVkID0gdXNlckZhY3RvcnkuZ2V0SHRtbE5vdGlmaWNhdGlvblNvdW5kU3RhdHVzKCk7XG5cbiAgICAgIHZhciBub3cgPSBtb21lbnQoKTtcbiAgICAgIHZhciBtaW51dGVzID0gdXNlckZhY3RvcnkuZ2V0VGltZUJlZm9yZU5vdGlmaWNhdGlvbigpO1xuICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgIGJvZHk6IG1pbnV0ZXMgKyAnIG1pbnV0ZXMgdGlsbCBUdXJ0bGUgVGltZSEnLFxuICAgICAgICBpY29uOiAnZmF2aWNvbi5pY28nXG4gICAgICB9O1xuICAgICAgdmFyIHRpbWVVbnRpbDtcbiAgICAgIHZhciBlbmQgPSBtb21lbnQoKS5hZGQoMywnZGF5cycpO1xuXG4gICAgICBmb3IgKHZhciBpPTA7IGk8dHVydGxlVGltZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKG5vdy5pc0FmdGVyKHR1cnRsZVRpbWVzW2ldKSB8fCB0dXJ0bGVUaW1lc1tpXS5pc0FmdGVyKGVuZCkpXG4gICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgdGltZVVudGlsID0gdHVydGxlVGltZXNbaV0uZm9ybWF0KCd4JykgLSBub3cuZm9ybWF0KCd4Jyk7XG4gICAgICAgIHRpbWVVbnRpbCAtPSAobWludXRlcyAqIDEwMDApO1xuICAgICAgICBpZiAodGltZVVudGlsIDwgMCB8fCBpc05hTih0aW1lVW50aWwpKVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBpZiAobm90aWZpY2F0aW9uc1tpXSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgIGNsZWFyVGltZW91dChub3RpZmljYXRpb25zW2ldKTtcblxuICAgICAgICBub3RpZmljYXRpb25zW2ldID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgaW5zdGFuY2UgPSBuZXcgTm90aWZpY2F0aW9uKFwiT1BUQyBUdXJ0bGUgVGltZVwiLCBvcHRpb25zKTtcbiAgICAgICAgICBpZiAoc291bmRFbmFibGVkKVxuICAgICAgICAgICAgc291bmQucGxheSgpO1xuICAgICAgICB9LCB0aW1lVW50aWwpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBsYXlFeGFtcGxlKCkge1xuICAgICAgdmFyIG1pbnV0ZXMgPSB1c2VyRmFjdG9yeS5nZXRUaW1lQmVmb3JlTm90aWZpY2F0aW9uKCk7XG4gICAgICB2YXIgc291bmRFbmFibGVkID0gdXNlckZhY3RvcnkuZ2V0SHRtbE5vdGlmaWNhdGlvblNvdW5kU3RhdHVzKCk7XG4gICAgICBcbiAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICBib2R5OiBtaW51dGVzICsgJyBtaW51dGVzIHRpbGwgVHVydGxlIFRpbWUhJyxcbiAgICAgICAgaWNvbjogJy4uL2ltYWdlcy9mbGFnLnBuZydcbiAgICAgIH07XG5cbiAgICAgIHZhciBpbnN0YW5jZSA9IG5ldyBOb3RpZmljYXRpb24oXCJPUFRDIFR1cnRsZSBUaW1lXCIsIG9wdGlvbnMpO1xuICAgICAgaWYgKHNvdW5kRW5hYmxlZClcbiAgICAgICAgc291bmQucGxheSgpO1xuICAgIH1cbiAgfVxuXG59KSgpOyIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuICAuZmFjdG9yeSgnbm90aWZpY2F0aW9uRmFjdG9yeScsIG5vdGlmaWNhdGlvbkZhY3RvcnkpO1xuXG4gIG5vdGlmaWNhdGlvbkZhY3RvcnkuJGluamVjdCA9IFsnJGh0dHAnLCAndXNlckZhY3RvcnknLCAnYXBpRmFjdG9yeSddO1xuXG4gIGZ1bmN0aW9uIG5vdGlmaWNhdGlvbkZhY3RvcnkoJGh0dHAsIHVzZXJGYWN0b3J5LCBhcGlGYWN0b3J5KSB7XG4gICAgdmFyIHNlcnZpY2VzID0ge1xuICAgICAgaXNFbmFibGVkOiBpc0VuYWJsZWQsXG4gICAgICBzdWJzY3JpYmU6IHN1YnNjcmliZSxcbiAgICAgIHVuc3Vic2NyaWJlOiB1bnN1YnNjcmliZSxcbiAgICAgIHBsYXlFeGFtcGxlOiBwbGF5RXhhbXBsZSxcbiAgICB9O1xuXG4gICAgdmFyIHJlZztcbiAgICB2YXIgc3ViO1xuXG5cbiAgICByZXR1cm4gc2VydmljZXM7XG5cbiAgICBmdW5jdGlvbiBpc0VuYWJsZWQoKSB7XG4gICAgICByZXR1cm4gJ3NlcnZpY2VXb3JrZXInIGluIG5hdmlnYXRvcjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhdHRhY2hXb3JrZXIoKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGlmIChpc0VuYWJsZWQoKSkge1xuICAgICAgICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyKCdzZXJ2aWNlLXdvcmtlci5qcycpICBcbiAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWFkeTtcbiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24pIHtcbiAgICAgICAgICAgIHJlZyA9IHNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb247XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnU2VydmljZSBXb3JrZXIgaXMgcmVhZHkuJyk7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnU2VydmljZSBXb3JrZXIgRXJyb3IuJyk7XG4gICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWplY3QoJ3NlcnZpY2Ugd29ya2VycyBub3Qgc3VwcG9ydGVkJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN1YnNjcmliZShjYikge1xuICAgICAgaWYgKCFpc0VuYWJsZWQoKSlcbiAgICAgICAgcmV0dXJuICdub3RpZmljYXRpb25zIG5vdCBlbmFibGVkJztcblxuICAgICAgaWYgKCFyZWcpIHtcbiAgICAgICAgYXR0YWNoV29ya2VyKCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICBhdXgoKTtcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhdXgoKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gYXV4KCkge1xuICAgICAgICByZWcucHVzaE1hbmFnZXIuZ2V0U3Vic2NyaXB0aW9uKCkudGhlbihmdW5jdGlvbihwdXNoU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgaWYgKHB1c2hTdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIHN1YiA9IHB1c2hTdWJzY3JpcHRpb247XG4gICAgICAgICAgICBzZW5kU3Vic2NyaXB0aW9uVG9TZXJ2ZXIoKTtcbiAgICAgICAgICAgIHJldHVybiBjYihudWxsKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZWcucHVzaE1hbmFnZXIuc3Vic2NyaWJlKHt1c2VyVmlzaWJsZU9ubHk6IHRydWV9KVxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHB1c2hTdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIHN1YiA9IHB1c2hTdWJzY3JpcHRpb247XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZW5kcG9pbnQgPScsIHN1Yi5lbmRwb2ludCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnU3Vic2NyaWJlZC4nKTtcbiAgICAgICAgICAgIHNlbmRTdWJzY3JpcHRpb25Ub1NlcnZlcigpO1xuICAgICAgICAgICAgY2IobnVsbCk7XG4gICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnVW5hYmxlIHRvIHN1YnNjcmliZS4nKTtcbiAgICAgICAgICAgIGNiKGVycik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVuc3Vic2NyaWJlKGNiKSB7XG4gICAgICBpZiAoIWlzRW5hYmxlZCgpKVxuICAgICAgICByZXR1cm4gJ25vdGlmaWNhdGlvbnMgbm90IGVuYWJsZWQnO1xuICAgICAgc3ViLnVuc3Vic2NyaWJlKCkudGhlbihmdW5jdGlvbihldmVudCkge1xuICAgICAgICBjb25zb2xlLmxvZygnVW5zdWJzY3JpYmVkLicsIGV2ZW50KTtcbiAgICAgICAgY2IobnVsbCk7XG4gICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yIHVuc3Vic2NyaWJpbmcuJyk7XG4gICAgICAgIGNiKGVycik7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZW5kU3Vic2NyaXB0aW9uVG9TZXJ2ZXIoKSB7XG4gICAgICB2YXIgZW5kcG9pbnQgPSBzdWIuZW5kcG9pbnQ7XG5cbiAgICAgIGlmIChlbmRwb2ludC5tYXRjaCgvXmh0dHBzOlxcL1xcL2FuZHJvaWRcXC5nb29nbGVhcGlzXFwuY29tXFwvZ2NtXFwvc2VuZC8pKSB7XG4gICAgICAgIHZhciByZWdpc3RyYXRpb25JZCA9IGVuZHBvaW50Lm1hdGNoKC8oPzouKj8pc2VuZFxcLyguKikkLylbMV07XG4gICAgICAgIGVuZHBvaW50ID0gJ2h0dHBzOi8vYW5kcm9pZC5nb29nbGVhcGlzLmNvbS9nY20vc2VuZCc7XG4gICAgICAgIHVzZXJGYWN0b3J5LnNldFJlZ2lzdHJhdGlvbklkKHJlZ2lzdHJhdGlvbklkKTtcbiAgICAgIH1cblxuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gcGxheUV4YW1wbGUoKSB7XG4gICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgcmVnaXN0cmF0aW9uSWRzOiBbdXNlckZhY3RvcnkuZ2V0UmVnaXN0cmF0aW9uSWQoKV0sXG4gICAgICB9O1xuXG4gICAgICBjb25zb2xlLmxvZygnZGF0YSA9JywgZGF0YSk7XG5cbiAgICAgICRodHRwLnBvc3QoYXBpRmFjdG9yeS5nZXRCYXNlVXJsKCkgKyAnL2FwaS9nY20nLCBkYXRhKVxuICAgICAgLnRoZW4oZnVuY3Rpb24gc3VjY2VzcygpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ3NlbnQgdG8gc2VydmVyJyk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uIGVycm9yKCkge1xuICAgICAgICBjb25zb2xlLmxvZygnZXJyb3IgcG9zdGluZyB0byBzZXJ2ZXInKTtcbiAgICAgIH0pO1xuICAgIH1cbn1cblxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyLm1vZHVsZSgnYXBwJylcbiAgLmZhY3RvcnkoJ3RpbWVGYWN0b3J5JywgdGltZUZhY3RvcnkpO1xuXG4gIHRpbWVGYWN0b3J5LiRpbmplY3QgPSBbJyRodHRwJywgJ3VzZXJGYWN0b3J5JywgJ2FwaUZhY3RvcnknXTtcblxuICBmdW5jdGlvbiB0aW1lRmFjdG9yeSgkaHR0cCwgdXNlckZhY3RvcnksIGFwaUZhY3RvcnkpIHtcbiAgICB2YXIgc2VydmljZXMgPSB7XG4gICAgICBnZXRUdXJ0bGVUaW1lczogZ2V0VHVydGxlVGltZXMsXG4gICAgfTtcblxuICAgIHJldHVybiBzZXJ2aWNlcztcblxuICAgIGZ1bmN0aW9uIGdldFR1cnRsZVRpbWVzKGNiKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICBkaWdpdDogdXNlckZhY3RvcnkuZ2V0RGlnaXQoKSxcbiAgICAgICAgICB0aW1lRm9ybWF0OiB1c2VyRmFjdG9yeS5nZXRUaW1lRm9ybWF0KCksXG4gICAgICAgICAgdmVyc2lvbjogdXNlckZhY3RvcnkuZ2V0VmVyc2lvbigpLFxuICAgICAgICAgIG51bU9mRGF5czogMyxcbiAgICAgICAgfSxcbiAgICAgIH1cblxuICAgICAgJGh0dHAuZ2V0KGFwaUZhY3RvcnkuZ2V0QmFzZVVybCgpICsgJy9hcGkvdHVydGxlJywgcGFyYW1zKVxuICAgICAgLnRoZW4oZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xuICAgICAgICB1c2VyRmFjdG9yeS5zZXRUdXJ0bGVUaW1lcyhyZXNwb25zZS5kYXRhLm1hcChmdW5jdGlvbih0aW1lKSB7XG4gICAgICAgICAgcmV0dXJuIG1vbWVudC51dGModGltZSk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgdmFyIHR1cnRsZVRpbWVzID0gZ2V0Rm9ybWF0dGVkVGltZXMocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgIGNiKG51bGwsIHR1cnRsZVRpbWVzKTtcbiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIGVycm9yKGVycikge1xuICAgICAgICBjYihlcnIpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0Rm9ybWF0dGVkVGltZXModHVydGxlVGltZXMpIHtcbiAgICAgIHZhciB0aW1lRm9ybWF0ID0gdXNlckZhY3RvcnkuZ2V0VGltZUZvcm1hdCgpO1xuXG4gICAgICByZXR1cm4gdHVydGxlVGltZXMubWFwKGZ1bmN0aW9uKHRpbWVTdHIpIHtcbiAgICAgICAgdmFyIHRpbWUsIGRhdGU7XG4gICAgICAgIHZhciB0dXJ0bGVUaW1lID0gbW9tZW50LnV0Yyh0aW1lU3RyKTtcblxuICAgICAgICBpZiAodGltZUZvcm1hdCA9PT0gJ3N0YW5kYXJkJylcbiAgICAgICAgICB0aW1lID0gdHVydGxlVGltZS5sb2NhbCgpLmZvcm1hdCgnaDptbSBhJyk7XG4gICAgICAgIGVsc2UgaWYgKHRpbWVGb3JtYXQgPT09ICdtaWxpdGFyeScpXG4gICAgICAgICAgdGltZSA9IHR1cnRsZVRpbWUubG9jYWwoKS5mb3JtYXQoJ0hIOm1tJyk7XG5cbiAgICAgICAgZGF0ZSA9IHR1cnRsZVRpbWUubG9jYWwoKS5mb3JtYXQoJ0xMJyk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0aW1lOiB0aW1lLFxuICAgICAgICAgIGRhdGU6IGRhdGUsXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG59KSgpOyIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuICAuY29udHJvbGxlcignVHVydGxlQ3RybCcsIHR1cnRsZUN0cmwpO1xuXG4gIHR1cnRsZUN0cmwuJGluamVjdCA9IFsnJHNjb3BlJywgJ3VzZXJGYWN0b3J5JywgJ3RpbWVGYWN0b3J5JywgJ25vdGlmaWNhdGlvbkZhY3RvcnknLCAnaHRtbE5vdGlmaWNhdGlvbkZhY3RvcnknLCAnY2FsZW5kYXJGYWN0b3J5JywgJ25hdmJhckZhY3RvcnknXTtcbiAgXG4gIGZ1bmN0aW9uIHR1cnRsZUN0cmwoJHNjb3BlLCB1c2VyRmFjdG9yeSwgdGltZUZhY3RvcnksIG5vdGlmaWNhdGlvbkZhY3RvcnksIGh0bWxOb3RpZmljYXRpb25GYWN0b3J5LCBjYWxlbmRhckZhY3RvcnksIG5hdmJhckZhY3RvcnkpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICBzZXRQYXJhbXMoKTtcblxuICAgIGZ1bmN0aW9uIHNldFBhcmFtcygpIHtcbiAgICAgIG5hdmJhckZhY3Rvcnkuc2V0U2VvKCdUdXJ0bGUgVGltZSBDYWxjdWxhdG9yJywgJ0RldGVybWluZSB5b3VyIHVwY29taW5nIHR1cnRsZSB0aW1lIG9uIHRoaXMgYXV0b21hdGljYWxseS11cGRhdGluZyBjYWxjdWxhdG9yIGFuZCBhbmQgcmVjZWl2ZSBhIHB1c2ggbm90aWZpY2F0aW9uIG9uIEFuZHJvaWQgb3IgZGVza3RvcCBicm93c2VyLicpO1xuICAgICAgc2VsZi50aW1lem9uZSA9IHVzZXJGYWN0b3J5LmdldFRpbWVab25lKCk7XG4gICAgICBzZWxmLmRpZ2l0ID0gdXNlckZhY3RvcnkuZ2V0RGlnaXQoKTtcbiAgICAgIHNlbGYudmVyc2lvbiA9IHVzZXJGYWN0b3J5LmdldFZlcnNpb24oKTtcbiAgICAgIHNlbGYudHVydGxlVGltZXMgPSBbXTtcbiAgICAgIHNlbGYubm90aWZpY2F0aW9uU3RhdHVzID0gdHJ1ZTtcbiAgICAgIHNlbGYuaHRtbE5vdGlmaWNhdGlvblN0YXR1cyA9IHVzZXJGYWN0b3J5LmdldEh0bWxOb3RpZmljYXRpb25TdGF0dXMoKTtcbiAgICAgIHNlbGYubm90aWZpY2F0aW9uRW5hYmxlZCA9IG5vdGlmaWNhdGlvbkZhY3RvcnkuaXNFbmFibGVkKCk7XG4gICAgICBzZWxmLmh0bWxOb3RpZmljYXRpb25FbmFibGVkID0gaHRtbE5vdGlmaWNhdGlvbkZhY3RvcnkuaXNFbmFibGVkKCk7XG4gICAgICBnZXRUdXJ0bGVUaW1lcygpO1xuICAgICAgdG9nZ2xlTm90aWZpY2F0aW9uKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9nZ2xlTm90aWZpY2F0aW9uKCkge1xuICAgICAgaWYgKHNlbGYubm90aWZpY2F0aW9uU3RhdHVzKSB7XG4gICAgICAgIG5vdGlmaWNhdGlvbkZhY3Rvcnkuc3Vic2NyaWJlKGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIHNlbGYubm90aWZpY2F0aW9uU3RhdHVzID0gZmFsc2U7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnNvbGUubG9nKCdzdWJzY3JpYmVkJyk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbm90aWZpY2F0aW9uRmFjdG9yeS51bnN1YnNjcmliZShmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgc2VsZi5ub3RpZmljYXRpb25TdGF0dXMgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnNvbGUubG9nKCd1bnN1YnNjcmliZWQnKTtcbiAgICAgICAgfSlcbiAgICAgIH0gICAgICBcbiAgICB9XG5cbiAgICBzZWxmLnRvZ2dsZU5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgdG9nZ2xlTm90aWZpY2F0aW9uKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0VHVydGxlVGltZXMoKSB7XG4gICAgICB0aW1lRmFjdG9yeS5nZXRUdXJ0bGVUaW1lcyhmdW5jdGlvbihlcnIsIHR1cnRsZVRpbWVzKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygndW5hYmxlIHRvIHJldHJpZXZlIHRpbWVzJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZi50dXJ0bGVUaW1lcyA9IHR1cnRsZVRpbWVzO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2VsZi51cGRhdGVEaWdpdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdXNlckZhY3Rvcnkuc2V0RGlnaXQoc2VsZi5kaWdpdCk7XG4gICAgICBnZXRUdXJ0bGVUaW1lcygpO1xuICAgIH07XG5cbiAgICBzZWxmLnVwZGF0ZVZlcnNpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgIHVzZXJGYWN0b3J5LnNldFZlcnNpb24oc2VsZi52ZXJzaW9uKTtcbiAgICAgIGdldFR1cnRsZVRpbWVzKCk7XG4gICAgfTtcblxuICAgIHNlbGYudXBkYXRlSHRtbE5vdGlmaWNhdGlvblN0YXR1cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgdXNlckZhY3Rvcnkuc2V0SHRtbE5vdGlmaWNhdGlvblN0YXR1cyhzZWxmLmh0bWxOb3RpZmljYXRpb25TdGF0dXMpO1xuICAgICAgaHRtbE5vdGlmaWNhdGlvbkZhY3Rvcnkuc2V0Tm90aWZpY2F0aW9ucygpO1xuICAgIH1cblxuICAgIHNlbGYucGxheUV4YW1wbGVOb3RpZmljYXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgIG5vdGlmaWNhdGlvbkZhY3RvcnkucGxheUV4YW1wbGUoKTtcbiAgICB9XG5cbiAgICBzZWxmLnBsYXlFeGFtcGxlSHRtbE5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgaHRtbE5vdGlmaWNhdGlvbkZhY3RvcnkucGxheUV4YW1wbGUoKTtcbiAgICB9XG5cbiAgICBzZWxmLmdldENhbGVuZGFyID0gZnVuY3Rpb24oKSB7XG4gICAgICBjYWxlbmRhckZhY3RvcnkuZ2V0Q2FsZW5kYXIoKTtcbiAgICB9XG4gIH1cblxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyLm1vZHVsZSgnYXBwJylcbiAgLmZhY3RvcnkoJ3VzZXJGYWN0b3J5JywgdXNlckZhY3RvcnkpO1xuXG4gIHVzZXJGYWN0b3J5LiRpbmplY3QgPSBbJ2xvY2FsU3RvcmFnZVNlcnZpY2UnLCAnJGh0dHAnLCAnYXBpRmFjdG9yeScsICckdHJhbnNsYXRlJ107XG5cbiAgZnVuY3Rpb24gdXNlckZhY3RvcnkobG9jYWxTdG9yYWdlU2VydmljZSwgJGh0dHAsIGFwaUZhY3RvcnksICR0cmFuc2xhdGUpIHtcbiAgICB2YXIgc2VydmljZXMgPSB7XG4gICAgICBnZXRUaW1lWm9uZTogZ2V0VGltZVpvbmUsXG4gICAgICBnZXREaWdpdDogZ2V0RGlnaXQsXG4gICAgICBzZXREaWdpdDogc2V0RGlnaXQsXG4gICAgICBnZXRUaW1lRm9ybWF0OiBnZXRUaW1lRm9ybWF0LFxuICAgICAgc2V0VGltZUZvcm1hdDogc2V0VGltZUZvcm1hdCxcbiAgICAgIGdldFZlcnNpb246IGdldFZlcnNpb24sXG4gICAgICBzZXRWZXJzaW9uOiBzZXRWZXJzaW9uLFxuICAgICAgZ2V0SHRtbE5vdGlmaWNhdGlvblN0YXR1czogZ2V0SHRtbE5vdGlmaWNhdGlvblN0YXR1cyxcbiAgICAgIHNldEh0bWxOb3RpZmljYXRpb25TdGF0dXM6IHNldEh0bWxOb3RpZmljYXRpb25TdGF0dXMsXG4gICAgICBnZXRIdG1sTm90aWZpY2F0aW9uU291bmRTdGF0dXM6IGdldEh0bWxOb3RpZmljYXRpb25Tb3VuZFN0YXR1cyxcbiAgICAgIHNldEh0bWxOb3RpZmljYXRpb25Tb3VuZFN0YXR1czogc2V0SHRtbE5vdGlmaWNhdGlvblNvdW5kU3RhdHVzLFxuICAgICAgZ2V0VHVydGxlVGltZXM6IGdldFR1cnRsZVRpbWVzLFxuICAgICAgc2V0VHVydGxlVGltZXM6IHNldFR1cnRsZVRpbWVzLFxuICAgICAgZ2V0VGltZUJlZm9yZU5vdGlmaWNhdGlvbjogZ2V0VGltZUJlZm9yZU5vdGlmaWNhdGlvbixcbiAgICAgIHNldFRpbWVCZWZvcmVOb3RpZmljYXRpb246IHNldFRpbWVCZWZvcmVOb3RpZmljYXRpb24sXG4gICAgICBnZXRSZWdpc3RyYXRpb25JZDogZ2V0UmVnaXN0cmF0aW9uSWQsXG4gICAgICBzZXRSZWdpc3RyYXRpb25JZDogc2V0UmVnaXN0cmF0aW9uSWQsXG4gICAgICBnZXREZXRhaWxlZEhvdXJTdGF0dXM6IGdldERldGFpbGVkSG91clN0YXR1cyxcbiAgICAgIHNldERldGFpbGVkSG91clN0YXR1czogc2V0RGV0YWlsZWRIb3VyU3RhdHVzLFxuICAgICAgZ2V0TG9jYWxlOiBnZXRMb2NhbGUsXG4gICAgICBzZXRMb2NhbGU6IHNldExvY2FsZSxcbiAgICAgIGdldFBhc3N3b3JkOiBnZXRQYXNzd29yZCxcbiAgICAgIHNldFBhc3N3b3JkOiBzZXRQYXNzd29yZCxcbiAgICB9O1xuXG4gICAgdmFyIGRpZ2l0O1xuICAgIHZhciB0aW1lRm9ybWF0O1xuICAgIHZhciB2ZXJzaW9uO1xuICAgIHZhciBodG1sTm90aWZpY2F0aW9uU3RhdHVzO1xuICAgIHZhciBodG1sTm90aWZpY2F0aW9uU291bmRTdGF0dXM7XG4gICAgdmFyIHR1cnRsZVRpbWVzO1xuICAgIHZhciB0aW1lQmVmb3JlTm90aWZpY2F0aW9uO1xuICAgIHZhciByZWdpc3RyYXRpb25JZDtcbiAgICB2YXIgZGV0YWlsZWRIb3VyU3RhdHVzO1xuICAgIHZhciBsb2NhbGU7XG4gICAgdmFyIHBhc3N3b3JkO1xuICAgIGxvYWRGcm9tU3RvcmFnZSgpO1xuXG4gICAgcmV0dXJuIHNlcnZpY2VzO1xuXG4gICAgZnVuY3Rpb24gbG9hZEZyb21TdG9yYWdlKCkge1xuICAgICAgZGlnaXQgPSBsb2NhbFN0b3JhZ2VTZXJ2aWNlLmdldCgnZGlnaXQnKSB8fCAwO1xuICAgICAgdGltZUZvcm1hdCA9IGxvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KCd0aW1lRm9ybWF0JykgfHwgJ3N0YW5kYXJkJztcbiAgICAgIHZlcnNpb24gPSBsb2NhbFN0b3JhZ2VTZXJ2aWNlLmdldCgndmVyc2lvbicpIHx8ICdnbG9iYWwnO1xuICAgICAgaHRtbE5vdGlmaWNhdGlvblN0YXR1cyA9IGxvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KCdodG1sTm90aWZpY2F0aW9uU3RhdHVzJykgfHwgZmFsc2U7XG4gICAgICBodG1sTm90aWZpY2F0aW9uU291bmRTdGF0dXMgPSBsb2NhbFN0b3JhZ2VTZXJ2aWNlLmdldCgnaHRtbE5vdGlmaWNhdGlvblNvdW5kU3RhdHVzJykgfHwgZmFsc2U7XG4gICAgICB0aW1lQmVmb3JlTm90aWZpY2F0aW9uID0gbG9jYWxTdG9yYWdlU2VydmljZS5nZXQoJ3RpbWVCZWZvcmVOb3RpZmljYXRpb24nKSB8fCAxMDtcbiAgICAgIGRldGFpbGVkSG91clN0YXR1cyA9IGxvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KCdkZXRhaWxlZEhvdXJTdGF0dXMnKSB8fCBmYWxzZTtcbiAgICAgIGxvY2FsZSA9IGxvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KCdsb2NhbGUnKSB8fCAnZW4nO1xuICAgICAgJHRyYW5zbGF0ZS51c2UobG9jYWxlKTtcbiAgICAgIG1vbWVudC5sb2NhbGUobG9jYWxlKTtcbiAgICAgIHBhc3N3b3JkID0gbG9jYWxTdG9yYWdlU2VydmljZS5nZXQoJ3Bhc3N3b3JkJykgfHwgJyc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcG9zdFVzZXJEYXRhKCkge1xuICAgICAgdmFyIGRhdGEgPSB7XG4gICAgICAgIGRpZ2l0OiBkaWdpdCU1LFxuICAgICAgICByZWdpc3RyYXRpb25JZDogcmVnaXN0cmF0aW9uSWQsXG4gICAgICAgIHRpbWVCZWZvcmU6IHRpbWVCZWZvcmVOb3RpZmljYXRpb24sXG4gICAgICB9O1xuXG4gICAgICAkaHR0cC5wb3N0KGFwaUZhY3RvcnkuZ2V0QmFzZVVybCgpICsgJy9hcGkvdXNlcnMnLCBkYXRhKVxuICAgICAgLnRoZW4oZnVuY3Rpb24gc3VjY2VzcygpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ3Bvc3RlZCBzdWJzY3JpcHRpb24gdG8gc2VydmVyJyk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uIGVycm9yKCkge1xuICAgICAgICBjb25zb2xlLmxvZygnZXJyb3IgcG9zdGluZyBzdWJzY3JpcHRpb24gdG8gc2VydmVyJyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRUaW1lWm9uZSgpIHtcbiAgICAgIHJldHVybiBqc3R6LmRldGVybWluZSgpLm5hbWUoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXREaWdpdCgpIHtcbiAgICAgIHJldHVybiBkaWdpdDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXREaWdpdChkKSB7XG4gICAgICBkaWdpdCA9IGQgJSA1O1xuICAgICAgbG9jYWxTdG9yYWdlU2VydmljZS5zZXQoJ2RpZ2l0JywgZCk7XG4gICAgICBwb3N0VXNlckRhdGEoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRUaW1lRm9ybWF0KCkge1xuICAgICAgcmV0dXJuIHRpbWVGb3JtYXQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0VGltZUZvcm1hdCh0Zikge1xuICAgICAgdGltZUZvcm1hdCA9IHRmO1xuICAgICAgbG9jYWxTdG9yYWdlU2VydmljZS5zZXQoJ3RpbWVGb3JtYXQnLCB0Zik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0VmVyc2lvbigpIHtcbiAgICAgIHJldHVybiB2ZXJzaW9uO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldFZlcnNpb24odikge1xuICAgICAgdmVyc2lvbiA9IHY7XG4gICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnNldCgndmVyc2lvbicsIHYpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldEh0bWxOb3RpZmljYXRpb25TdGF0dXMoKSB7XG4gICAgICByZXR1cm4gaHRtbE5vdGlmaWNhdGlvblN0YXR1cztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRIdG1sTm90aWZpY2F0aW9uU3RhdHVzKGgpIHtcbiAgICAgIGh0bWxOb3RpZmljYXRpb25TdGF0dXMgPSBoO1xuICAgICAgbG9jYWxTdG9yYWdlU2VydmljZS5zZXQoJ2h0bWxOb3RpZmljYXRpb25TdGF0dXMnLCBoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRUdXJ0bGVUaW1lcygpIHtcbiAgICAgIHJldHVybiB0dXJ0bGVUaW1lcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRUdXJ0bGVUaW1lcyh0dCkge1xuICAgICAgdHVydGxlVGltZXMgPSB0dDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRIdG1sTm90aWZpY2F0aW9uU291bmRTdGF0dXMoKSB7XG4gICAgICByZXR1cm4gaHRtbE5vdGlmaWNhdGlvblNvdW5kU3RhdHVzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldEh0bWxOb3RpZmljYXRpb25Tb3VuZFN0YXR1cyhzKSB7XG4gICAgICBodG1sTm90aWZpY2F0aW9uU291bmRTdGF0dXMgPSBzO1xuICAgICAgbG9jYWxTdG9yYWdlU2VydmljZS5zZXQoJ2h0bWxOb3RpZmljYXRpb25Tb3VuZFN0YXR1cycsIHMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFRpbWVCZWZvcmVOb3RpZmljYXRpb24oKSB7XG4gICAgICByZXR1cm4gdGltZUJlZm9yZU5vdGlmaWNhdGlvbjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRUaW1lQmVmb3JlTm90aWZpY2F0aW9uKHQpIHtcbiAgICAgIHRpbWVCZWZvcmVOb3RpZmljYXRpb24gPSB0O1xuICAgICAgbG9jYWxTdG9yYWdlU2VydmljZS5zZXQoJ3RpbWVCZWZvcmVOb3RpZmljYXRpb24nLCB0KTtcbiAgICAgIHBvc3RVc2VyRGF0YSgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFJlZ2lzdHJhdGlvbklkKCkge1xuICAgICAgcmV0dXJuIHJlZ2lzdHJhdGlvbklkO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldFJlZ2lzdHJhdGlvbklkKHIpIHtcbiAgICAgIHJlZ2lzdHJhdGlvbklkID0gcjtcbiAgICAgIHBvc3RVc2VyRGF0YSgpOyBcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXREZXRhaWxlZEhvdXJTdGF0dXMoKSB7XG4gICAgICByZXR1cm4gZGV0YWlsZWRIb3VyU3RhdHVzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldERldGFpbGVkSG91clN0YXR1cyhkKSB7XG4gICAgICBkZXRhaWxlZEhvdXJTdGF0dXMgPSBkO1xuICAgICAgbG9jYWxTdG9yYWdlU2VydmljZS5zZXQoJ2RldGFpbGVkSG91clN0YXR1cycsIGQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldExvY2FsZSgpIHtcbiAgICAgIHJldHVybiBsb2NhbGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0TG9jYWxlKGwpIHtcbiAgICAgIGxvY2FsZSA9IGw7XG4gICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnNldCgnbG9jYWxlJywgbCk7XG4gICAgICAkdHJhbnNsYXRlLnVzZShsKTtcbiAgICAgIG1vbWVudC5sb2NhbGUobG9jYWxlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRQYXNzd29yZCgpIHtcbiAgICAgIHJldHVybiBwYXNzd29yZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRQYXNzd29yZChwKSB7XG4gICAgICBwYXNzd29yZCA9IHA7XG4gICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnNldCgncGFzc3dvcmQnLCBwKTtcbiAgICB9XG4gIH1cblxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyLm1vZHVsZSgnYXBwJylcbiAgLmNvbnRyb2xsZXIoJ05hdmJhckN0cmwnLCBuYXZiYXJDdHJsKTtcblxuICBuYXZiYXJDdHJsLiRpbmplY3QgPSBbJyRzdGF0ZScsICckbWRTaWRlbmF2JywgJyR0cmFuc2xhdGUnLCAnJHNjb3BlJywgJ3VzZXJGYWN0b3J5JywgJ25hdmJhckZhY3RvcnknXTtcblxuICBmdW5jdGlvbiBuYXZiYXJDdHJsKCRzdGF0ZSwgJG1kU2lkZW5hdiwgJHRyYW5zbGF0ZSwgJHNjb3BlLCB1c2VyRmFjdG9yeSwgbmF2YmFyRmFjdG9yeSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBzZWxmLnNlbyA9IG5hdmJhckZhY3RvcnkuZ2V0U2VvKCk7XG5cbiAgICBhY3RpdmF0ZSgpO1xuXG4gICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG4gICAgICBzZWxmLm1lbnUgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICBsaW5rOiAndHVydGxlJyxcbiAgICAgICAgICB0aXRsZTogJHRyYW5zbGF0ZS5pbnN0YW50KCdOQVZfVFVSVExFJyksXG4gICAgICAgICAgaWNvbjogJ2ZhLWhvbWUnXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBsaW5rOiAnYmFycmVsJyxcbiAgICAgICAgICB0aXRsZTogJHRyYW5zbGF0ZS5pbnN0YW50KCdOQVZfQkFSUkVMJyksXG4gICAgICAgICAgaWNvbjogJ2ZhLXVzZXJzJ1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgbGluazogJ2V2ZW50cycsXG4gICAgICAgICAgdGl0bGU6ICR0cmFuc2xhdGUuaW5zdGFudCgnTkFWX0VWRU5UJyksXG4gICAgICAgICAgaWNvbjogJ2ZhLWNhbGVuZGFyLW8nXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBsaW5rOiAnY29udGFjdCcsXG4gICAgICAgICAgdGl0bGU6ICR0cmFuc2xhdGUuaW5zdGFudCgnTkFWX0NPTlRBQ1QnKSxcbiAgICAgICAgICBpY29uOiAnZmEtZW52ZWxvcGUnXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBsaW5rOiAnc2V0dGluZ3MnLFxuICAgICAgICAgIHRpdGxlOiAkdHJhbnNsYXRlLmluc3RhbnQoJ05BVl9TRVRUSU5HUycpLFxuICAgICAgICAgIGljb246ICdmYS1jb2dzJ1xuICAgICAgICB9XG4gICAgICBdO1xuICAgIH1cblxuICAgIHNlbGYuaXNTZWxlY3RlZCA9IGZ1bmN0aW9uKHRpdGxlKSB7XG4gICAgICBpZiAoISRzdGF0ZS5jdXJyZW50Lmhhc093blByb3BlcnR5KCdkYXRhJykpXG4gICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgc2VsZi50aXRsZSA9ICR0cmFuc2xhdGUuaW5zdGFudCgkc3RhdGUuY3VycmVudC5kYXRhLnRpdGxlKTtcbiAgICAgIHJldHVybiAodGl0bGUgPT09IHNlbGYudGl0bGUpO1xuICAgIH07XG5cbiAgICBzZWxmLnRvZ2dsZVNpZGVuYXYgPSBmdW5jdGlvbigpIHtcbiAgICAgICRtZFNpZGVuYXYoJ2xlZnQnKS50b2dnbGUoKTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLiR3YXRjaChmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB1c2VyRmFjdG9yeS5nZXRMb2NhbGUoKTtcbiAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgIGFjdGl2YXRlKCk7XG4gICAgfSk7XG5cbiAgfVxuXG59KSgpOyIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuICAuZmFjdG9yeSgnbmF2YmFyRmFjdG9yeScsIG5hdmJhckZhY3RvcnkpO1xuXG4gIG5hdmJhckZhY3RvcnkuJGluamVjdCA9IFtdO1xuXG4gIGZ1bmN0aW9uIG5hdmJhckZhY3RvcnkoKSB7XG4gICAgdmFyIHNlcnZpY2VzID0ge1xuICAgICAgZ2V0U2VvOiBnZXRTZW8sXG4gICAgICBzZXRTZW86IHNldFNlbyxcbiAgICB9O1xuXG4gICAgdmFyIHNlbyA9IHtcbiAgICAgIHBhZ2VUaXRsZTogJ0hvbWUnLFxuICAgICAgZGVzY3JpcHRpb246ICdTdXBwbGVtZW50IGFwcCBmb3IgT25lIFBpZWNlIFRyZWFzdXJlIENydWlzZSB0byBoZWxwIGNhbGN1bGF0ZSB5b3VyIHR1cnRsZSB0aW1lcyBhbmQgc2V0IG5vdGlmaWNhdGlvbnMuJyxcbiAgICB9O1xuXG5cbiAgICByZXR1cm4gc2VydmljZXM7XG5cbiAgICBmdW5jdGlvbiBnZXRTZW8oKSB7XG4gICAgICByZXR1cm4gc2VvO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldFNlbyh0aXRsZSwgZGVzY3JpcHRpb24pIHtcbiAgICAgIHNlby5wYWdlVGl0bGUgPSB0aXRsZTtcbiAgICAgIHNlby5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuXG4gICAgICByZXR1cm4gc2VvO1xuICAgIH1cbiAgfVxuXG59KSgpOyIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuICAuY29udHJvbGxlcignU2V0dGluZ3NDdHJsJywgc2V0dGluZ3NDdHJsKTtcblxuICBzZXR0aW5nc0N0cmwuJGluamVjdCA9IFsndXNlckZhY3RvcnknLCAnbmF2YmFyRmFjdG9yeSddO1xuXG4gIGZ1bmN0aW9uIHNldHRpbmdzQ3RybCh1c2VyRmFjdG9yeSwgbmF2YmFyRmFjdG9yeSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHNlbGYubGFuZ3VhZ2VzID0gW1xuICAgICAge1xuICAgICAgICBsYW5ndWFnZTogJ0VuZ2xpc2gnLFxuICAgICAgICBhYmJyZXY6ICdlbicsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBsYW5ndWFnZTogJ0RldXRzY2gnLFxuICAgICAgICBhYmJyZXY6ICdkZScsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBsYW5ndWFnZTogJ0VzcGHDsW9sJyxcbiAgICAgICAgYWJicmV2OiAnZXMnLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbGFuZ3VhZ2U6ICdmcmFuw6dhaXMnLFxuICAgICAgICBhYmJyZXY6ICdmcicsXG4gICAgICB9LFxuICAgIF07XG5cbiAgICBuYXZiYXJGYWN0b3J5LnNldFNlbygnU2V0dGluZ3MnLCAnQWRqdXN0IHlvdXIgbGFuZ3VhZ2UgYW5kIGN1c3RvbWl6ZSB5b3VyIG5vdGlmaWNhdGlvbiBzZXR0aW5ncy4nKTtcbiAgICBzZWxmLnRpbWVGb3JtYXQgPSB1c2VyRmFjdG9yeS5nZXRUaW1lRm9ybWF0KCk7XG4gICAgc2VsZi5odG1sTm90aWZpY2F0aW9uU291bmRTdGF0dXMgPSB1c2VyRmFjdG9yeS5nZXRIdG1sTm90aWZpY2F0aW9uU291bmRTdGF0dXMoKTtcbiAgICBzZWxmLnRpbWVCZWZvcmVOb3RpZmljYXRpb24gPSB1c2VyRmFjdG9yeS5nZXRUaW1lQmVmb3JlTm90aWZpY2F0aW9uKCk7XG4gICAgc2VsZi5sb2NhbGUgPSB1c2VyRmFjdG9yeS5nZXRMb2NhbGUoKTtcblxuICAgIHNlbGYuc2V0VGltZUZvcm1hdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdXNlckZhY3Rvcnkuc2V0VGltZUZvcm1hdChzZWxmLnRpbWVGb3JtYXQpO1xuICAgIH07XG5cbiAgICBzZWxmLnNldEh0bWxOb3RpZmljYXRpb25Tb3VuZFN0YXR1cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgdXNlckZhY3Rvcnkuc2V0SHRtbE5vdGlmaWNhdGlvblNvdW5kU3RhdHVzKHNlbGYuaHRtbE5vdGlmaWNhdGlvblNvdW5kU3RhdHVzKTtcbiAgICB9XG5cbiAgICBzZWxmLnVwZGF0ZVRpbWVCZWZlcmVOb3RpZmljYXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgIHVzZXJGYWN0b3J5LnNldFRpbWVCZWZvcmVOb3RpZmljYXRpb24oc2VsZi50aW1lQmVmb3JlTm90aWZpY2F0aW9uKTtcbiAgICB9XG5cbiAgICBzZWxmLnVwZGF0ZUxvY2FsZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgdXNlckZhY3Rvcnkuc2V0TG9jYWxlKHNlbGYubG9jYWxlKTtcbiAgICB9XG5cbiAgfVxuXG59KSgpOyIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG5cbiAgYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4gIC5jb25maWcoY29uZmlnKTtcblxuICBjb25maWcuJGluamVjdCA9IFsnJHN0YXRlUHJvdmlkZXInLCAnJHVybFJvdXRlclByb3ZpZGVyJywgJyRsb2NhdGlvblByb3ZpZGVyJ107XG5cbiAgZnVuY3Rpb24gY29uZmlnKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XG4gICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnL3R1cnRsZScpO1xuXG4gICAgJHN0YXRlUHJvdmlkZXJcbiAgICAgIC5zdGF0ZSgndHVydGxlJywge1xuICAgICAgICB1cmw6ICcvdHVydGxlJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd0dXJ0bGUvdHVydGxlLmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnVHVydGxlQ3RybCcsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3R1cnRsZScsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB0aXRsZTogJ05BVl9UVVJUTEUnXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuc3RhdGUoJ2JhcnJlbCcsIHtcbiAgICAgICAgdXJsOiAnL2JhcnJlbCcsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnYmFycmVsL2JhcnJlbC5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogJ0JhcnJlbEN0cmwnLFxuICAgICAgICBjb250cm9sbGVyQXM6ICdiYXJyZWwnLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdGl0bGU6ICdOQVZfQkFSUkVMJ1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLnN0YXRlKCdldmVudHMnLCB7XG4gICAgICAgIHVybDogJy9ldmVudHMnLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ2V2ZW50cy9ldmVudHMuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdFdmVudHNDdHJsJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAnZXZlbnRzJyxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHRpdGxlOiAnTkFWX0VWRU5UJ1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLnN0YXRlKCdjb250YWN0Jywge1xuICAgICAgICB1cmw6ICcvY29udGFjdCcsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnY29udGFjdC9jb250YWN0Lmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnQ29udGFjdEN0cmwnLFxuICAgICAgICBjb250cm9sbGVyQXM6ICdjb250YWN0JyxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHRpdGxlOiAnTkFWX0NPTlRBQ1QnXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuc3RhdGUoJ3NldHRpbmdzJywge1xuICAgICAgICB1cmw6ICcvc2V0dGluZ3MnLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ3NldHRpbmdzL3NldHRpbmdzLmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnU2V0dGluZ3NDdHJsJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAnc2V0dGluZ3MnLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdGl0bGU6ICdOQVZfU0VUVElOR1MnXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuc3RhdGUoJ2FkbWluJywge1xuICAgICAgICB1cmw6ICcvYWRtaW4nLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ2FkbWluL2FkbWluLmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnQWRtaW5DdHJsJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAnYWRtaW4nLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdGl0bGU6ICdBZG1pbidcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vICRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKTtcbiAgICAgICRsb2NhdGlvblByb3ZpZGVyLmhhc2hQcmVmaXgoJyEnKTtcbiAgfVxufSkoKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
